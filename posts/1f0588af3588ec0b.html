<!DOCTYPE html>
<html>
<head>
    

    

    



    <meta charset="utf-8">
    
    
    
    
    <title>Whoosh搜索引擎的安装与配置 | 画星星高手 | 我想要画很多很多星星，用温暖微弱的光，照亮你的每个夜晚。</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    
    <meta name="theme-color" content="#3F51B5">
    
    
    <meta name="keywords" content="安装,配置">
    <meta name="description" content="Whoosh介绍 Whoosh is a library of classes and functions for indexing text and then searching the index. It allows you to develop custom search engines for your content. For example, if you were creating">
<meta property="og:type" content="article">
<meta property="og:title" content="Whoosh搜索引擎的安装与配置">
<meta property="og:url" content="http://blog.deali.cn/posts/1f0588af3588ec0b.html">
<meta property="og:site_name" content="画星星高手">
<meta property="og:description" content="Whoosh介绍 Whoosh is a library of classes and functions for indexing text and then searching the index. It allows you to develop custom search engines for your content. For example, if you were creating">
<meta property="og:locale" content="cn">
<meta property="article:published_time" content="2020-03-02T02:27:53.000Z">
<meta property="article:modified_time" content="2020-03-02T04:06:25.391Z">
<meta property="article:author" content="画星星高手">
<meta property="article:tag" content="安装">
<meta property="article:tag" content="配置">
<meta name="twitter:card" content="summary">
    
        <link rel="alternate" type="application/atom+xml" title="画星星高手" href="/atom.xml">
    
    <link rel="shortcut icon" href="/favicon.ico">
    <link rel="stylesheet" href="//unpkg.com/hexo-theme-material-indigo@latest/css/style.css">
    <script>window.lazyScripts=[]</script>

    <!-- custom head -->
    

<meta name="generator" content="Hexo 4.2.0"></head>

<body>
    <div id="loading" class="active"></div>

    <aside id="menu"  >
  <div class="inner flex-row-vertical">
    <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menu-off">
        <i class="icon icon-lg icon-close"></i>
    </a>
    <div class="brand-wrap" style="background-image:url(/img/brand.jpg)">
      <div class="brand">
        <a href="/" class="avatar waves-effect waves-circle waves-light">
          <img src="/img/avatar.jpg">
        </a>
        <hgroup class="introduce">
          <h5 class="nickname">画星星高手</h5>
          <a href="mailto:feedback@deali.cn" title="feedback@deali.cn" class="mail">feedback@deali.cn</a>
        </hgroup>
      </div>
    </div>
    <div class="scroll-wrap flex-col">
      <ul class="nav">
        
            <li class="waves-block waves-effect">
              <a href="/"  >
                <i class="icon icon-lg icon-home"></i>
                主页
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/archives"  >
                <i class="icon icon-lg icon-archives"></i>
                存档
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/tags"  >
                <i class="icon icon-lg icon-tags"></i>
                标签
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/categories"  >
                <i class="icon icon-lg icon-th-list"></i>
                分类
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="https://github.com/Deali-Axy" target="_blank" >
                <i class="icon icon-lg icon-github"></i>
                Github
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="http://www.weibo.com/axy12" target="_blank" >
                <i class="icon icon-lg icon-weibo"></i>
                Weibo
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="https://zhuanlan.zhihu.com/deali" target="_blank" rel="noopener"  >
                <i class="icon icon-lg icon-address-book"></i>
                知乎专栏
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="https://www.zhihu.com/people/dealiaxy" target="_blank" rel="noopener"  >
                <i class="icon icon-lg icon-address-card"></i>
                知乎主页
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="https://live.bilibili.com/11883038" target="_blank" rel="noopener"  >
                <i class="icon icon-lg icon-tv"></i>
                直播间
              </a>
            </li>
        
      </ul>
    </div>
  </div>
</aside>

    <main id="main">
        <header class="top-header" id="header">
    <div class="flex-row">
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light on" id="menu-toggle">
          <i class="icon icon-lg icon-navicon"></i>
        </a>
        <div class="flex-col header-title ellipsis">Whoosh搜索引擎的安装与配置</div>
        
        <div class="search-wrap" id="search-wrap">
            <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="back">
                <i class="icon icon-lg icon-chevron-left"></i>
            </a>
            <input type="text" id="key" class="search-input" autocomplete="off" placeholder="Search">
            <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="search">
                <i class="icon icon-lg icon-search"></i>
            </a>
        </div>
        
        
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menuShare">
            <i class="icon icon-lg icon-share-alt"></i>
        </a>
        
    </div>
</header>
<header class="content-header post-header">

    <div class="container fade-scale">
        <h1 class="title">Whoosh搜索引擎的安装与配置</h1>
        <h5 class="subtitle">
            
                <time datetime="2020-03-02T02:27:53.000Z" itemprop="datePublished" class="page-time">
  2020-03-02
</time>


	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E/">搜索引擎</a></li></ul>

            
        </h5>
    </div>

    


</header>


<div class="container body-wrap">
    
    <aside class="post-widget">
        <nav class="post-toc-wrap post-toc-shrink" id="post-toc">
            <h4>TOC</h4>
            <ol class="post-toc"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#Whoosh介绍"><span class="post-toc-number">1.</span> <span class="post-toc-text">Whoosh介绍</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#Whoosh安装"><span class="post-toc-number">2.</span> <span class="post-toc-text">Whoosh安装</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#直接使用pip安装即可："><span class="post-toc-number">2.1.</span> <span class="post-toc-text">直接使用pip安装即可：</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#也可以从源码安装："><span class="post-toc-number">2.2.</span> <span class="post-toc-text">也可以从源码安装：</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#快速入门"><span class="post-toc-number">3.</span> <span class="post-toc-text">快速入门</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#建立索引和模式对象"><span class="post-toc-number">4.</span> <span class="post-toc-text">建立索引和模式对象</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#定义索引模式"><span class="post-toc-number">4.1.</span> <span class="post-toc-text">定义索引模式</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#定义索引模式对象"><span class="post-toc-number">4.2.</span> <span class="post-toc-text">定义索引模式对象</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#索引字段类型"><span class="post-toc-number">4.3.</span> <span class="post-toc-text">索引字段类型</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#官方文档"><span class="post-toc-number">4.4.</span> <span class="post-toc-text">官方文档</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#选择索引存储目录"><span class="post-toc-number">4.5.</span> <span class="post-toc-text">选择索引存储目录</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#保存索引数据"><span class="post-toc-number">5.</span> <span class="post-toc-text">保存索引数据</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#注意事项"><span class="post-toc-number">5.1.</span> <span class="post-toc-text">注意事项</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#官方文档-1"><span class="post-toc-number">5.2.</span> <span class="post-toc-text">官方文档</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#开始搜索"><span class="post-toc-number">6.</span> <span class="post-toc-text">开始搜索</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#写在后面"><span class="post-toc-number">7.</span> <span class="post-toc-text">写在后面</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#欢迎与我交流"><span class="post-toc-number">8.</span> <span class="post-toc-text">欢迎与我交流</span></a></li></ol>
        </nav>
    </aside>


<article id="post-5394de470e28e2cd2d1e8c62989c9419"
  class="post-article article-type-post fade" itemprop="blogPost">

    <div class="post-card">
        <h1 class="post-card-title">Whoosh搜索引擎的安装与配置</h1>
        <div class="post-meta">
            <time class="post-time" title="2020-03-02 10:27:53" datetime="2020-03-02T02:27:53.000Z"  itemprop="datePublished">2020-03-02</time>

            
	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E/">搜索引擎</a></li></ul>



            
<span id="busuanzi_container_page_pv" title="文章总阅读量" style='display:none'>
    <i class="icon icon-eye icon-pr"></i><span id="busuanzi_value_page_pv"></span>
</span>


        </div>
        <div class="post-content" id="post-content" itemprop="postContent">
            <h2 id="Whoosh介绍"><a href="#Whoosh介绍" class="headerlink" title="Whoosh介绍"></a>Whoosh介绍</h2><blockquote>
<p>Whoosh is a library of classes and functions for indexing text and then searching the index. It allows you to develop custom search engines for your content. For example, if you were creating blogging software, you could use Whoosh to add a search function to allow users to search blog entries.</p>
</blockquote>
<p>Whoosh是一个由python实现的全文检索引擎，设计上参照了<code>Lucene</code>，配置和使用都比较方便，不过性能就不是很理想了，不过用在小型网站或者是测试场景下还是可以滴~</p>
<p>本文介绍一下whoosh最基本的安装和使用方法，欲了解详情，请访问官方网站哈~</p>
<p>官方文档：<a href="https://whoosh.readthedocs.io/en/latest/quickstart.html" target="_blank" rel="noopener">https://whoosh.readthedocs.io/en/latest/quickstart.html</a></p>
<h2 id="Whoosh安装"><a href="#Whoosh安装" class="headerlink" title="Whoosh安装"></a>Whoosh安装</h2><h3 id="直接使用pip安装即可："><a href="#直接使用pip安装即可：" class="headerlink" title="直接使用pip安装即可："></a>直接使用pip安装即可：</h3><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip <span class="keyword">install</span> whoosh</span><br></pre></td></tr></table></figure>

<h3 id="也可以从源码安装："><a href="#也可以从源码安装：" class="headerlink" title="也可以从源码安装："></a>也可以从源码安装：</h3><p>详情见项目主页：<a href="https://pypi.python.org/pypi/Whoosh/" target="_blank" rel="noopener">https://pypi.python.org/pypi/Whoosh/</a></p>
<h2 id="快速入门"><a href="#快速入门" class="headerlink" title="快速入门"></a>快速入门</h2><p>看一下官方的快速入门例子：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; from whoosh.index import create_in</span><br><span class="line">&gt;&gt;&gt; from whoosh.fields import *</span><br><span class="line">&gt;&gt;&gt; schema = Schema(title=TEXT(stored=True), path=ID(stored=True), content=TEXT)</span><br><span class="line">&gt;&gt;&gt; ix = create_in(<span class="string">"indexdir"</span>, schema)</span><br><span class="line">&gt;&gt;&gt; writer = ix.writer()</span><br><span class="line">&gt;&gt;&gt; writer.add_document(title=u<span class="string">"First document"</span>, path=u<span class="string">"/a"</span>,</span><br><span class="line">...                     content=u<span class="string">"This is the first document we've added!"</span>)</span><br><span class="line">&gt;&gt;&gt; writer.add_document(title=u<span class="string">"Second document"</span>, path=u<span class="string">"/b"</span>,</span><br><span class="line">...                     content=u<span class="string">"The second one is even more interesting!"</span>)</span><br><span class="line">&gt;&gt;&gt; writer.commit()</span><br><span class="line">&gt;&gt;&gt; from whoosh.qparser import QueryParser</span><br><span class="line">&gt;&gt;&gt; with ix.searcher() as searcher:</span><br><span class="line">...     query = QueryParser(<span class="string">"content"</span>, ix.schema).parse(<span class="string">"first"</span>)</span><br><span class="line">...     results = searcher.search(query)</span><br><span class="line">...     results[0]</span><br><span class="line">...</span><br><span class="line">&#123;<span class="string">"title"</span>: u<span class="string">"First document"</span>, <span class="string">"path"</span>: u<span class="string">"/a"</span>&#125;</span><br></pre></td></tr></table></figure>

<h2 id="建立索引和模式对象"><a href="#建立索引和模式对象" class="headerlink" title="建立索引和模式对象"></a>建立索引和模式对象</h2><h3 id="定义索引模式"><a href="#定义索引模式" class="headerlink" title="定义索引模式"></a>定义索引模式</h3><p>首先要定义索引模式，以字段的形式列在索引中：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> whoosh.fields <span class="keyword">import</span> *</span><br><span class="line">schema = Schema(title=TEXT, path=ID, content=TEXT)</span><br></pre></td></tr></table></figure>

<p>其中，<code>title</code>、<code>path</code>、<code>content</code>就是字段(field)、每个字段对应索引查找目标文件的一部分信息，上面的代码就是定义索引的模式——索引内容包括<code>title</code>、<code>path</code>、<code>content</code>这三个字段，一个字段建立了索引就能被搜索到，也能被存储。</p>
<p>下面的代码和上面的代码是等价的：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">schema = Schema(title=TEXT(stored=<span class="literal">True</span>), path=ID(stored=<span class="literal">True</span>), content=TEXT)</span><br></pre></td></tr></table></figure>

<p>在字段后面添加了参数(stored=True)，意味着将返回该字段的搜索结果。</p>
<p>这样就把索引模式建立好了，只要建立一次就好了，不用重复建立，索引模式一旦建立就会随索引保存。</p>
<h3 id="定义索引模式对象"><a href="#定义索引模式对象" class="headerlink" title="定义索引模式对象"></a>定义索引模式对象</h3><p>索引模式对象就是一个继承自<code>SchemaClass</code>的类，例子如下：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> whoosh.fields <span class="keyword">import</span> SchemaClass, TEXT, KEYWORD, ID, STORED</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TestSchema</span><span class="params">(SchemaClass)</span>:</span></span><br><span class="line">    path = ID(stored=<span class="literal">True</span>)</span><br><span class="line">    title = TEXT(stored=<span class="literal">True</span>)</span><br><span class="line">    content = TEXT</span><br><span class="line">    tags = KEYWORD</span><br></pre></td></tr></table></figure>

<h3 id="索引字段类型"><a href="#索引字段类型" class="headerlink" title="索引字段类型"></a>索引字段类型</h3><p>在上面的例子中，<code>title = TEXT(stored=True)</code>，<code>title</code>是字段名称，<code>TEXT</code>是字段类型。</p>
<p>whoosh有下面这些字段类型，可以在建立索引模式的时候用：</p>
<ul>
<li>whoosh.fields.ID：仅能为一个单元值，即不能分割为若干个词，通常用于诸如文件路径，URL，日期，分类。</li>
<li>whoosh.fields.STORED：该字段随文件保存，但是不能被索引，也不能被查询。常用于显示文件信息。</li>
<li>whoosh.fields.KEYWORD：用空格或者逗号（半角）分割的关键词，可被索引和搜索。为了节省空间，不支持词汇搜索。</li>
<li>whoosh.fields.TEXT：文件的文本内容。建立文本的索引并存储，支持词汇搜索。</li>
<li>whoosh.fields.NUMERIC：数字类型，保存整数或浮点数。</li>
<li>whoosh.fields.BOOLEAN：布尔类值</li>
<li>whoosh.fields.DATETIME：时间对象类型</li>
</ul>
<h3 id="官方文档"><a href="#官方文档" class="headerlink" title="官方文档"></a>官方文档</h3><p><a href="https://pythonhosted.org/Whoosh/schema.html" target="_blank" rel="noopener">https://pythonhosted.org/Whoosh/schema.html</a></p>
<h3 id="选择索引存储目录"><a href="#选择索引存储目录" class="headerlink" title="选择索引存储目录"></a>选择索引存储目录</h3><p>建立好索引模式之后，要选择一个文件夹来保存搜索引擎建立的索引数据。代码如下：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os.path</span><br><span class="line"><span class="keyword">from</span> whoosh.index <span class="keyword">import</span> create_in</span><br><span class="line"><span class="keyword">from</span> whoosh.index <span class="keyword">import</span> open_dir</span><br><span class="line"></span><br><span class="line">schema = fields.Schema(title=TEXT(stored=<span class="literal">True</span>), path=ID(stored=<span class="literal">True</span>), content=TEXT)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> <span class="keyword">not</span> os.path.exists(<span class="string">'index_data'</span>):     <span class="comment">#如果目录 index_data 不存在则创建</span></span><br><span class="line">    os.mkdir(<span class="string">'index_data'</span>) </span><br><span class="line">ix = create_in(<span class="string">"index_data"</span>,schema)      <span class="comment">#按照之前创建的schema模式建立索引目录</span></span><br><span class="line">ix = open_dir(<span class="string">"index_data"</span>)　            <span class="comment">#打开该目录一遍存储索引文件</span></span><br></pre></td></tr></table></figure>

<p>上例中，用<code>create_in</code>创建一个具有前述索引模式的索引存储目录对象，所有的索引将被保存在该目录<code>index_data</code>中。</p>
<p>之后，用<code>open_dir</code>打开这个目录。</p>
<h2 id="保存索引数据"><a href="#保存索引数据" class="headerlink" title="保存索引数据"></a>保存索引数据</h2><p>代码如下：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">writer = ix.writer()</span><br><span class="line">writer.add_document(title=<span class="string">u"my document"</span>, content=<span class="string">u"this is my document"</span>, path=<span class="string">u"/a"</span>, tags=<span class="string">u"firlst short"</span>)</span><br><span class="line">writer.add_document(title=<span class="string">u"my second document"</span>, content=<span class="string">u"this is my second document"</span>, path=<span class="string">u"/b"</span>, tags=<span class="string">u"second short"</span>)</span><br><span class="line">writer.commit()</span><br></pre></td></tr></table></figure>

<h3 id="注意事项"><a href="#注意事项" class="headerlink" title="注意事项"></a>注意事项</h3><ul>
<li>字段的值必须是unicode</li>
<li>不是每个字段都必须赋值</li>
</ul>
<h3 id="官方文档-1"><a href="#官方文档-1" class="headerlink" title="官方文档"></a>官方文档</h3><p><a href="https://pythonhosted.org/Whoosh/indexing.html" target="_blank" rel="noopener">https://pythonhosted.org/Whoosh/indexing.html</a></p>
<h2 id="开始搜索"><a href="#开始搜索" class="headerlink" title="开始搜索"></a>开始搜索</h2><ul>
<li>建立搜索对象</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">searcher = ix.searcher()</span><br></pre></td></tr></table></figure>

<ul>
<li>搜索完了要记得关闭</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">searcher.close()</span><br></pre></td></tr></table></figure>

<ul>
<li>推荐用下面这种写法</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">withe ix.searcher() <span class="keyword">as</span> searcher:</span><br><span class="line">    (do somthing)</span><br></pre></td></tr></table></figure>

<p>或者</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    searcher = ix.searcher()</span><br><span class="line">    (do somthing)</span><br><span class="line"><span class="keyword">finally</span>:</span><br><span class="line">    searcher.close()</span><br></pre></td></tr></table></figure>

<ul>
<li>开始搜索</li>
</ul>
<p>以搜索content为例子</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> whoosh.qparser <span class="keyword">import</span> QueryParser</span><br><span class="line"><span class="keyword">with</span> ix.searcher() <span class="keyword">as</span> searcher:</span><br><span class="line">    query = QueryParser(<span class="string">"content"</span>,ix.schema).parse(<span class="string">"second"</span>)</span><br><span class="line">    result = searcher.search(query)</span><br><span class="line">    results[<span class="number">0</span>]</span><br></pre></td></tr></table></figure>

<p>返回结果：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;<span class="attr">"title"</span>:u<span class="string">"my second document"</span>,<span class="attr">"path"</span>:u<span class="string">"/a"</span>&#125;</span><br></pre></td></tr></table></figure>

<h2 id="写在后面"><a href="#写在后面" class="headerlink" title="写在后面"></a>写在后面</h2><p>到这里基本就ok啦，但是whoosh，或者说是全文检索引擎的使用和原理还远远不止这些，我会在后面的博客中介绍从零开始编写一个搜索引擎的方法，有兴趣的同学可以继续关注，一起学习哈~</p>
<p>本文的结构和部分内容参考了<strong>老齐</strong>老师的博客，在此表示感谢~</p>
<h2 id="欢迎与我交流"><a href="#欢迎与我交流" class="headerlink" title="欢迎与我交流"></a>欢迎与我交流</h2><ul>
<li>打代码直播间：<a href="https://live.bilibili.com/11883038" target="_blank" rel="noopener">https://live.bilibili.com/11883038</a></li>
<li>微信公众号：DealiAxy</li>
<li>知乎：<a href="https://www.zhihu.com/people/dealiaxy" target="_blank" rel="noopener">https://www.zhihu.com/people/dealiaxy</a></li>
<li>博客：<a href="https://blog.deali.cn">https://blog.deali.cn</a></li>
<li>简书：<a href="https://www.jianshu.com/u/965b95853b9f" target="_blank" rel="noopener">https://www.jianshu.com/u/965b95853b9f</a></li>
</ul>

        </div>

        <blockquote class="post-copyright">
    
    <div class="content">
        
<span class="post-time">
    Last updated: <time datetime="2020-03-02T04:06:25.391Z" itemprop="dateUpdated">2020-03-02 12:06:25</time>
</span><br>


        
        <br />喜欢看技术文可以关注公众号【程序设计实验室】<br /><br />想看我的生活分享可以关注公众号【画星星高手】
        
    </div>
    
    <footer>
        <a href="http://blog.deali.cn">
            <img src="/img/avatar.jpg" alt="画星星高手">
            画星星高手
        </a>
    </footer>
</blockquote>

        
<div class="page-reward">
    <a id="rewardBtn" href="javascript:;" class="page-reward-btn waves-effect waves-circle waves-light">赏</a>
</div>



        <div class="post-footer">
            
	<ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%AE%89%E8%A3%85/" rel="tag">安装</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E9%85%8D%E7%BD%AE/" rel="tag">配置</a></li></ul>


            
<div class="page-share-wrap">
    

<div class="page-share" id="pageShare">
    <ul class="reset share-icons">
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=http://blog.deali.cn/posts/1f0588af3588ec0b.html&title=《Whoosh搜索引擎的安装与配置》 — 画星星高手&pic=http://blog.deali.cn/img/avatar.jpg" data-title="微博">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=http://blog.deali.cn/posts/1f0588af3588ec0b.html&title=《Whoosh搜索引擎的安装与配置》 — 画星星高手&source=画星星高手，DealiAxy的个人博客，微信公众号1：画星星高手，公众号2：程序设计实验室" data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=http://blog.deali.cn/posts/1f0588af3588ec0b.html" data-title=" Facebook">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《Whoosh搜索引擎的安装与配置》 — 画星星高手&url=http://blog.deali.cn/posts/1f0588af3588ec0b.html&via=http://blog.deali.cn" data-title=" Twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=http://blog.deali.cn/posts/1f0588af3588ec0b.html" data-title=" Google+">
          <i class="icon icon-google-plus"></i>
        </a>
      </li>
    </ul>
 </div>



    <a href="javascript:;" id="shareFab" class="page-share-fab waves-effect waves-circle">
        <i class="icon icon-share-alt icon-lg"></i>
    </a>
</div>



        </div>
    </div>

    
<nav class="post-nav flex-row flex-justify-between">
  
    <div class="waves-block waves-effect prev">
      <a href="/posts/471881b92e96db52.html" id="post-prev" class="post-nav-link">
        <div class="tips"><i class="icon icon-angle-left icon-lg icon-pr"></i> Prev</div>
        <h4 class="title">python：解决json-dump中文乱码问题</h4>
      </a>
    </div>
  

  
    <div class="waves-block waves-effect next">
      <a href="/posts/14b53f2797cc08f7.html" id="post-next" class="post-nav-link">
        <div class="tips">Next <i class="icon icon-angle-right icon-lg icon-pl"></i></div>
        <h4 class="title">【开源】发布一个基于JavaFX的小游戏：CrazyAlpha</h4>
      </a>
    </div>
  
</nav>



    




















</article>

<div id="reward" class="page-modal reward-lay">
    <a class="close" href="javascript:;"><i class="icon icon-close"></i></a>
    <h3 class="reward-title">
        <i class="icon icon-quote-left"></i>
        微信公众号
        <i class="icon icon-quote-right"></i>
    </h3>
    <div class="reward-content">
        
        <div class="reward-code">
            <img id="rewardCode" src="/img/wechat.jpg" alt="打赏二维码">
        </div>
        
        <label class="reward-toggle">
            <input id="rewardToggle" type="checkbox" class="reward-toggle-check"
                data-wechat="/img/wechat.jpg" data-alipay="/img/alipay.jpg">
            <div class="reward-toggle-ctrol">
                <span class="reward-toggle-item wechat">微信</span>
                <span class="reward-toggle-label"></span>
                <span class="reward-toggle-item alipay">支付宝</span>
            </div>
        </label>
        
    </div>
</div>



</div>

        <footer class="footer">
    <div class="top">
        
<p>
    <span id="busuanzi_container_site_uv" style='display:none'>
        站点总访客数：<span id="busuanzi_value_site_uv"></span>
    </span>
    <span id="busuanzi_container_site_pv" style='display:none'>
        站点总访问量：<span id="busuanzi_value_site_pv"></span>
    </span>
</p>


        <p>
            
                <span><a href="/atom.xml" target="_blank" class="rss" title="rss"><i class="icon icon-lg icon-rss"></i></a></span>
            
            <span>This blog is licensed under a <a rel="license noopener" href="https://creativecommons.org/licenses/by/4.0/" target="_blank">Creative Commons Attribution 4.0 International License</a>.</span>
        </p>
    </div>
    <div class="bottom">
        <p><span>画星星高手 &copy; 2015 - 2020</span>
            <span>
                
                Power by <a href="http://hexo.io/" target="_blank">Hexo</a> Theme <a href="https://github.com/yscoder/hexo-theme-indigo" target="_blank">indigo</a>
            </span>
        </p>
    </div>
</footer>

    </main>
    <div class="mask" id="mask"></div>
<a href="javascript:;" id="gotop" class="waves-effect waves-circle waves-light"><span class="icon icon-lg icon-chevron-up"></span></a>



<div class="global-share" id="globalShare">
    <ul class="reset share-icons">
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=http://blog.deali.cn/posts/1f0588af3588ec0b.html&title=《Whoosh搜索引擎的安装与配置》 — 画星星高手&pic=http://blog.deali.cn/img/avatar.jpg" data-title="微博">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=http://blog.deali.cn/posts/1f0588af3588ec0b.html&title=《Whoosh搜索引擎的安装与配置》 — 画星星高手&source=画星星高手，DealiAxy的个人博客，微信公众号1：画星星高手，公众号2：程序设计实验室" data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=http://blog.deali.cn/posts/1f0588af3588ec0b.html" data-title=" Facebook">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《Whoosh搜索引擎的安装与配置》 — 画星星高手&url=http://blog.deali.cn/posts/1f0588af3588ec0b.html&via=http://blog.deali.cn" data-title=" Twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=http://blog.deali.cn/posts/1f0588af3588ec0b.html" data-title=" Google+">
          <i class="icon icon-google-plus"></i>
        </a>
      </li>
    </ul>
 </div>


<div class="page-modal wx-share" id="wxShare">
    <a class="close" href="javascript:;"><i class="icon icon-close"></i></a>
    <p>扫一扫，分享到微信</p>
    <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMYAAADGCAAAAACs8KCBAAACOklEQVR42u3aS27DMAxF0ex/0+60QeDkPlJpIfFqFBSuq5MBy9/jgc/167z+nDx/97uvz9y9c8GRIUPGtozr7bl7hr+ZfBF3YHI3GTJkzGGQS3Sum8ZJfjcZMmTIqH1O08raO2XIkCEjfR0pSt+H43/7vyFDhoxNGLUUjZS4ta/ji7W4DBkyNmTUGmd/8/kr8w0ZMmRsxbjCQxK+ValhcCsZMmQczeABrjOAJAMAUlR/uI8MGTIGMHiixgPr+zfUGnao3SZDhoyDGPyPkeYab7etGmc+ZbgyZMgYw0hDJ08c0yFoMOyUIUPGGAa5VjrC5KVvp2yWIUPGBEYtUKZgXlXHbBkyZBzN6LTsCT4dGJDm3YemmwwZMgYwyNIDX4/oJJrLRpgyZMjYnEGCGm+Q8YSPhNQgYZUhQ8YARq2UJeE1XdpIh6kyZMiYxljVuK89X1s1e0oNZciQcTSjU7imDTvePlu2MyJDhowjGGlrrNP65wtnrWULGTJkHMQg48n0dXw8ma6RobJWhgwZhzJqaxZoAaKUFNYWOGTIkDGB0QmIfOjI22rxTWTIkDGAkaZo6cJEEDrxgEGGDBkTGFd4+HgyHTDU1jVQXJchQ8bmDH5qITgtgEnjr7bqIUOGjN0ZvGhMR4xpIy8NuDJkyJjGqA01eeOsE4LJrWTIkCGDMGprZCQRREWsDBkyZIR/nieanQC9LODKkCFjE0ZnJYK3yYpT1rXtNhkyZGzISEvHbwTNBUWsDBkyzmT8AHbviYdVsI2oAAAAAElFTkSuQmCC" alt="微信分享二维码">
</div>




    <script src="//cdn.bootcss.com/node-waves/0.7.4/waves.min.js"></script>
<script>
var BLOG = { ROOT: '/', SHARE: true, REWARD: true };


</script>

<script src="//unpkg.com/hexo-theme-material-indigo@latest/js/main.min.js"></script>


<div class="search-panel" id="search-panel">
    <ul class="search-result" id="search-result"></ul>
</div>
<template id="search-tpl">
<li class="item">
    <a href="{path}" class="waves-block waves-effect">
        <div class="title ellipsis" title="{title}">{title}</div>
        <div class="flex-row flex-middle">
            <div class="tags ellipsis">
                {tags}
            </div>
            <time class="flex-col time">{date}</time>
        </div>
    </a>
</li>
</template>

<script src="//unpkg.com/hexo-theme-material-indigo@latest/js/search.min.js" async></script>






<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>



<script>
(function() {
    var OriginTitile = document.title, titleTime;
    document.addEventListener('visibilitychange', function() {
        if (document.hidden) {
            document.title = '死鬼去哪里了！';
            clearTimeout(titleTime);
        } else {
            document.title = '(つェ⊂)咦!又好了!';
            titleTime = setTimeout(function() {
                document.title = OriginTitile;
            },2000);
        }
    });
})();
</script>



</body>
</html>
