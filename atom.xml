<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>画星星高手</title>
  
  <subtitle>我想要画很多很多星星，用温暖微弱的光，照亮你的每个夜晚。</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://blog.deali.cn/"/>
  <updated>2020-03-02T03:23:43.868Z</updated>
  <id>http://blog.deali.cn/</id>
  
  <author>
    <name>画星星高手</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>“计算机科学概论”系列，集齐三本，召唤神龙！</title>
    <link href="http://blog.deali.cn/posts/1bfa1528e1546de4.html"/>
    <id>http://blog.deali.cn/posts/1bfa1528e1546de4.html</id>
    <published>2020-03-02T02:27:53.000Z</published>
    <updated>2020-03-02T03:23:43.868Z</updated>
    
    <content type="html"><![CDATA[<h2 id="hello-world"><a href="#hello-world" class="headerlink" title="hello world"></a>hello world</h2><p>号称是“蹲马桶就能看懂的计算机基础知识”的这个“计算机科学概论”系列图书，都来自于日本，当时我买的第一本是《网络是怎样连接的》，看了几页，就感觉这书和其他日本作者的书风格很相似，语言很活泼生动，讲解得很详细，和西方作者的书味道完全不一样，国内的书就更不用比了。<br>所以最近就入手了这个系列的另外两本，把这个系列集齐了，嘿嘿~<br>记得之前看过鸟哥写的《Linux私房菜》，很喜欢这样的风格，明明是技术书，却和小说一样有趣。</p><h2 id="附上图片"><a href="#附上图片" class="headerlink" title="附上图片"></a>附上图片</h2><img src="/posts/1bfa1528e1546de4/8869373-4c6d5b7931328880.png" class=""><img src="/posts/1bfa1528e1546de4/8869373-a7e382379193dffe.png" class=""><p>溜了溜了，看书去~<br>告辞</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="http://upload-images.jianshu.io/upload_images/8869373-ca5e07d1bf83b5e5?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image" title="">                </div>                <div class="image-caption">image</div>            </figure><h2 id="About"><a href="#About" class="headerlink" title="About"></a>About</h2><img src="/posts/1bfa1528e1546de4/8869373-901590e019f6f85b.png" class="">]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;hello-world&quot;&gt;&lt;a href=&quot;#hello-world&quot; class=&quot;headerlink&quot; title=&quot;hello world&quot;&gt;&lt;/a&gt;hello world&lt;/h2&gt;&lt;p&gt;号称是“蹲马桶就能看懂的计算机基础知识”的这个“计算机科学概论”系列
      
    
    </summary>
    
    
      <category term="书单" scheme="http://blog.deali.cn/categories/%E4%B9%A6%E5%8D%95/"/>
    
    
      <category term="召唤" scheme="http://blog.deali.cn/tags/%E5%8F%AC%E5%94%A4/"/>
    
      <category term="集齐" scheme="http://blog.deali.cn/tags/%E9%9B%86%E9%BD%90/"/>
    
      <category term="三本" scheme="http://blog.deali.cn/tags/%E4%B8%89%E6%9C%AC/"/>
    
      <category term="计算机科学" scheme="http://blog.deali.cn/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/"/>
    
      <category term="概论" scheme="http://blog.deali.cn/tags/%E6%A6%82%E8%AE%BA/"/>
    
  </entry>
  
  <entry>
    <title>编写爬虫自动下载王者荣耀官网上好看的壁纸</title>
    <link href="http://blog.deali.cn/posts/5fb938785374b27b.html"/>
    <id>http://blog.deali.cn/posts/5fb938785374b27b.html</id>
    <published>2020-03-02T02:27:53.000Z</published>
    <updated>2020-03-02T03:23:43.720Z</updated>
    
    <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>偶然间发现王者荣耀的官网上发布了这么多好看的壁纸。<br>地址:<a href="http://pvp.qq.com/web201605/wallpaper.shtml" target="_blank" rel="noopener">http://pvp.qq.com/web201605/wallpaper.shtml</a><br>看了一下，每一张都挺喜欢的，而且还有十多页，一张一张去慢慢下载肯定不是作为一个Geeker的正确姿势。<br>由于最近<code>python</code>用得比较多，所以看到什么好玩的就想爬虫下载下来，所以看到这么多好看图片，我又“熟练”地掏出了<code>python</code>。</p><h2 id="分析"><a href="#分析" class="headerlink" title="分析"></a>分析</h2><p>这个网站长这样。</p><img src="/posts/5fb938785374b27b/8869373-f32d76f603857298.png" class=""><p>首先对腾讯这个网站进行分析。</p><p>这个每一个小图对应的<code>div</code></p><img src="/posts/5fb938785374b27b/8869373-61819ae7225767cf.png" class=""><p><code>&lt;ul&gt;</code>标签里面的列表就是各个尺寸的图片地址。</p><img src="/posts/5fb938785374b27b/8869373-4d8bf74f0fed0be6.png" class=""><p>那么既然是直接有图片地址那就很简单了，把网页的代码下载下来，然后用<code>lxml</code>匹配一下图片的名称和各个尺寸的图片地址，就OK了。</p><h2 id="然而"><a href="#然而" class="headerlink" title="然而"></a>然而</h2><p>没错，事情没有这么简单，腾讯毕竟是大厂，他的网站岂是你想爬就能爬的？？</p><p>在准备写代码的时候又发现了一个问题。<br>我要先把每一页的地址都保存起来，这样才可以一次性爬取所有图片。</p><img src="/posts/5fb938785374b27b/8869373-c068c4f46bcb566f.png" class=""><p>那么，只要分析这个每一页的超链接地址就行。<br>然鹅。</p><img src="/posts/5fb938785374b27b/8869373-2043f29e28d21490.png" class=""><p>excuse me???<br>你可能在逗我，地址呢？？<br>居然是调用了js函数，很气。<br>这样我岂不是还得找一下对应的js代码在哪里。</p><hr><p>然后，就开始找js代码，找了半天也没找到这个<code>PageToIndex</code>的js函数到底藏在那个文件里。<br>就在我想要换别的爬虫方式的时候，有个大佬来到实验室，我向大佬请教了一番，大佬果然是大佬，一下子就把问题解决了。</p><h2 id="解决"><a href="#解决" class="headerlink" title="解决"></a>解决</h2><p>经过大佬提醒，我不再纠结于找js代码，而是直接抓包，果然没有什么是抓包解决不了的。<br>果然，在点击第二页之后，抓到了这个：</p><img src="/posts/5fb938785374b27b/8869373-55d696d1f0346f6b.png" class=""><p>来看一下里面有什么：</p><img src="/posts/5fb938785374b27b/8869373-ade44aa19b6e1a24.png" class=""><p>看到<code>List</code>了！还有这些，这不就是我们要的下载的图片地址吗？？？</p><img src="/posts/5fb938785374b27b/8869373-9c488cd845199ad2.png" class=""><p>大佬出手不凡，这下连爬虫都不用了，我们以及发现了腾讯这个网站获取壁纸的接口了，直接构造请求调用就行了。</p><h2 id="调用接口"><a href="#调用接口" class="headerlink" title="调用接口"></a>调用接口</h2><p>来分析一下这个接口要怎么使用。<br>继续看刚刚抓到的数据：</p><img src="/posts/5fb938785374b27b/8869373-cec4ca68a4a78612.png" class=""><p>这里就是接口地址，还有HTTP方法。由于使用了Get方法，所以可以直接把整个URL复制下来然后构造请求参数。<br>不过这个URL太长了，看着头晕，所以看这个参数表吧。</p><img src="/posts/5fb938785374b27b/8869373-2a5c246003294b15.png" class=""><p>这个参数也是很好懂，要不同的页面就给<code>page</code>传入不同的数字就行，0就是第一页。</p><h2 id="测试一下接口"><a href="#测试一下接口" class="headerlink" title="测试一下接口"></a>测试一下接口</h2><p>把这串长长的URL复制到浏览器里打开，就得到一串长长的Json结果。</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">jQuery171004025214512043873_1513834808059(&#123;"iBltFlag":"0","iCache":"1","iRet":"0","iTotalLines":"241","iTotalPages":"13","sMsg":"Successful","List":[&#123;"dtInputDT":"2017%2D10%2D23%2014%3A20%3A08","iBallotNum":"0","iClickNum":"0","iDownloadNum":"0","iNonsupportNum":"0","iProdId":"636","iStatus":"1","sProdDesc_1":"","sProdDesc_2":"","sProdDesc_3":"","sProdDesc_4":"","sProdDesc_5":"","sProdDesc_6":"","sProdDesc_7":"","sProdDesc_8":"","sProdImgNo_1":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735102314%2F1508739607%5F1644740874%5F13023%5FsProdImgNo%5F1%2Ejpg%2F200","sProdImgNo_2":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735102314%2F1508739607%5F1644740874%5F13023%5FsProdImgNo%5F2%2Ejpg%2F200","sProdImgNo_3":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735102314%2F1508739607%5F1644740874%5F13023%5FsProdImgNo%5F3%2Ejpg%2F200","sProdImgNo_4":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735102314%2F1508739607%5F1644740874%5F13023%5FsProdImgNo%5F4%2Ejpg%2F200","sProdImgNo_5":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735102314%2F1508739607%5F1644740874%5F13023%5FsProdImgNo%5F5%2Ejpg%2F200","sProdImgNo_6":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735102314%2F1508739607%5F1644740874%5F13023%5FsProdImgNo%5F6%2Ejpg%2F200","sProdImgNo_7":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735102314%2F1508739608%5F1644740874%5F13023%5FsProdImgNo%5F7%2Ejpg%2F200","sProdImgNo_8":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735102314%2F1508739608%5F1644740874%5F13023%5FsProdImgNo%5F8%2Ejpg%2F200","sProdName":"%E7%99%BE%E9%87%8C%E7%8E%84%E7%AD%96%2D%E5%99%A8%E7%8B%82%E4%B9%8B%E9%95%B0","sProdName_1":"","sProdName_2":"","sProdName_3":"","sProdName_4":"","sProdName_5":"","sProdName_6":"","sProdName_7":"","sProdName_8":"","sThumbURL":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735102314%2F1508739607%5F1644740874%5F13023%5FsProdImgNo%5F1%2Ejpg%2F200"&#125;,&#123;"dtInputDT":"2017%2D10%2D20%2011%3A18%3A56","iBallotNum":"0","iClickNum":"0","iDownloadNum":"0","iNonsupportNum":"0","iProdId":"634","iStatus":"1","sProdDesc_1":"","sProdDesc_2":"","sProdDesc_3":"","sProdDesc_4":"","sProdDesc_5":"","sProdDesc_6":"","sProdDesc_7":"","sProdDesc_8":"","sProdImgNo_1":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735102011%2F1508469535%5F1644740874%5F9419%5FsProdImgNo%5F1%2Ejpg%2F200","sProdImgNo_2":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735102011%2F1508469535%5F1644740874%5F9419%5FsProdImgNo%5F2%2Ejpg%2F200","sProdImgNo_3":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735102011%2F1508469535%5F1644740874%5F9419%5FsProdImgNo%5F3%2Ejpg%2F200","sProdImgNo_4":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735102011%2F1508469535%5F1644740874%5F9419%5FsProdImgNo%5F4%2Ejpg%2F200","sProdImgNo_5":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735102011%2F1508469535%5F1644740874%5F9419%5FsProdImgNo%5F5%2Ejpg%2F200","sProdImgNo_6":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735102011%2F1508469536%5F1644740874%5F9419%5FsProdImgNo%5F6%2Ejpg%2F200","sProdImgNo_7":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735102011%2F1508469536%5F1644740874%5F9419%5FsProdImgNo%5F7%2Ejpg%2F200","sProdImgNo_8":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735102011%2F1508469536%5F1644740874%5F9419%5FsProdImgNo%5F8%2Ejpg%2F200","sProdName":"%E9%92%9F%E9%A6%97%2D%E8%99%9A%E7%81%B5%E5%9F%8E%E5%88%A4","sProdName_1":"","sProdName_2":"","sProdName_3":"","sProdName_4":"","sProdName_5":"","sProdName_6":"","sProdName_7":"","sProdName_8":"","sThumbURL":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735102011%2F1508469535%5F1644740874%5F9419%5FsProdImgNo%5F1%2Ejpg%2F200"&#125;,&#123;"dtInputDT":"2017%2D10%2D20%2011%3A16%3A40","iBallotNum":"0","iClickNum":"0","iDownloadNum":"0","iNonsupportNum":"0","iProdId":"633","iStatus":"1","sProdDesc_1":"","sProdDesc_2":"","sProdDesc_3":"","sProdDesc_4":"","sProdDesc_5":"","sProdDesc_6":"","sProdDesc_7":"","sProdDesc_8":"","sProdImgNo_1":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735102011%2F1508469399%5F1644740874%5F10632%5FsProdImgNo%5F1%2Ejpg%2F200","sProdImgNo_2":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735102011%2F1508469399%5F1644740874%5F10632%5FsProdImgNo%5F2%2Ejpg%2F200","sProdImgNo_3":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735102011%2F1508469399%5F1644740874%5F10632%5FsProdImgNo%5F3%2Ejpg%2F200","sProdImgNo_4":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735102011%2F1508469399%5F1644740874%5F10632%5FsProdImgNo%5F4%2Ejpg%2F200","sProdImgNo_5":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735102011%2F1508469400%5F1644740874%5F10632%5FsProdImgNo%5F5%2Ejpg%2F200","sProdImgNo_6":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735102011%2F1508469400%5F1644740874%5F10632%5FsProdImgNo%5F6%2Ejpg%2F200","sProdImgNo_7":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735102011%2F1508469400%5F1644740874%5F10632%5FsProdImgNo%5F7%2Ejpg%2F200","sProdImgNo_8":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735102011%2F1508469400%5F1644740874%5F10632%5FsProdImgNo%5F8%2Ejpg%2F200","sProdName":"%E9%98%BF%E8%BD%B2%2D%E8%87%B4%E5%91%BD%E9%A3%8E%E5%8D%8E","sProdName_1":"","sProdName_2":"","sProdName_3":"","sProdName_4":"","sProdName_5":"","sProdName_6":"","sProdName_7":"","sProdName_8":"","sThumbURL":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735102011%2F1508469399%5F1644740874%5F10632%5FsProdImgNo%5F1%2Ejpg%2F200"&#125;,&#123;"dtInputDT":"2017%2D09%2D30%2010%3A53%3A58","iBallotNum":"0","iClickNum":"0","iDownloadNum":"0","iNonsupportNum":"0","iProdId":"632","iStatus":"1","sProdDesc_1":"","sProdDesc_2":"","sProdDesc_3":"","sProdDesc_4":"","sProdDesc_5":"","sProdDesc_6":"","sProdDesc_7":"","sProdDesc_8":"","sProdImgNo_1":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735093010%2F1506740036%5F1644740874%5F7530%5FsProdImgNo%5F1%2Ejpg%2F200","sProdImgNo_2":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735093010%2F1506740036%5F1644740874%5F7530%5FsProdImgNo%5F2%2Ejpg%2F200","sProdImgNo_3":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735093010%2F1506740036%5F1644740874%5F7530%5FsProdImgNo%5F3%2Ejpg%2F200","sProdImgNo_4":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735093010%2F1506740036%5F1644740874%5F7530%5FsProdImgNo%5F4%2Ejpg%2F200","sProdImgNo_5":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735093010%2F1506740037%5F1644740874%5F7530%5FsProdImgNo%5F5%2Ejpg%2F200","sProdImgNo_6":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735093010%2F1506740037%5F1644740874%5F7530%5FsProdImgNo%5F6%2Ejpg%2F200","sProdImgNo_7":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735093010%2F1506740037%5F1644740874%5F7530%5FsProdImgNo%5F7%2Ejpg%2F200","sProdImgNo_8":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735093010%2F1506740038%5F1644740874%5F7530%5FsProdImgNo%5F8%2Ejpg%2F200","sProdName":"%E8%B2%82%E8%9D%89%2D%E4%BB%B2%E5%A4%8F%E5%A4%9C%E4%B9%8B%E6%A2%A6","sProdName_1":"","sProdName_2":"","sProdName_3":"","sProdName_4":"","sProdName_5":"","sProdName_6":"","sProdName_7":"","sProdName_8":"","sThumbURL":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735093010%2F1506740036%5F1644740874%5F7530%5FsProdImgNo%5F1%2Ejpg%2F200"&#125;,&#123;"dtInputDT":"2017%2D09%2D27%2018%3A29%3A09","iBallotNum":"0","iClickNum":"0","iDownloadNum":"0","iNonsupportNum":"0","iProdId":"631","iStatus":"1","sProdDesc_1":"","sProdDesc_2":"","sProdDesc_3":"","sProdDesc_4":"","sProdDesc_5":"","sProdDesc_6":"","sProdDesc_7":"","sProdDesc_8":"","sProdImgNo_1":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735092718%2F1506508146%5F1644740874%5F24067%5FsProdImgNo%5F1%2Ejpg%2F200","sProdImgNo_2":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735092718%2F1506508146%5F1644740874%5F24067%5FsProdImgNo%5F2%2Ejpg%2F200","sProdImgNo_3":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735092718%2F1506508146%5F1644740874%5F24067%5FsProdImgNo%5F3%2Ejpg%2F200","sProdImgNo_4":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735092718%2F1506508147%5F1644740874%5F24067%5FsProdImgNo%5F4%2Ejpg%2F200","sProdImgNo_5":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735092718%2F1506508147%5F1644740874%5F24067%5FsProdImgNo%5F5%2Ejpg%2F200","sProdImgNo_6":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735092718%2F1506508148%5F1644740874%5F24067%5FsProdImgNo%5F6%2Ejpg%2F200","sProdImgNo_7":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735092718%2F1506508149%5F1644740874%5F24067%5FsProdImgNo%5F7%2Ejpg%2F200","sProdImgNo_8":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735092718%2F1506508149%5F1644740874%5F24067%5FsProdImgNo%5F8%2Ejpg%2F200","sProdName":"%E8%B5%B5%E4%BA%91%2D%E5%98%BB%E5%93%88%E5%A4%A9%E7%8E%8B","sProdName_1":"","sProdName_2":"","sProdName_3":"","sProdName_4":"","sProdName_5":"","sProdName_6":"","sProdName_7":"","sProdName_8":"","sThumbURL":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735092718%2F1506508146%5F1644740874%5F24067%5FsProdImgNo%5F1%2Ejpg%2F200"&#125;,&#123;"dtInputDT":"2017%2D09%2D27%2018%3A27%3A59","iBallotNum":"0","iClickNum":"0","iDownloadNum":"0","iNonsupportNum":"0","iProdId":"630","iStatus":"1","sProdDesc_1":"","sProdDesc_2":"","sProdDesc_3":"","sProdDesc_4":"","sProdDesc_5":"","sProdDesc_6":"","sProdDesc_7":"","sProdDesc_8":"","sProdImgNo_1":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735092718%2F1506508076%5F1644740874%5F6743%5FsProdImgNo%5F1%2Ejpg%2F200","sProdImgNo_2":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735092718%2F1506508077%5F1644740874%5F6743%5FsProdImgNo%5F2%2Ejpg%2F200","sProdImgNo_3":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735092718%2F1506508077%5F1644740874%5F6743%5FsProdImgNo%5F3%2Ejpg%2F200","sProdImgNo_4":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735092718%2F1506508077%5F1644740874%5F6743%5FsProdImgNo%5F4%2Ejpg%2F200","sProdImgNo_5":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735092718%2F1506508077%5F1644740874%5F6743%5FsProdImgNo%5F5%2Ejpg%2F200","sProdImgNo_6":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735092718%2F1506508078%5F1644740874%5F6743%5FsProdImgNo%5F6%2Ejpg%2F200","sProdImgNo_7":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735092718%2F1506508078%5F1644740874%5F6743%5FsProdImgNo%5F7%2Ejpg%2F200","sProdImgNo_8":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735092718%2F1506508078%5F1644740874%5F6743%5FsProdImgNo%5F8%2Ejpg%2F200","sProdName":"%E8%B5%B5%E4%BA%91%2D%E7%9A%87%E5%AE%B6%E4%B8%8A%E5%B0%86","sProdName_1":"","sProdName_2":"","sProdName_3":"","sProdName_4":"","sProdName_5":"","sProdName_6":"","sProdName_7":"","sProdName_8":"","sThumbURL":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735092718%2F1506508076%5F1644740874%5F6743%5FsProdImgNo%5F1%2Ejpg%2F200"&#125;,&#123;"dtInputDT":"2017%2D09%2D27%2018%3A26%3A59","iBallotNum":"0","iClickNum":"0","iDownloadNum":"0","iNonsupportNum":"0","iProdId":"629","iStatus":"1","sProdDesc_1":"","sProdDesc_2":"","sProdDesc_3":"","sProdDesc_4":"","sProdDesc_5":"","sProdDesc_6":"","sProdDesc_7":"","sProdDesc_8":"","sProdImgNo_1":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735092718%2F1506508017%5F1644740874%5F23675%5FsProdImgNo%5F1%2Ejpg%2F200","sProdImgNo_2":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735092718%2F1506508017%5F1644740874%5F23675%5FsProdImgNo%5F2%2Ejpg%2F200","sProdImgNo_3":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735092718%2F1506508017%5F1644740874%5F23675%5FsProdImgNo%5F3%2Ejpg%2F200","sProdImgNo_4":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735092718%2F1506508017%5F1644740874%5F23675%5FsProdImgNo%5F4%2Ejpg%2F200","sProdImgNo_5":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735092718%2F1506508018%5F1644740874%5F23675%5FsProdImgNo%5F5%2Ejpg%2F200","sProdImgNo_6":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735092718%2F1506508018%5F1644740874%5F23675%5FsProdImgNo%5F6%2Ejpg%2F200","sProdImgNo_7":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735092718%2F1506508018%5F1644740874%5F23675%5FsProdImgNo%5F7%2Ejpg%2F200","sProdImgNo_8":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735092718%2F1506508018%5F1644740874%5F23675%5FsProdImgNo%5F8%2Ejpg%2F200","sProdName":"%E8%B5%B5%E4%BA%91%2D%E7%99%BD%E6%89%A7%E4%BA%8B","sProdName_1":"","sProdName_2":"","sProdName_3":"","sProdName_4":"","sProdName_5":"","sProdName_6":"","sProdName_7":"","sProdName_8":"","sThumbURL":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735092718%2F1506508017%5F1644740874%5F23675%5FsProdImgNo%5F1%2Ejpg%2F200"&#125;,&#123;"dtInputDT":"2017%2D09%2D27%2018%3A25%3A43","iBallotNum":"0","iClickNum":"0","iDownloadNum":"0","iNonsupportNum":"0","iProdId":"628","iStatus":"1","sProdDesc_1":"","sProdDesc_2":"","sProdDesc_3":"","sProdDesc_4":"","sProdDesc_5":"","sProdDesc_6":"","sProdDesc_7":"","sProdDesc_8":"","sProdImgNo_1":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735092718%2F1506507942%5F1644740874%5F2173%5FsProdImgNo%5F1%2Ejpg%2F200","sProdImgNo_2":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735092718%2F1506507942%5F1644740874%5F2173%5FsProdImgNo%5F2%2Ejpg%2F200","sProdImgNo_3":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735092718%2F1506507942%5F1644740874%5F2173%5FsProdImgNo%5F3%2Ejpg%2F200","sProdImgNo_4":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735092718%2F1506507942%5F1644740874%5F2173%5FsProdImgNo%5F4%2Ejpg%2F200","sProdImgNo_5":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735092718%2F1506507942%5F1644740874%5F2173%5FsProdImgNo%5F5%2Ejpg%2F200","sProdImgNo_6":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735092718%2F1506507942%5F1644740874%5F2173%5FsProdImgNo%5F6%2Ejpg%2F200","sProdImgNo_7":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735092718%2F1506507943%5F1644740874%5F2173%5FsProdImgNo%5F7%2Ejpg%2F200","sProdImgNo_8":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735092718%2F1506507943%5F1644740874%5F2173%5FsProdImgNo%5F8%2Ejpg%2F200","sProdName":"%E8%99%9E%E5%A7%AC%2D%E6%A3%AE%E4%B9%8B%E9%A3%8E%E7%81%B5","sProdName_1":"","sProdName_2":"","sProdName_3":"","sProdName_4":"","sProdName_5":"","sProdName_6":"","sProdName_7":"","sProdName_8":"","sThumbURL":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735092718%2F1506507942%5F1644740874%5F2173%5FsProdImgNo%5F1%2Ejpg%2F200"&#125;,&#123;"dtInputDT":"2017%2D09%2D27%2018%3A21%3A24","iBallotNum":"0","iClickNum":"0","iDownloadNum":"0","iNonsupportNum":"0","iProdId":"625","iStatus":"1","sProdDesc_1":"","sProdDesc_2":"","sProdDesc_3":"","sProdDesc_4":"","sProdDesc_5":"","sProdDesc_6":"","sProdDesc_7":"","sProdDesc_8":"","sProdImgNo_1":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735092718%2F1506507681%5F1644740874%5F4556%5FsProdImgNo%5F1%2Ejpg%2F200","sProdImgNo_2":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735092718%2F1506507682%5F1644740874%5F4556%5FsProdImgNo%5F2%2Ejpg%2F200","sProdImgNo_3":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735092718%2F1506507682%5F1644740874%5F4556%5FsProdImgNo%5F3%2Ejpg%2F200","sProdImgNo_4":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735092718%2F1506507682%5F1644740874%5F4556%5FsProdImgNo%5F4%2Ejpg%2F200","sProdImgNo_5":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735092718%2F1506507682%5F1644740874%5F4556%5FsProdImgNo%5F5%2Ejpg%2F200","sProdImgNo_6":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735092718%2F1506507683%5F1644740874%5F4556%5FsProdImgNo%5F6%2Ejpg%2F200","sProdImgNo_7":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735092718%2F1506507683%5F1644740874%5F4556%5FsProdImgNo%5F7%2Ejpg%2F200","sProdImgNo_8":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735092718%2F1506507683%5F1644740874%5F4556%5FsProdImgNo%5F8%2Ejpg%2F200","sProdName":"%E9%9B%85%E5%85%B8%E5%A8%9C%2D%E6%88%98%E4%BA%89%E5%A5%B3%E7%A5%9E","sProdName_1":"","sProdName_2":"","sProdName_3":"","sProdName_4":"","sProdName_5":"","sProdName_6":"","sProdName_7":"","sProdName_8":"","sThumbURL":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735092718%2F1506507681%5F1644740874%5F4556%5FsProdImgNo%5F1%2Ejpg%2F200"&#125;,&#123;"dtInputDT":"2017%2D09%2D27%2018%3A20%3A16","iBallotNum":"0","iClickNum":"0","iDownloadNum":"0","iNonsupportNum":"0","iProdId":"624","iStatus":"1","sProdDesc_1":"","sProdDesc_2":"","sProdDesc_3":"","sProdDesc_4":"","sProdDesc_5":"","sProdDesc_6":"","sProdDesc_7":"","sProdDesc_8":"","sProdImgNo_1":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735092718%2F1506507615%5F1644740874%5F18816%5FsProdImgNo%5F1%2Ejpg%2F200","sProdImgNo_2":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735092718%2F1506507615%5F1644740874%5F18816%5FsProdImgNo%5F2%2Ejpg%2F200","sProdImgNo_3":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735092718%2F1506507615%5F1644740874%5F18816%5FsProdImgNo%5F3%2Ejpg%2F200","sProdImgNo_4":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735092718%2F1506507615%5F1644740874%5F18816%5FsProdImgNo%5F4%2Ejpg%2F200","sProdImgNo_5":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735092718%2F1506507615%5F1644740874%5F18816%5FsProdImgNo%5F5%2Ejpg%2F200","sProdImgNo_6":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735092718%2F1506507616%5F1644740874%5F18816%5FsProdImgNo%5F6%2Ejpg%2F200","sProdImgNo_7":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735092718%2F1506507616%5F1644740874%5F18816%5FsProdImgNo%5F7%2Ejpg%2F200","sProdImgNo_8":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735092718%2F1506507616%5F1644740874%5F18816%5FsProdImgNo%5F8%2Ejpg%2F200","sProdName":"%E5%B0%8F%E4%B9%94%2D%E7%BC%A4%E7%BA%B7%E7%8B%AC%E8%A7%92%E5%85%BD","sProdName_1":"","sProdName_2":"","sProdName_3":"","sProdName_4":"","sProdName_5":"","sProdName_6":"","sProdName_7":"","sProdName_8":"","sThumbURL":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735092718%2F1506507615%5F1644740874%5F18816%5FsProdImgNo%5F1%2Ejpg%2F200"&#125;,&#123;"dtInputDT":"2017%2D09%2D27%2018%3A16%3A25","iBallotNum":"0","iClickNum":"0","iDownloadNum":"0","iNonsupportNum":"0","iProdId":"622","iStatus":"1","sProdDesc_1":"","sProdDesc_2":"","sProdDesc_3":"","sProdDesc_4":"","sProdDesc_5":"","sProdDesc_6":"","sProdDesc_7":"","sProdDesc_8":"","sProdImgNo_1":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735092718%2F1506507382%5F1644740874%5F27300%5FsProdImgNo%5F1%2Ejpg%2F200","sProdImgNo_2":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735092718%2F1506507383%5F1644740874%5F27300%5FsProdImgNo%5F2%2Ejpg%2F200","sProdImgNo_3":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735092718%2F1506507383%5F1644740874%5F27300%5FsProdImgNo%5F3%2Ejpg%2F200","sProdImgNo_4":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735092718%2F1506507383%5F1644740874%5F27300%5FsProdImgNo%5F4%2Ejpg%2F200","sProdImgNo_5":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735092718%2F1506507383%5F1644740874%5F27300%5FsProdImgNo%5F5%2Ejpg%2F200","sProdImgNo_6":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735092718%2F1506507384%5F1644740874%5F27300%5FsProdImgNo%5F6%2Ejpg%2F200","sProdImgNo_7":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735092718%2F1506507384%5F1644740874%5F27300%5FsProdImgNo%5F7%2Ejpg%2F200","sProdImgNo_8":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735092718%2F1506507385%5F1644740874%5F27300%5FsProdImgNo%5F8%2Ejpg%2F200","sProdName":"%E9%A1%B9%E7%BE%BD%2D%E8%81%8C%E6%A3%92%E7%8E%8B%E7%89%8C","sProdName_1":"","sProdName_2":"","sProdName_3":"","sProdName_4":"","sProdName_5":"","sProdName_6":"","sProdName_7":"","sProdName_8":"","sThumbURL":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735092718%2F1506507382%5F1644740874%5F27300%5FsProdImgNo%5F1%2Ejpg%2F200"&#125;,&#123;"dtInputDT":"2017%2D09%2D27%2018%3A14%3A35","iBallotNum":"0","iClickNum":"0","iDownloadNum":"0","iNonsupportNum":"0","iProdId":"621","iStatus":"1","sProdDesc_1":"","sProdDesc_2":"","sProdDesc_3":"","sProdDesc_4":"","sProdDesc_5":"","sProdDesc_6":"","sProdDesc_7":"","sProdDesc_8":"","sProdImgNo_1":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735092718%2F1506507273%5F1644740874%5F14635%5FsProdImgNo%5F1%2Ejpg%2F200","sProdImgNo_2":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735092718%2F1506507273%5F1644740874%5F14635%5FsProdImgNo%5F2%2Ejpg%2F200","sProdImgNo_3":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735092718%2F1506507274%5F1644740874%5F14635%5FsProdImgNo%5F3%2Ejpg%2F200","sProdImgNo_4":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735092718%2F1506507274%5F1644740874%5F14635%5FsProdImgNo%5F4%2Ejpg%2F200","sProdImgNo_5":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735092718%2F1506507274%5F1644740874%5F14635%5FsProdImgNo%5F5%2Ejpg%2F200","sProdImgNo_6":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735092718%2F1506507274%5F1644740874%5F14635%5FsProdImgNo%5F6%2Ejpg%2F200","sProdImgNo_7":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735092718%2F1506507275%5F1644740874%5F14635%5FsProdImgNo%5F7%2Ejpg%2F200","sProdImgNo_8":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735092718%2F1506507275%5F1644740874%5F14635%5FsProdImgNo%5F8%2Ejpg%2F200","sProdName":"%E6%AD%A6%E5%88%99%E5%A4%A9%2D%E4%B8%9C%E6%96%B9%E4%B8%8D%E8%B4%A5","sProdName_1":"","sProdName_2":"","sProdName_3":"","sProdName_4":"","sProdName_5":"","sProdName_6":"","sProdName_7":"","sProdName_8":"","sThumbURL":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735092718%2F1506507273%5F1644740874%5F14635%5FsProdImgNo%5F1%2Ejpg%2F200"&#125;,&#123;"dtInputDT":"2017%2D09%2D27%2018%3A11%3A30","iBallotNum":"0","iClickNum":"0","iDownloadNum":"0","iNonsupportNum":"0","iProdId":"620","iStatus":"1","sProdDesc_1":"","sProdDesc_2":"","sProdDesc_3":"","sProdDesc_4":"","sProdDesc_5":"","sProdDesc_6":"","sProdDesc_7":"","sProdDesc_8":"","sProdImgNo_1":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735092718%2F1506507088%5F1644740874%5F16174%5FsProdImgNo%5F1%2Ejpg%2F200","sProdImgNo_2":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735092718%2F1506507088%5F1644740874%5F16174%5FsProdImgNo%5F2%2Ejpg%2F200","sProdImgNo_3":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735092718%2F1506507088%5F1644740874%5F16174%5FsProdImgNo%5F3%2Ejpg%2F200","sProdImgNo_4":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735092718%2F1506507089%5F1644740874%5F16174%5FsProdImgNo%5F4%2Ejpg%2F200","sProdImgNo_5":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735092718%2F1506507089%5F1644740874%5F16174%5FsProdImgNo%5F5%2Ejpg%2F200","sProdImgNo_6":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735092718%2F1506507089%5F1644740874%5F16174%5FsProdImgNo%5F6%2Ejpg%2F200","sProdImgNo_7":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735092718%2F1506507089%5F1644740874%5F16174%5FsProdImgNo%5F7%2Ejpg%2F200","sProdImgNo_8":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735092718%2F1506507090%5F1644740874%5F16174%5FsProdImgNo%5F8%2Ejpg%2F200","sProdName":"%E7%89%9B%E9%AD%94%2D%E8%A5%BF%E9%83%A8%E5%A4%A7%E9%95%96%E5%AE%A2","sProdName_1":"","sProdName_2":"","sProdName_3":"","sProdName_4":"","sProdName_5":"","sProdName_6":"","sProdName_7":"","sProdName_8":"","sThumbURL":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735092718%2F1506507088%5F1644740874%5F16174%5FsProdImgNo%5F1%2Ejpg%2F200"&#125;,&#123;"dtInputDT":"2017%2D09%2D27%2018%3A07%3A57","iBallotNum":"0","iClickNum":"0","iDownloadNum":"0","iNonsupportNum":"0","iProdId":"619","iStatus":"1","sProdDesc_1":"","sProdDesc_2":"","sProdDesc_3":"","sProdDesc_4":"","sProdDesc_5":"","sProdDesc_6":"","sProdDesc_7":"","sProdDesc_8":"","sProdImgNo_1":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735092718%2F1506506875%5F1644740874%5F1203%5FsProdImgNo%5F1%2Ejpg%2F200","sProdImgNo_2":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735092718%2F1506506876%5F1644740874%5F1203%5FsProdImgNo%5F2%2Ejpg%2F200","sProdImgNo_3":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735092718%2F1506506876%5F1644740874%5F1203%5FsProdImgNo%5F3%2Ejpg%2F200","sProdImgNo_4":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735092718%2F1506506876%5F1644740874%5F1203%5FsProdImgNo%5F4%2Ejpg%2F200","sProdImgNo_5":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735092718%2F1506506876%5F1644740874%5F1203%5FsProdImgNo%5F5%2Ejpg%2F200","sProdImgNo_6":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735092718%2F1506506876%5F1644740874%5F1203%5FsProdImgNo%5F6%2Ejpg%2F200","sProdImgNo_7":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735092718%2F1506506877%5F1644740874%5F1203%5FsProdImgNo%5F7%2Ejpg%2F200","sProdImgNo_8":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735092718%2F1506506877%5F1644740874%5F1203%5FsProdImgNo%5F8%2Ejpg%2F200","sProdName":"%E5%90%95%E5%B8%83%2D%E5%A4%A9%E9%AD%94%E7%BC%AD%E4%B9%B1","sProdName_1":"","sProdName_2":"","sProdName_3":"","sProdName_4":"","sProdName_5":"","sProdName_6":"","sProdName_7":"","sProdName_8":"","sThumbURL":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735092718%2F1506506875%5F1644740874%5F1203%5FsProdImgNo%5F1%2Ejpg%2F200"&#125;,&#123;"dtInputDT":"2017%2D09%2D27%2018%3A06%3A35","iBallotNum":"0","iClickNum":"0","iDownloadNum":"0","iNonsupportNum":"0","iProdId":"618","iStatus":"1","sProdDesc_1":"","sProdDesc_2":"","sProdDesc_3":"","sProdDesc_4":"","sProdDesc_5":"","sProdDesc_6":"","sProdDesc_7":"","sProdDesc_8":"","sProdImgNo_1":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735092718%2F1506506793%5F1644740874%5F677%5FsProdImgNo%5F1%2Ejpg%2F200","sProdImgNo_2":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735092718%2F1506506793%5F1644740874%5F677%5FsProdImgNo%5F2%2Ejpg%2F200","sProdImgNo_3":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735092718%2F1506506794%5F1644740874%5F677%5FsProdImgNo%5F3%2Ejpg%2F200","sProdImgNo_4":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735092718%2F1506506794%5F1644740874%5F677%5FsProdImgNo%5F4%2Ejpg%2F200","sProdImgNo_5":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735092718%2F1506506794%5F1644740874%5F677%5FsProdImgNo%5F5%2Ejpg%2F200","sProdImgNo_6":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735092718%2F1506506794%5F1644740874%5F677%5FsProdImgNo%5F6%2Ejpg%2F200","sProdImgNo_7":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735092718%2F1506506795%5F1644740874%5F677%5FsProdImgNo%5F7%2Ejpg%2F200","sProdImgNo_8":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735092718%2F1506506795%5F1644740874%5F677%5FsProdImgNo%5F8%2Ejpg%2F200","sProdName":"%E5%BB%89%E9%A2%87%2D%E5%9C%B0%E7%8B%B1%E5%B2%A9%E9%AD%82","sProdName_1":"","sProdName_2":"","sProdName_3":"","sProdName_4":"","sProdName_5":"","sProdName_6":"","sProdName_7":"","sProdName_8":"","sThumbURL":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735092718%2F1506506793%5F1644740874%5F677%5FsProdImgNo%5F1%2Ejpg%2F200"&#125;,&#123;"dtInputDT":"2017%2D09%2D27%2017%3A59%3A29","iBallotNum":"0","iClickNum":"0","iDownloadNum":"0","iNonsupportNum":"0","iProdId":"617","iStatus":"1","sProdDesc_1":"","sProdDesc_2":"","sProdDesc_3":"","sProdDesc_4":"","sProdDesc_5":"","sProdDesc_6":"","sProdDesc_7":"","sProdDesc_8":"","sProdImgNo_1":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735092717%2F1506506367%5F1644740874%5F362%5FsProdImgNo%5F1%2Ejpg%2F200","sProdImgNo_2":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735092717%2F1506506367%5F1644740874%5F362%5FsProdImgNo%5F2%2Ejpg%2F200","sProdImgNo_3":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735092717%2F1506506367%5F1644740874%5F362%5FsProdImgNo%5F3%2Ejpg%2F200","sProdImgNo_4":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735092717%2F1506506367%5F1644740874%5F362%5FsProdImgNo%5F4%2Ejpg%2F200","sProdImgNo_5":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735092717%2F1506506367%5F1644740874%5F362%5FsProdImgNo%5F5%2Ejpg%2F200","sProdImgNo_6":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735092717%2F1506506368%5F1644740874%5F362%5FsProdImgNo%5F6%2Ejpg%2F200","sProdImgNo_7":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735092717%2F1506506368%5F1644740874%5F362%5FsProdImgNo%5F7%2Ejpg%2F200","sProdImgNo_8":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735092717%2F1506506368%5F1644740874%5F362%5FsProdImgNo%5F8%2Ejpg%2F200","sProdName":"%E5%A4%A7%E4%B9%94%2D%E4%BC%8A%E5%8A%BF%E5%B7%AB%E5%A5%B3","sProdName_1":"","sProdName_2":"","sProdName_3":"","sProdName_4":"","sProdName_5":"","sProdName_6":"","sProdName_7":"","sProdName_8":"","sThumbURL":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735092717%2F1506506367%5F1644740874%5F362%5FsProdImgNo%5F1%2Ejpg%2F200"&#125;,&#123;"dtInputDT":"2017%2D09%2D27%2017%3A51%3A04","iBallotNum":"0","iClickNum":"0","iDownloadNum":"0","iNonsupportNum":"0","iProdId":"616","iStatus":"1","sProdDesc_1":"","sProdDesc_2":"","sProdDesc_3":"","sProdDesc_4":"","sProdDesc_5":"","sProdDesc_6":"","sProdDesc_7":"","sProdDesc_8":"","sProdImgNo_1":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735092717%2F1506505863%5F1644740874%5F30801%5FsProdImgNo%5F1%2Ejpg%2F200","sProdImgNo_2":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735092717%2F1506505863%5F1644740874%5F30801%5FsProdImgNo%5F2%2Ejpg%2F200","sProdImgNo_3":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735092717%2F1506505863%5F1644740874%5F30801%5FsProdImgNo%5F3%2Ejpg%2F200","sProdImgNo_4":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735092717%2F1506505863%5F1644740874%5F30801%5FsProdImgNo%5F4%2Ejpg%2F200","sProdImgNo_5":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735092717%2F1506505863%5F1644740874%5F30801%5FsProdImgNo%5F5%2Ejpg%2F200","sProdImgNo_6":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735092717%2F1506505863%5F1644740874%5F30801%5FsProdImgNo%5F6%2Ejpg%2F200","sProdImgNo_7":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735092717%2F1506505864%5F1644740874%5F30801%5FsProdImgNo%5F7%2Ejpg%2F200","sProdImgNo_8":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735092717%2F1506505864%5F1644740874%5F30801%5FsProdImgNo%5F8%2Ejpg%2F200","sProdName":"%E5%A6%B2%E5%B7%B1%2D%E5%B0%91%E5%A5%B3%E9%98%BF%E7%8B%B8","sProdName_1":"","sProdName_2":"","sProdName_3":"","sProdName_4":"","sProdName_5":"","sProdName_6":"","sProdName_7":"","sProdName_8":"","sThumbURL":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735092717%2F1506505863%5F1644740874%5F30801%5FsProdImgNo%5F1%2Ejpg%2F200"&#125;,&#123;"dtInputDT":"2017%2D09%2D26%2016%3A02%3A38","iBallotNum":"0","iClickNum":"0","iDownloadNum":"0","iNonsupportNum":"0","iProdId":"614","iStatus":"1","sProdDesc_1":"","sProdDesc_2":"","sProdDesc_3":"","sProdDesc_4":"","sProdDesc_5":"","sProdDesc_6":"","sProdDesc_7":"","sProdDesc_8":"","sProdImgNo_1":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735092616%2F1506412955%5F1644740874%5F25340%5FsProdImgNo%5F1%2Ejpg%2F200","sProdImgNo_2":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735092616%2F1506412955%5F1644740874%5F25340%5FsProdImgNo%5F2%2Ejpg%2F200","sProdImgNo_3":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735092616%2F1506412956%5F1644740874%5F25340%5FsProdImgNo%5F3%2Ejpg%2F200","sProdImgNo_4":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735092616%2F1506412956%5F1644740874%5F25340%5FsProdImgNo%5F4%2Ejpg%2F200","sProdImgNo_5":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735092616%2F1506412956%5F1644740874%5F25340%5FsProdImgNo%5F5%2Ejpg%2F200","sProdImgNo_6":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735092616%2F1506412957%5F1644740874%5F25340%5FsProdImgNo%5F6%2Ejpg%2F200","sProdImgNo_7":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735092616%2F1506412957%5F1644740874%5F25340%5FsProdImgNo%5F7%2Ejpg%2F200","sProdImgNo_8":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735092616%2F1506412958%5F1644740874%5F25340%5FsProdImgNo%5F8%2Ejpg%2F200","sProdName":"%E5%AD%99%E5%B0%9A%E9%A6%99%2D%E6%9D%80%E6%89%8B%E4%B8%8D%E5%A4%AA%E5%86%B7","sProdName_1":"","sProdName_2":"","sProdName_3":"","sProdName_4":"","sProdName_5":"","sProdName_6":"","sProdName_7":"","sProdName_8":"","sThumbURL":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735092616%2F1506412955%5F1644740874%5F25340%5FsProdImgNo%5F1%2Ejpg%2F200"&#125;,&#123;"dtInputDT":"2017%2D09%2D25%2012%3A21%3A21","iBallotNum":"0","iClickNum":"0","iDownloadNum":"0","iNonsupportNum":"0","iProdId":"613","iStatus":"1","sProdDesc_1":"","sProdDesc_2":"","sProdDesc_3":"","sProdDesc_4":"","sProdDesc_5":"","sProdDesc_6":"","sProdDesc_7":"","sProdDesc_8":"","sProdImgNo_1":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735092512%2F1506313280%5F1644740874%5F29481%5FsProdImgNo%5F1%2Ejpg%2F200","sProdImgNo_2":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735092512%2F1506313280%5F1644740874%5F29481%5FsProdImgNo%5F2%2Ejpg%2F200","sProdImgNo_3":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735092512%2F1506313280%5F1644740874%5F29481%5FsProdImgNo%5F3%2Ejpg%2F200","sProdImgNo_4":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735092512%2F1506313280%5F1644740874%5F29481%5FsProdImgNo%5F4%2Ejpg%2F200","sProdImgNo_5":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735092512%2F1506313281%5F1644740874%5F29481%5FsProdImgNo%5F5%2Ejpg%2F200","sProdImgNo_6":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735092512%2F1506313281%5F1644740874%5F29481%5FsProdImgNo%5F6%2Ejpg%2F200","sProdImgNo_7":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735092512%2F1506313281%5F1644740874%5F29481%5FsProdImgNo%5F7%2Ejpg%2F200","sProdImgNo_8":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735092512%2F1506313281%5F1644740874%5F29481%5FsProdImgNo%5F8%2Ejpg%2F200","sProdName":"%E7%99%BE%E9%87%8C%E5%AE%88%E7%BA%A6%2D%E7%BB%9D%E5%BD%B1%E7%A5%9E%E6%9E%AA","sProdName_1":"","sProdName_2":"","sProdName_3":"","sProdName_4":"","sProdName_5":"","sProdName_6":"","sProdName_7":"","sProdName_8":"","sThumbURL":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735092512%2F1506313280%5F1644740874%5F29481%5FsProdImgNo%5F1%2Ejpg%2F200"&#125;,&#123;"dtInputDT":"2017%2D09%2D25%2012%3A20%3A12","iBallotNum":"0","iClickNum":"0","iDownloadNum":"0","iNonsupportNum":"0","iProdId":"612","iStatus":"1","sProdDesc_1":"","sProdDesc_2":"","sProdDesc_3":"","sProdDesc_4":"","sProdDesc_5":"","sProdDesc_6":"","sProdDesc_7":"","sProdDesc_8":"","sProdImgNo_1":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735092512%2F1506313208%5F1644740874%5F3024%5FsProdImgNo%5F1%2Ejpg%2F200","sProdImgNo_2":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735092512%2F1506313208%5F1644740874%5F3024%5FsProdImgNo%5F2%2Ejpg%2F200","sProdImgNo_3":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735092512%2F1506313209%5F1644740874%5F3024%5FsProdImgNo%5F3%2Ejpg%2F200","sProdImgNo_4":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735092512%2F1506313209%5F1644740874%5F3024%5FsProdImgNo%5F4%2Ejpg%2F200","sProdImgNo_5":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735092512%2F1506313209%5F1644740874%5F3024%5FsProdImgNo%5F5%2Ejpg%2F200","sProdImgNo_6":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735092512%2F1506313209%5F1644740874%5F3024%5FsProdImgNo%5F6%2Ejpg%2F200","sProdImgNo_7":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735092512%2F1506313209%5F1644740874%5F3024%5FsProdImgNo%5F7%2Ejpg%2F200","sProdImgNo_8":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735092512%2F1506313211%5F1644740874%5F3024%5FsProdImgNo%5F8%2Ejpg%2F200","sProdName":"%E7%99%BE%E9%87%8C%E5%AE%88%E7%BA%A6%2D%E9%9D%99%E8%B0%A7%E4%B9%8B%E7%9C%BC","sProdName_1":"","sProdName_2":"","sProdName_3":"","sProdName_4":"","sProdName_5":"","sProdName_6":"","sProdName_7":"","sProdName_8":"","sThumbURL":"http%3A%2F%2Fshp%2Eqpic%2Ecn%2Fishow%2F2735092512%2F1506313208%5F1644740874%5F3024%5FsProdImgNo%5F1%2Ejpg%2F200"&#125;]&#125;)</span><br></pre></td></tr></table></figure><h2 id="代码实现"><a href="#代码实现" class="headerlink" title="代码实现"></a>代码实现</h2><p>ok了，现在一切准备就绪，开始用代码来实现批量下载图片。</p><p>首先是获取一个页面中的所有壁纸列表</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line"></span><br><span class="line">workList_url = <span class="string">"http://apps.game.qq.com/cgi-bin/ams/module/ishow/V1.0/query/workList_inc.cgi"</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">getlist</span><span class="params">(page_id)</span>:</span></span><br><span class="line">    <span class="keyword">global</span> workList_url</span><br><span class="line">    worklist_params = &#123;</span><br><span class="line">        <span class="string">"activityId"</span>:     <span class="string">"2738"</span>,</span><br><span class="line">        <span class="string">"sVerifyCode"</span>:    <span class="string">"ABCD"</span>,</span><br><span class="line">        <span class="string">"sDataType"</span>:      <span class="string">"JSON"</span>,</span><br><span class="line">        <span class="string">"iListNum"</span>:       <span class="string">"20"</span>,</span><br><span class="line">        <span class="string">"totalpage"</span>:      <span class="string">"0"</span>,</span><br><span class="line">        <span class="string">"page"</span>:           page_id,</span><br><span class="line">        <span class="string">"iOrder"</span>:         <span class="string">"0"</span>,</span><br><span class="line">        <span class="string">"iSortNumClose"</span>:  <span class="string">"1"</span>,</span><br><span class="line">        <span class="string">"jsoncallback"</span>:   <span class="string">"jQuery17101954572044754206_1513821397041"</span>,</span><br><span class="line">        <span class="string">"iAMSActivityId"</span>: <span class="string">"51991"</span>,</span><br><span class="line">        <span class="string">"_everyRead"</span>:     <span class="string">"true"</span>,</span><br><span class="line">        <span class="string">"iTypeId"</span>:        <span class="string">"2"</span>,</span><br><span class="line">        <span class="string">"iFlowId"</span>:        <span class="string">"267733"</span>,</span><br><span class="line">        <span class="string">"iActId"</span>:         <span class="string">"2735"</span>,</span><br><span class="line">        <span class="string">"iModuleId"</span>:      <span class="string">"2735"</span>,</span><br><span class="line">        <span class="string">"_"</span>:              <span class="string">"1513821606943"</span></span><br><span class="line">    &#125;</span><br><span class="line">    result = requests.get(workList_url, params=worklist_params)</span><br><span class="line">    worklist_raw = result.text</span><br><span class="line">    worklist_json = worklist_raw[worklist_raw.find(<span class="string">'('</span>) + <span class="number">1</span>:len(worklist_raw) - <span class="number">2</span>]</span><br><span class="line">    worklist = json.loads(parse.unquote(worklist_json))</span><br><span class="line">    <span class="keyword">return</span> worklist</span><br></pre></td></tr></table></figure><p>什么？你问怎么获取所有页面。<br>其实我是用for循环从0到11（因为有12个页面）。怎样方便就怎么做了。</p><p>然后这是下载图片的方法：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">download_img</span><span class="params">(url, path)</span>:</span></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        image_data = requests.get(url, timeout=<span class="number">15</span>)</span><br><span class="line">    <span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">        print(<span class="string">"下载图片出错,%s,%s"</span> % (e, url))</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">with</span> open(path, <span class="string">'wb'</span>) <span class="keyword">as</span> f:</span><br><span class="line">        f.write(image_data.content)</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="literal">True</span></span><br></pre></td></tr></table></figure><p>其实主要的难点还是在分析那一块，代码实现真的没有什么技术含量。</p><h2 id="完整代码"><a href="#完整代码" class="headerlink" title="完整代码"></a>完整代码</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">from</span> urllib <span class="keyword">import</span> parse</span><br><span class="line"></span><br><span class="line">url = <span class="string">'http://pvp.qq.com/web201605/wallpaper.shtml'</span></span><br><span class="line"></span><br><span class="line">workList_url = <span class="string">"http://apps.game.qq.com/cgi-bin/ams/module/ishow/V1.0/query/workList_inc.cgi"</span></span><br><span class="line"></span><br><span class="line">json_url = <span class="string">'''</span></span><br><span class="line"><span class="string">        http://apps.game.qq.com/cgi-bin/ams/module/ishow/V1.0/query/workList_inc.cgi?</span></span><br><span class="line"><span class="string">        activityId=2735&amp;</span></span><br><span class="line"><span class="string">        sVerifyCode=ABCD&amp;</span></span><br><span class="line"><span class="string">        sDataType=JSON&amp;</span></span><br><span class="line"><span class="string">        iListNum=20&amp;</span></span><br><span class="line"><span class="string">        totalpage=0&amp;</span></span><br><span class="line"><span class="string">        page=1&amp;</span></span><br><span class="line"><span class="string">        iOrder=0&amp;</span></span><br><span class="line"><span class="string">        iSortNumClose=1&amp;</span></span><br><span class="line"><span class="string">        jsoncallback=jQuery17101954572044754206_1513821397041&amp;</span></span><br><span class="line"><span class="string">        iAMSActivityId=51991&amp;</span></span><br><span class="line"><span class="string">        _everyRead=true&amp;</span></span><br><span class="line"><span class="string">        iTypeId=2&amp;</span></span><br><span class="line"><span class="string">        iFlowId=267733&amp;</span></span><br><span class="line"><span class="string">        iActId=2735&amp;</span></span><br><span class="line"><span class="string">        iModuleId=2735&amp;</span></span><br><span class="line"><span class="string">        _=1513821606943'''</span></span><br><span class="line"></span><br><span class="line">saveFolder = <span class="string">"image"</span></span><br><span class="line"></span><br><span class="line">imageSizeName = [<span class="literal">None</span>, <span class="literal">None</span>, <span class="string">'1024x768'</span>, <span class="string">'1280x720'</span>, <span class="string">'1280x1024'</span>, <span class="string">'1440x900'</span>, <span class="string">'1920x1080'</span>, <span class="string">'1920x1200'</span>, <span class="string">'1920x1440'</span>]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">getlist</span><span class="params">(page_id)</span>:</span></span><br><span class="line">    <span class="keyword">global</span> workList_url</span><br><span class="line">    worklist_params = &#123;</span><br><span class="line">        <span class="string">"activityId"</span>:     <span class="string">"2738"</span>,</span><br><span class="line">        <span class="string">"sVerifyCode"</span>:    <span class="string">"ABCD"</span>,</span><br><span class="line">        <span class="string">"sDataType"</span>:      <span class="string">"JSON"</span>,</span><br><span class="line">        <span class="string">"iListNum"</span>:       <span class="string">"20"</span>,</span><br><span class="line">        <span class="string">"totalpage"</span>:      <span class="string">"0"</span>,</span><br><span class="line">        <span class="string">"page"</span>:           page_id,</span><br><span class="line">        <span class="string">"iOrder"</span>:         <span class="string">"0"</span>,</span><br><span class="line">        <span class="string">"iSortNumClose"</span>:  <span class="string">"1"</span>,</span><br><span class="line">        <span class="string">"jsoncallback"</span>:   <span class="string">"jQuery17101954572044754206_1513821397041"</span>,</span><br><span class="line">        <span class="string">"iAMSActivityId"</span>: <span class="string">"51991"</span>,</span><br><span class="line">        <span class="string">"_everyRead"</span>:     <span class="string">"true"</span>,</span><br><span class="line">        <span class="string">"iTypeId"</span>:        <span class="string">"2"</span>,</span><br><span class="line">        <span class="string">"iFlowId"</span>:        <span class="string">"267733"</span>,</span><br><span class="line">        <span class="string">"iActId"</span>:         <span class="string">"2735"</span>,</span><br><span class="line">        <span class="string">"iModuleId"</span>:      <span class="string">"2735"</span>,</span><br><span class="line">        <span class="string">"_"</span>:              <span class="string">"1513821606943"</span></span><br><span class="line">    &#125;</span><br><span class="line">    result = requests.get(workList_url, params=worklist_params)</span><br><span class="line">    worklist_raw = result.text</span><br><span class="line">    worklist_json = worklist_raw[worklist_raw.find(<span class="string">'('</span>) + <span class="number">1</span>:len(worklist_raw) - <span class="number">2</span>]</span><br><span class="line">    worklist = json.loads(parse.unquote(worklist_json))</span><br><span class="line">    <span class="keyword">return</span> worklist</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">download_list</span><span class="params">(list)</span>:</span></span><br><span class="line">    <span class="keyword">global</span> imageSizeName</span><br><span class="line">    makedir(saveFolder)</span><br><span class="line">    <span class="keyword">for</span> item <span class="keyword">in</span> list[<span class="string">'List'</span>]:</span><br><span class="line">        makedir(saveFolder, item[<span class="string">'sProdName'</span>])</span><br><span class="line">        print(<span class="string">"创建文件夹(%s)"</span> % item[<span class="string">'sProdName'</span>])</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">2</span>, <span class="number">9</span>):</span><br><span class="line">            node_name = <span class="string">'sProdImgNo_'</span> + str(i)</span><br><span class="line">            image_rawurl = item[node_name]</span><br><span class="line">            image_url = image_rawurl[:len(image_rawurl) - <span class="number">3</span>] + <span class="string">'0'</span></span><br><span class="line">            </span><br><span class="line">            image_savepath = os.path.join(sys.path[<span class="number">0</span>], saveFolder, item[<span class="string">'sProdName'</span>],</span><br><span class="line">                                          item[<span class="string">'sProdName'</span>] + <span class="string">'_'</span> + imageSizeName[i] + <span class="string">'.jpg'</span>)</span><br><span class="line">            <span class="keyword">if</span> download_img(image_url, image_savepath):</span><br><span class="line">                print(<span class="string">'成功下载图片：%s, 尺寸：%s'</span> % (item[<span class="string">'sProdName'</span>], imageSizeName[i]))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">download_img</span><span class="params">(url, path)</span>:</span></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        image_data = requests.get(url, timeout=<span class="number">15</span>)</span><br><span class="line">    <span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">        print(<span class="string">"下载图片出错,%s,%s"</span> % (e, url))</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">with</span> open(path, <span class="string">'wb'</span>) <span class="keyword">as</span> f:</span><br><span class="line">        f.write(image_data.content)</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">makedir</span><span class="params">(*dirname)</span>:</span></span><br><span class="line">    dirpath = os.path.join(sys.path[<span class="number">0</span>], *dirname)</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> os.path.exists(dirpath):</span><br><span class="line">        os.mkdir(dirpath)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>, <span class="number">12</span>):</span><br><span class="line">        list = getlist(i)</span><br><span class="line">        download_list(list)</span><br></pre></td></tr></table></figure><h2 id="运行效果"><a href="#运行效果" class="headerlink" title="运行效果"></a>运行效果</h2><img src="/posts/5fb938785374b27b/8869373-2e40a91323efb8c4.png" class=""><p>下载下来的图片：</p><img src="/posts/5fb938785374b27b/8869373-c6de7d4866ac860b.png" class=""><p>每个图片都下载了所有尺寸</p><img src="/posts/5fb938785374b27b/8869373-44af481ae8d41ea1.png" class=""><h2 id="壁纸下载"><a href="#壁纸下载" class="headerlink" title="壁纸下载"></a>壁纸下载</h2><p>链接：<a href="https://share.weiyun.com/4f6bb60de78eff1d0fdd6bb6dae6bb25" target="_blank" rel="noopener">点击下载</a><br>总共236套壁纸下载：<a href="https://share.weiyun.com/7bdcd36507b97b5f304ae61117aad24e" target="_blank" rel="noopener">点击下载</a><br>链接不能用可以在公众号联系我。</p><h2 id="爬虫程序打包成EXE下载"><a href="#爬虫程序打包成EXE下载" class="headerlink" title="爬虫程序打包成EXE下载"></a>爬虫程序打包成EXE下载</h2><p>链接：<a href="https://share.weiyun.com/43b5372f64fb4bd7f641071371056396" target="_blank" rel="noopener">点击下载</a></p><h2 id="About"><a href="#About" class="headerlink" title="About"></a>About</h2><img src="/posts/5fb938785374b27b/8869373-901590e019f6f85b.png" class=""><hr><p>了解更多有趣的操作请关注我的微信公众号：DealiAxy<br>每一篇文章都在我的博客有收录：<a href="http://blog.deali.cn">blog.deali.cn</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h2&gt;&lt;p&gt;偶然间发现王者荣耀的官网上发布了这么多好看的壁纸。&lt;br&gt;地址:&lt;a href=&quot;http://pvp.qq.com/web201605/w
      
    
    </summary>
    
    
      <category term="Python" scheme="http://blog.deali.cn/categories/Python/"/>
    
    
      <category term="Python" scheme="http://blog.deali.cn/tags/Python/"/>
    
      <category term="王者" scheme="http://blog.deali.cn/tags/%E7%8E%8B%E8%80%85/"/>
    
      <category term="壁纸" scheme="http://blog.deali.cn/tags/%E5%A3%81%E7%BA%B8/"/>
    
      <category term="编写" scheme="http://blog.deali.cn/tags/%E7%BC%96%E5%86%99/"/>
    
      <category term="好看" scheme="http://blog.deali.cn/tags/%E5%A5%BD%E7%9C%8B/"/>
    
      <category term="下载" scheme="http://blog.deali.cn/tags/%E4%B8%8B%E8%BD%BD/"/>
    
      <category term="自动" scheme="http://blog.deali.cn/tags/%E8%87%AA%E5%8A%A8/"/>
    
  </entry>
  
  <entry>
    <title>ModuleNotFoundError--No-module-named-&#39;apt_pkg&#39;-错误解决</title>
    <link href="http://blog.deali.cn/posts/5a6029bfa90471d0.html"/>
    <id>http://blog.deali.cn/posts/5a6029bfa90471d0.html</id>
    <published>2020-03-02T02:27:53.000Z</published>
    <updated>2020-03-02T03:23:43.616Z</updated>
    
    <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>今天在安装docker的时候遇到这个问题了，通过搜索解决方案解决了，所以记录一下。<br>猜测原因应该是今天升级了系统的Python版本，然后<code>python3</code>的软链接也被我改成指向最新版本了。</p><h2 id="解决方法"><a href="#解决方法" class="headerlink" title="解决方法"></a>解决方法</h2><figure class="highlight crystal"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get remove --purge python-apt</span><br><span class="line">sudo apt-get install python-apt -f </span><br><span class="line">cd /usr/<span class="class"><span class="keyword">lib</span>/<span class="title">python3</span>/<span class="title">dist</span>-<span class="title">packages</span>/ </span></span><br><span class="line">sudo cp apt_pkg.cpython-<span class="number">3</span>?m-x86_64-linux-gnu.so apt_pkg.cpython-<span class="number">36</span>m-x86_64-linux-gnu.so</span><br></pre></td></tr></table></figure><h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><p><a href="https://blog.csdn.net/u013427969/article/details/80011355" target="_blank" rel="noopener">https://blog.csdn.net/u013427969/article/details/80011355</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h2&gt;&lt;p&gt;今天在安装docker的时候遇到这个问题了，通过搜索解决方案解决了，所以记录一下。&lt;br&gt;猜测原因应该是今天升级了系统的Python版本，然
      
    
    </summary>
    
    
      <category term="Linux" scheme="http://blog.deali.cn/categories/Linux/"/>
    
    
      <category term="错误" scheme="http://blog.deali.cn/tags/%E9%94%99%E8%AF%AF/"/>
    
      <category term="解决" scheme="http://blog.deali.cn/tags/%E8%A7%A3%E5%86%B3/"/>
    
  </entry>
  
  <entry>
    <title>Win10安装Ubuntu子系统教程</title>
    <link href="http://blog.deali.cn/posts/52305beb8f8bc2cf.html"/>
    <id>http://blog.deali.cn/posts/52305beb8f8bc2cf.html</id>
    <published>2020-03-02T02:27:53.000Z</published>
    <updated>2020-03-02T03:23:43.616Z</updated>
    
    <content type="html"><![CDATA[<h2 id="一、启用“适用于Linux的Windows子系统”"><a href="#一、启用“适用于Linux的Windows子系统”" class="headerlink" title="一、启用“适用于Linux的Windows子系统”"></a>一、启用“适用于Linux的Windows子系统”</h2><p>通过Win10任务栏中的Cortana搜索框搜索打开“启用或关闭Windows功能”，向下滚动列表，即可看到“适用于Linux的Windows子系统”项。</p><img src="/posts/52305beb8f8bc2cf/8869373-e68eb17c8b750c94.png" class=""><p>勾选它，确定，然后按提示重启系统。</p><h2 id="二、启用开发人员模式"><a href="#二、启用开发人员模式" class="headerlink" title="二、启用开发人员模式"></a>二、启用开发人员模式</h2><p>然后进入“设置 - 更新和安全 - 针对开发人员”设置页面，选中“开发人员模式”。如图：</p><img src="/posts/52305beb8f8bc2cf/8869373-1597673cfc5cebca.png" class=""><p>然后就会下载安装开发人员模式程序包，等待安装完成。</p><h2 id="三、启用Linux子系统"><a href="#三、启用Linux子系统" class="headerlink" title="三、启用Linux子系统"></a>三、启用Linux子系统</h2><p>右键点击Win10开始按钮，选择“Windows PowerShell(管理员)”以管理员身份运行<code>Windows PowerShell</code>。</p><p>输入并回车运行以下命令：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&gt; Enable-WindowsOptionalFeature -Online -FeatureName Microsoft-Windows-Subsystem-Linux</span><br></pre></td></tr></table></figure><img src="/posts/52305beb8f8bc2cf/8869373-951db2eddcbece22.png" class=""><p>可能需要重启系统。</p><p>这个时候已经能进入<code>bash</code>了，但是并没有发行版可以用，运行<code>bash</code>，会有以下界面提示：</p><img src="/posts/52305beb8f8bc2cf/8869373-4fcc7abe2429bc19.png" class=""><h2 id="四、在Windows商店安装Linux发行版"><a href="#四、在Windows商店安装Linux发行版" class="headerlink" title="四、在Windows商店安装Linux发行版"></a>四、在Windows商店安装Linux发行版</h2><p>打开<code>Windows Store</code>，然后随便搜索一个Linux发行版的名字，比如我输入<code>Ubuntu</code>。</p><img src="/posts/52305beb8f8bc2cf/8869373-4fe521904f231cbb.png" class=""><p>点获取App。<br>可以看到里面有3个发行版可选。</p><img src="/posts/52305beb8f8bc2cf/8869373-022c45bb088c563e.png" class=""><p>这里我们还是选Ubuntu吧，我比较熟练。</p><img src="/posts/52305beb8f8bc2cf/8869373-aa878a578eef963e.png" class=""><p>点击获取开始下载。</p><p>安装完成</p><img src="/posts/52305beb8f8bc2cf/8869373-d8b96124891ff6fe.png" class=""><p>点击启动，继续下一步的安装操作。<br>输入用户名和密码就可以了。</p><img src="/posts/52305beb8f8bc2cf/8869373-d8ee1b32f69521f0.png" class=""><p>安装完成，可以愉快地玩耍了。</p><img src="/posts/52305beb8f8bc2cf/8869373-768992e1a119eb72.png" class=""><h2 id="About"><a href="#About" class="headerlink" title="About"></a>About</h2><img src="/posts/52305beb8f8bc2cf/8869373-901590e019f6f85b.png" class=""><hr><p>了解更多有趣的操作请关注我的微信公众号：DealiAxy<br>每一篇文章都在我的博客有收录：<a href="http://blog.deali.cn">blog.deali.cn</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;一、启用“适用于Linux的Windows子系统”&quot;&gt;&lt;a href=&quot;#一、启用“适用于Linux的Windows子系统”&quot; class=&quot;headerlink&quot; title=&quot;一、启用“适用于Linux的Windows子系统”&quot;&gt;&lt;/a&gt;一、启用“适用于Lin
      
    
    </summary>
    
    
      <category term="Windows" scheme="http://blog.deali.cn/categories/Windows/"/>
    
    
      <category term="子系统" scheme="http://blog.deali.cn/tags/%E5%AD%90%E7%B3%BB%E7%BB%9F/"/>
    
      <category term="教程" scheme="http://blog.deali.cn/tags/%E6%95%99%E7%A8%8B/"/>
    
      <category term="安装" scheme="http://blog.deali.cn/tags/%E5%AE%89%E8%A3%85/"/>
    
  </entry>
  
  <entry>
    <title>【开源】发布一个Java课程设计BookManageSystem</title>
    <link href="http://blog.deali.cn/posts/94d5c360e265f85f.html"/>
    <id>http://blog.deali.cn/posts/94d5c360e265f85f.html</id>
    <published>2020-03-02T02:27:53.000Z</published>
    <updated>2020-03-02T03:23:43.620Z</updated>
    
    <content type="html"><![CDATA[<h1 id="JavaBookManageSystem"><a href="#JavaBookManageSystem" class="headerlink" title="JavaBookManageSystem"></a>JavaBookManageSystem</h1><p>Github主页：<a href="https://github.com/Deali-Axy/JavaBookManageSystem" target="_blank" rel="noopener">https://github.com/Deali-Axy/JavaBookManageSystem</a></p><h2 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h2><p>使用Java编写的简易图书管理软件，Java课程的课设之一。</p><h2 id="依赖"><a href="#依赖" class="headerlink" title="依赖"></a>依赖</h2><ul><li><code>Mybatis 3.4.6</code></li><li><code>QFramework4J</code>: <a href="https://github.com/Deali-Axy/QFramework4J" target="_blank" rel="noopener">About QFramework</a></li><li><code>Sqlite-Jdbc 3.23.1</code></li><li><code>SwingSets3</code></li></ul><h2 id="数据库设计"><a href="#数据库设计" class="headerlink" title="数据库设计"></a>数据库设计</h2><h3 id="User"><a href="#User" class="headerlink" title="User"></a>User</h3><table><thead><tr><th>field</th><th>type</th><th>help_text</th><th>constraint</th><th>length</th></tr></thead><tbody><tr><td>id</td><td>int</td><td></td><td>primary-key</td><td></td></tr><tr><td>name</td><td>char</td><td></td><td></td><td>20</td></tr><tr><td>password</td><td>char</td><td></td><td></td><td>200</td></tr><tr><td>admin</td><td>boolean</td><td></td><td></td><td></td></tr></tbody></table><h3 id="Book"><a href="#Book" class="headerlink" title="Book"></a>Book</h3><table><thead><tr><th>field</th><th>type</th><th>help_text</th><th>constraint</th><th>length</th></tr></thead><tbody><tr><td>id</td><td>int</td><td></td><td>primary-key</td><td></td></tr><tr><td>name</td><td>char</td><td></td><td></td><td>200</td></tr><tr><td>author</td><td>char</td><td></td><td></td><td>200</td></tr><tr><td>publisher</td><td>char</td><td></td><td></td><td>200</td></tr><tr><td>publication_date</td><td>datetime</td><td></td><td></td><td></td></tr><tr><td>pages</td><td>int</td><td></td><td></td><td></td></tr><tr><td>ISBN</td><td>char</td><td></td><td></td><td>20</td></tr></tbody></table><h2 id="Borrowing"><a href="#Borrowing" class="headerlink" title="Borrowing"></a>Borrowing</h2><table><thead><tr><th>field</th><th>type</th><th>help_text</th><th>constraint</th><th>length</th></tr></thead><tbody><tr><td>id</td><td>int</td><td></td><td>primary-key</td><td></td></tr><tr><td>book_id</td><td>int</td><td></td><td>foregin-key to <code>Book</code></td><td></td></tr><tr><td>user_id</td><td>int</td><td></td><td>foregin-key to <code>User</code></td><td></td></tr><tr><td>date</td><td>date</td><td></td><td></td><td></td></tr></tbody></table><h2 id="截图"><a href="#截图" class="headerlink" title="截图"></a>截图</h2><img src="/posts/94d5c360e265f85f/8869373-c8b6b92aa54a6ad5.png" class=""><img src="/posts/94d5c360e265f85f/8869373-923777bb29cc17d3.png" class=""><img src="/posts/94d5c360e265f85f/8869373-3cc0c3d6f408ac37.png" class=""><img src="/posts/94d5c360e265f85f/8869373-52bf17cfb859202e.png" class=""><h2 id="欢迎交流"><a href="#欢迎交流" class="headerlink" title="欢迎交流"></a>欢迎交流</h2><p>交流问题请在微信公众号后台留言，每一条信息我都会回复哈~</p><ul><li>微信公众号：画星星高手</li><li>打代码直播间：<a href="https://live.bilibili.com/11883038" target="_blank" rel="noopener">https://live.bilibili.com/11883038</a></li><li>知乎：<a href="https://www.zhihu.com/people/dealiaxy" target="_blank" rel="noopener">https://www.zhihu.com/people/dealiaxy</a></li><li>专栏：<a href="https://zhuanlan.zhihu.com/deali" target="_blank" rel="noopener">https://zhuanlan.zhihu.com/deali</a></li><li>简书：<a href="https://www.jianshu.com/u/965b95853b9f" target="_blank" rel="noopener">https://www.jianshu.com/u/965b95853b9f</a></li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;JavaBookManageSystem&quot;&gt;&lt;a href=&quot;#JavaBookManageSystem&quot; class=&quot;headerlink&quot; title=&quot;JavaBookManageSystem&quot;&gt;&lt;/a&gt;JavaBookManageSystem&lt;/h1&gt;&lt;
      
    
    </summary>
    
    
      <category term="Production" scheme="http://blog.deali.cn/categories/Production/"/>
    
    
      <category term="Java" scheme="http://blog.deali.cn/tags/Java/"/>
    
      <category term="产品" scheme="http://blog.deali.cn/tags/%E4%BA%A7%E5%93%81/"/>
    
      <category term="课程设计" scheme="http://blog.deali.cn/tags/%E8%AF%BE%E7%A8%8B%E8%AE%BE%E8%AE%A1/"/>
    
      <category term="开源" scheme="http://blog.deali.cn/tags/%E5%BC%80%E6%BA%90/"/>
    
      <category term="发布" scheme="http://blog.deali.cn/tags/%E5%8F%91%E5%B8%83/"/>
    
  </entry>
  
  <entry>
    <title>王者荣耀刷金币小助手发布</title>
    <link href="http://blog.deali.cn/posts/7b6151eac9b5e54a.html"/>
    <id>http://blog.deali.cn/posts/7b6151eac9b5e54a.html</id>
    <published>2020-03-02T02:27:53.000Z</published>
    <updated>2020-03-02T03:23:43.620Z</updated>
    
    <content type="html"><![CDATA[<h2 id="软件截图"><a href="#软件截图" class="headerlink" title="软件截图"></a>软件截图</h2><img src="/posts/7b6151eac9b5e54a/8869373-1be47a1a3793bab5.png" class=""><h2 id="软件原理"><a href="#软件原理" class="headerlink" title="软件原理"></a>软件原理</h2><p>使用<code>ADB(Android Debug Bridge)</code>连接安卓模拟器/真机，模拟屏幕触摸输入来控制游戏，和人手操作是没有区别的，所以不用担心被发现的问题。<em>（不过闷声发大财是最好的）</em></p><h2 id="使用方法"><a href="#使用方法" class="headerlink" title="使用方法"></a>使用方法</h2><p>首先要安装一个安卓模拟器。（当然要用手机也可以，不过开发这个软件的初衷就是不想用手机刷）<br>这里我用的是 <strong>网易MuMu模拟器</strong> ，它的端口号就是 <code>7555</code>。如果使用其他模拟器的话就需要去查一下模拟器的默认端口号是多少。<br>在模拟器里安装王者，登录之后打开到这个界面：</p><img src="/posts/7b6151eac9b5e54a/8869373-cceade6f953a8336.png" class=""><p>点击 <strong>运行</strong> 就开始自动刷金币了。大概3个小时多就能刷满。</p><h2 id="软件配置"><a href="#软件配置" class="headerlink" title="软件配置"></a>软件配置</h2><p><strong>ADB端口号</strong>：安卓虚拟机/安卓手机所在的ADB端口号，可以点击 <em>如何查看？</em> 按钮了解。<br><strong>分辨率</strong>：输入正确的ADB端口号之后点 <em>连接</em> 按钮就可以自动获取了，当然也可以手动输入。<br><strong>点击按钮延迟、加载/运行等待时间</strong>：刷一局的时间视虚拟机/手机性能差异会有不同吗，可以根据实际情况调整。<br><strong>地图</strong>：目前只做了魔女回忆这个地图，这个地图比较稳定，后期有需求的话可以考虑把操控游戏的逻辑做成外部的脚本，可以让用户自己写脚本执行。</p><h2 id="软件下载"><a href="#软件下载" class="headerlink" title="软件下载"></a>软件下载</h2><p><a href="http://cloud.deali.cn/fileStore/update/王者荣耀刷金币助手-Installation-1.0.2.12.exe" target="_blank" rel="noopener">Installation-1.0.2.12.exe</a></p><h2 id="About"><a href="#About" class="headerlink" title="About"></a>About</h2><img src="/posts/7b6151eac9b5e54a/8869373-901590e019f6f85b.png" class=""><hr><p>了解更多有趣的操作请关注我的微信公众号：DealiAxy<br>每一篇文章都在我的博客有收录：<a href="http://blog.deali.cn">blog.deali.cn</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;软件截图&quot;&gt;&lt;a href=&quot;#软件截图&quot; class=&quot;headerlink&quot; title=&quot;软件截图&quot;&gt;&lt;/a&gt;软件截图&lt;/h2&gt;&lt;img src=&quot;/posts/7b6151eac9b5e54a/8869373-1be47a1a3793bab5.png&quot; c
      
    
    </summary>
    
    
      <category term="游戏" scheme="http://blog.deali.cn/categories/%E6%B8%B8%E6%88%8F/"/>
    
    
      <category term="发布" scheme="http://blog.deali.cn/tags/%E5%8F%91%E5%B8%83/"/>
    
      <category term="王者" scheme="http://blog.deali.cn/tags/%E7%8E%8B%E8%80%85/"/>
    
      <category term="金币" scheme="http://blog.deali.cn/tags/%E9%87%91%E5%B8%81/"/>
    
      <category term="助手" scheme="http://blog.deali.cn/tags/%E5%8A%A9%E6%89%8B/"/>
    
  </entry>
  
  <entry>
    <title>Windows10-快捷键大全，整理+排版</title>
    <link href="http://blog.deali.cn/posts/f6b6e463bb28b0c3.html"/>
    <id>http://blog.deali.cn/posts/f6b6e463bb28b0c3.html</id>
    <published>2020-03-02T02:27:53.000Z</published>
    <updated>2020-03-02T03:23:43.640Z</updated>
    
    <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>偶然在微软官网看到的，整理了一下，非常全面。不只有Windows10能用，大部分快捷键在7/8/8.1里都是通用的。<br>发现这东西对提高效率帮助很大啊，下面是整理之后的。</p><h2 id="复制、粘贴及其他常规的键盘快捷方式"><a href="#复制、粘贴及其他常规的键盘快捷方式" class="headerlink" title="复制、粘贴及其他常规的键盘快捷方式"></a>复制、粘贴及其他常规的键盘快捷方式</h2><table><thead><tr><th>按键</th><th>操作</th></tr></thead><tbody><tr><td>Ctrl + X</td><td>剪切选定项</td></tr><tr><td>Ctrl + C（或 Ctrl + Insert）</td><td>复制选定项</td></tr><tr><td>Ctrl + V（或 Shift + Insert）</td><td>粘贴选定项</td></tr><tr><td>Ctrl + Z</td><td>撤消操作</td></tr><tr><td>Alt + Tab</td><td>在打开的应用之间切换</td></tr><tr><td>Alt + F4</td><td>关闭活动项，或者退出活动应用</td></tr><tr><td>Windows 徽标键  + L</td><td>锁定你的电脑</td></tr><tr><td>Windows 徽标键  + D</td><td>显示和隐藏桌面</td></tr><tr><td>F2</td><td>重命名选定项</td></tr><tr><td>F3</td><td>在文件资源管理器中搜索文件或文件夹</td></tr><tr><td>F4</td><td>在文件资源管理器中显示地址栏列表</td></tr><tr><td>F5</td><td>刷新活动窗口</td></tr><tr><td>F6</td><td>循环浏览窗口中或桌面上的屏幕元素</td></tr><tr><td>F10</td><td>激活活动应用中的菜单栏</td></tr><tr><td>Alt + F8</td><td>在登录屏幕上显示你的密码</td></tr><tr><td>Alt + Esc</td><td>按项目打开顺序循环浏览</td></tr><tr><td>Alt + 带下划线的字母</td><td>执行该字母相关的命令</td></tr><tr><td>Alt + Enter</td><td>显示所选项目的属性</td></tr><tr><td>Alt + 空格键</td><td>打开活动窗口的快捷方式菜单</td></tr><tr><td>Alt + 向左键</td><td>返回</td></tr><tr><td>Alt + 向右键</td><td>前进</td></tr><tr><td>Alt + Page Up</td><td>向上移动一个屏幕</td></tr><tr><td>Alt + Page Down</td><td>向下移动一个屏幕</td></tr><tr><td>Ctrl + F4</td><td>关闭活动文档（在可全屏显示并允许你同时打开多个文档的应用中）</td></tr><tr><td>Ctrl + A</td><td>选择文档或窗口中的所有项目</td></tr><tr><td>Ctrl + D（或 Delete）</td><td>删除所选的项目，将其移至回收站</td></tr><tr><td>Ctrl + R（或 F5）</td><td>刷新活动窗口</td></tr><tr><td>Ctrl + Y</td><td>恢复操作</td></tr><tr><td>Ctrl + 向右键</td><td>将光标移动到下一个字词的起始处</td></tr><tr><td>Ctrl + 向左键</td><td>将光标移动到上一个字词的起始处</td></tr><tr><td>Ctrl + 向下键</td><td>将光标移动到下一段落的起始处</td></tr><tr><td>Ctrl + 向上键</td><td>将光标移动到上一段落的起始处</td></tr><tr><td>Ctrl + Alt + Tab</td><td>使用箭头键在所有打开的应用之间进行切换</td></tr><tr><td>Alt + Shift + 箭头键</td><td>当组或磁贴的焦点放在“开始”菜单上时，可将其朝指定方向移动</td></tr><tr><td>Ctrl + Shift + 箭头键</td><td>当磁贴的焦点放在“开始”菜单上时，将其移到另一个磁贴即可创建一个文件夹</td></tr><tr><td>Ctrl + 箭头键</td><td>打开“开始”菜单后调整其大小</td></tr><tr><td>Ctrl + 箭头键（移至某个项目）+ 空格键</td><td>选择窗口中或桌面上的多个单独项目</td></tr><tr><td>Ctrl + Shift（及箭头键）</td><td>选择文本块</td></tr><tr><td>Ctrl + Esc</td><td>打开“开始”屏幕</td></tr><tr><td>Ctrl + Shift + Esc</td><td>打开任务管理器</td></tr><tr><td>Ctrl + Shift</td><td>如果多种键盘布局可用，则可切换键盘布局</td></tr><tr><td>Ctrl + 空格键</td><td>打开或关闭的中文输入法编辑器 (IME)</td></tr><tr><td>Shift + F10</td><td>显示所选项目的快捷方式菜单</td></tr><tr><td>按 Shift 与任何箭头键</td><td>在窗口中或桌面上选择多个项目，或在文档中选择文本</td></tr><tr><td>Shift + Delete</td><td>删除选定项，无需先移动到回收站</td></tr><tr><td>向右键</td><td>打开右侧的下一个菜单，或打开子菜单</td></tr><tr><td>向左键</td><td>打开左侧的下一个菜单，或关闭子菜单</td></tr><tr><td>Esc</td><td>停止或离开当前任务</td></tr></tbody></table><h2 id="Windows-徽标键键盘快捷方式"><a href="#Windows-徽标键键盘快捷方式" class="headerlink" title="Windows 徽标键键盘快捷方式"></a>Windows 徽标键键盘快捷方式</h2><table><thead><tr><th>按键</th><th>操作</th></tr></thead><tbody><tr><td>Windows 徽标键</td><td>打开或关闭“开始”屏幕</td></tr><tr><td>Windows 徽标键 + A</td><td>打开操作中心</td></tr><tr><td>Windows 徽标键  + B</td><td>将焦点放在通知区域上</td></tr><tr><td>Windows 徽标键 + C</td><td>在侦听模式下打开 Cortana <strong>备注</strong> 此快捷方式默认情况下处于关闭状态。若要打开它，请选择“开始”菜单 &gt;“设置” &gt;“Cortana”，并打开“当我按 Windows 徽标键 + C 时，让 Cortana 听我的命令”下的切换键</td></tr><tr><td>Windows 徽标键 + Shift + C</td><td>打开超级按钮菜单</td></tr><tr><td>Windows 徽标键 + D</td><td>显示和隐藏桌面</td></tr><tr><td>Windows 徽标键 + Alt + D</td><td>显示和隐藏桌面上的日期和时间</td></tr><tr><td>Windows 徽标键 + E</td><td>打开文件资源管理器</td></tr><tr><td>Windows 徽标键 + F</td><td>打开反馈中心并获取屏幕截图</td></tr><tr><td>Windows 徽标键 + G</td><td>打开游戏栏（当游戏处于打开状态时）</td></tr><tr><td>Windows 徽标键 + H</td><td>开始听写</td></tr><tr><td>Windows 徽标键  + I</td><td>打开“设置”</td></tr><tr><td>Windows 徽标键 + J</td><td>请将焦点设置到可用的 Windows 提示。当出现 Windows 提示时，请将焦点移到提示上。 再次按下键盘快捷方式，将焦点放在屏幕上 Windows 提示所固定的元素上。</td></tr><tr><td>Windows 徽标键 + K</td><td>打开“连接”快速操作</td></tr><tr><td>Windows 徽标键 + L</td><td>锁定你的电脑或切换帐户</td></tr><tr><td>Windows 徽标键 + M</td><td>最小化所有窗口</td></tr><tr><td>Windows 徽标键 + O</td><td>锁定设备方向</td></tr><tr><td>Windows 徽标键 + P</td><td>选择演示显示模式</td></tr><tr><td>Windows 徽标键 + R</td><td>打开“运行”对话框</td></tr><tr><td>Windows 徽标键 + S</td><td>打开“搜索”</td></tr><tr><td>Windows 徽标键 + T</td><td>循环浏览任务栏上的应用</td></tr><tr><td>Windows 徽标键 + U</td><td>打开“轻松使用设置中心”</td></tr><tr><td>Windows 徽标键 + V</td><td>循环浏览通知</td></tr><tr><td>Windows 徽标键 + Shift + V</td><td>以相反顺序循环浏览通知</td></tr><tr><td>Windows 徽标键 + X</td><td>打开“快速链接”菜单</td></tr><tr><td>Windows 徽标键  + Y</td><td>在 Windows Mixed Reality 与桌面之间切换输入</td></tr><tr><td>Windows 徽标键 + Z</td><td>以全屏模式显示应用中可用的命令</td></tr><tr><td>Windows 徽标键  + 句点 (.) 或分号 (;)</td><td>打开表情符号面板</td></tr><tr><td>Windows 徽标键 + 逗号 (,)</td><td>临时速览桌面</td></tr><tr><td>Windows 徽标键 + Pause 键</td><td>显示“系统属性”对话框</td></tr><tr><td>Windows 徽标键 + Ctrl + F</td><td>搜索电脑（如果已连接到网络）</td></tr><tr><td>Windows 徽标键 + Shift + M</td><td>还原桌面上的最小化窗口</td></tr><tr><td>Windows 徽标键 + 数字</td><td>打开桌面，然后启动固定到任务栏的应用（位于数字所指明的位置）。如果应用已处于运行状态，则切换至该应用。</td></tr><tr><td>Windows 徽标键 + Shift + 数字</td><td>打开桌面，然后启动固定到任务栏的应用新实例（位于数字所指明的位置）</td></tr><tr><td>Windows 徽标键 + Ctrl + 数字</td><td>打开桌面，然后切换至固定到任务栏的应用的最后活动窗口（位于数字所指明的位置）</td></tr><tr><td>Windows 徽标键 + Alt + 数字</td><td>打开桌面，然后打开固定到任务栏的应用的“跳转列表”（位于数字所指明的位置）</td></tr><tr><td>Windows 徽标键 + Ctrl + Shift + 数字</td><td>打开桌面，然后以管理员身份打开位于任务栏上指定位置的应用新实例</td></tr><tr><td>Windows 徽标键 + Tab</td><td>打开任务视图</td></tr><tr><td>Windows 徽标键 向上键</td><td>最大化窗口</td></tr><tr><td>Windows 徽标键 向下键</td><td>删除屏幕上的当前应用并最小化桌面窗口</td></tr><tr><td>Windows 徽标键 + 向左键</td><td>最大化屏幕左侧的应用或桌面窗口</td></tr><tr><td>Windows 徽标键 + 向右键</td><td>最大化屏幕右侧的应用或桌面窗口</td></tr><tr><td>Windows 徽标键 + Home</td><td>最小化活动桌面窗口之外的所有窗口（在第二个笔划时还原所有窗口）</td></tr><tr><td>Windows 徽标键 + Shift + 向上键</td><td>将桌面窗口拉伸至屏幕顶部和底部</td></tr><tr><td>Windows 徽标键 + Shift + 向下键</td><td>在垂直方向上还原/最小化活动桌面窗口，而宽度保持不变</td></tr><tr><td>Windows 徽标键 Shift + 向左键或向右键</td><td>将桌面上的应用或窗口从一台显示器移动至另一台显示器</td></tr><tr><td>Windows 徽标键 + 空格键</td><td>切换输入语言和键盘布局</td></tr><tr><td>Windows 徽标键 + Ctrl + 空格键</td><td>对之前选择的输入所做的更改</td></tr><tr><td>Windows 徽标键 + Ctrl + Enter</td><td>打开“讲述人”</td></tr><tr><td>Windows 徽标键 + 正斜杠 (/)</td><td>开始输入法复原流程</td></tr><tr><td>Windows 徽标键  + Ctrl + V</td><td>打开肩式分接设备</td></tr></tbody></table><h2 id="命令提示符键盘快捷方式"><a href="#命令提示符键盘快捷方式" class="headerlink" title="命令提示符键盘快捷方式"></a>命令提示符键盘快捷方式</h2><table><thead><tr><th>按键</th><th>操作</th></tr></thead><tbody><tr><td>Ctrl + C（或 Ctrl + Insert）</td><td>复制选定文本</td></tr><tr><td>Ctrl + V（或 Shift + Insert）</td><td>粘贴选定文本</td></tr><tr><td>Ctrl + M</td><td>输入标记模式</td></tr><tr><td>Alt + 所选择的键</td><td>开始在块模式下选择</td></tr><tr><td>箭头键</td><td>按指定方向移动光标</td></tr><tr><td>Page up</td><td>将光标向上移动一个页面</td></tr><tr><td>Page down</td><td>将光标向下移动一个页面</td></tr><tr><td>Ctrl + Home（标记模式）</td><td>将光标移动到缓冲区起始处</td></tr><tr><td>Ctrl + End（标记模式）</td><td>将光标移动到缓冲区结尾处</td></tr><tr><td>Ctrl + 向上键</td><td>在输出历史记录中上移一行</td></tr><tr><td>Ctrl + 向下键</td><td>在输出历史记录中下移一行</td></tr><tr><td>Ctrl + Home（历史记录导航）</td><td>如果命令行为空，则将视区移动到缓冲区顶部。否则，请删除命令行中光标左侧的所有字符。</td></tr><tr><td>Ctrl + End（历史记录导航）</td><td>如果命令行为空，则将视区移动到命令行。否则，请删除命令行中光标右侧的所有字符。</td></tr></tbody></table><h2 id="对话框键盘快捷方式"><a href="#对话框键盘快捷方式" class="headerlink" title="对话框键盘快捷方式"></a>对话框键盘快捷方式</h2><table><thead><tr><th>按键</th><th>操作</th></tr></thead><tbody><tr><td>F4</td><td>显示活动列表中的项目</td></tr><tr><td>Ctrl + Tab</td><td>在选项卡中向前移动</td></tr><tr><td>Ctrl + Shift + Tab</td><td>在选项卡中向后移动</td></tr><tr><td>Ctrl + 数字（数字 1–9）</td><td>移动到第 n 个选项卡</td></tr><tr><td>Tab</td><td>在选项中向前移动</td></tr><tr><td>Shift + Tab</td><td>在选项中向后移动</td></tr><tr><td>Alt + 带下划线的字母</td><td>执行可与该字母结合使用的命令（或选择该选项）</td></tr><tr><td>空格键</td><td>如果活动选项为复选框，则选择或清除复选框</td></tr><tr><td>Backspace</td><td>如果在“另存为”或“打开”对话框中选择文件夹，则打开上一级别的文件夹</td></tr><tr><td>箭头键</td><td>如果活动选项是一组选项按钮，请选择一个按钮</td></tr></tbody></table><h2 id="文件资源管理器键盘快捷方式"><a href="#文件资源管理器键盘快捷方式" class="headerlink" title="文件资源管理器键盘快捷方式"></a>文件资源管理器键盘快捷方式</h2><table><thead><tr><th>按键</th><th>操作</th></tr></thead><tbody><tr><td>Alt + D</td><td>选择地址栏</td></tr><tr><td>Ctrl + E</td><td>选择搜索框</td></tr><tr><td>Ctrl + F</td><td>选择搜索框</td></tr><tr><td>Ctrl + N</td><td>打开新窗口</td></tr><tr><td>Ctrl + W</td><td>关闭活动窗口</td></tr><tr><td>Ctrl + 鼠标滚轮</td><td>更改文件和文件夹图标的大小和外观</td></tr><tr><td>Ctrl + Shift + E</td><td>显示选定文件夹上所有级别文件夹</td></tr><tr><td>Ctrl + Shift + N</td><td>新建文件夹</td></tr><tr><td>Num Lock + 星号 (*)</td><td>显示选定文件夹下所有子文件夹</td></tr><tr><td>Num Lock + 加号 (+)</td><td>显示选定文件夹中的内容</td></tr><tr><td>Num Lock + 减号 (-)</td><td>折叠选定文件夹</td></tr><tr><td>Alt + P</td><td>显示预览面板</td></tr><tr><td>Alt + Enter</td><td>打开选定项目的“属性”对话框</td></tr><tr><td>Alt + 向右键</td><td>查看下一个文件夹</td></tr><tr><td>Alt + 向上键</td><td>查看该文件夹所在的文件夹</td></tr><tr><td>Alt + 向左键</td><td>查看上一个文件夹</td></tr><tr><td>Backspace</td><td>查看上一个文件夹</td></tr><tr><td>向右键</td><td>显示当前选择内容（如果已折叠），或选择第一个子文件夹</td></tr><tr><td>向左键</td><td>折叠当前所选内容（如果已展开），或选择该文件夹所在的文件夹</td></tr><tr><td>End</td><td>显示活动窗口底部</td></tr><tr><td>Home</td><td>显示活动窗口顶部</td></tr><tr><td>F11</td><td>最大化或最小化活动窗口</td></tr></tbody></table><h2 id="虚拟桌面的键盘快捷方式"><a href="#虚拟桌面的键盘快捷方式" class="headerlink" title="虚拟桌面的键盘快捷方式"></a>虚拟桌面的键盘快捷方式</h2><table><thead><tr><th>按键</th><th>操作</th></tr></thead><tbody><tr><td>Windows 徽标键  + Tab</td><td>打开“任务视图”</td></tr><tr><td>Windows 徽标键  + Ctrl + D</td><td>添加虚拟桌面</td></tr><tr><td>Windows 徽标键  + Ctrl + 向右键</td><td>在你于右侧创建的虚拟桌面之间切换</td></tr><tr><td>Windows 徽标键  + Ctrl + 向左键</td><td>在你于左侧创建的虚拟桌面之间切换</td></tr><tr><td>Windows 徽标键  + Ctrl + F4</td><td>关闭你正在使用的虚拟桌面</td></tr></tbody></table><h2 id="任务栏键盘快捷方式"><a href="#任务栏键盘快捷方式" class="headerlink" title="任务栏键盘快捷方式"></a>任务栏键盘快捷方式</h2><table><thead><tr><th>按键</th><th>操作</th></tr></thead><tbody><tr><td>Shift + 单击任务栏按钮</td><td>打开应用或快速打开另一个应用实例</td></tr><tr><td>Ctrl + Shift + 单击任务栏按钮</td><td>以管理员身份打开应用</td></tr><tr><td>Shift + 右键单击任务栏按钮</td><td>显示应用的窗口菜单</td></tr><tr><td>Shift + 右键单击分组任务栏按钮</td><td>显示组窗口菜单</td></tr><tr><td>Ctrl + 单击分组任务栏按钮</td><td>循环浏览组窗口</td></tr></tbody></table><h2 id="设置键盘快捷方式"><a href="#设置键盘快捷方式" class="headerlink" title="设置键盘快捷方式"></a>设置键盘快捷方式</h2><table><thead><tr><th>按键</th><th>操作</th></tr></thead><tbody><tr><td>Windows 徽标键  + I</td><td>打开设置</td></tr><tr><td>Backspace</td><td>返回至设置主页</td></tr><tr><td>使用搜索框在任何页面上键入</td><td>搜索设置</td></tr></tbody></table><h2 id="About"><a href="#About" class="headerlink" title="About"></a>About</h2><img src="/posts/f6b6e463bb28b0c3/8869373-901590e019f6f85b.png" class=""><hr><p>了解更多有趣的操作请关注我的微信公众号：DealiAxy<br>每一篇文章都在我的博客有收录：<a href="http://blog.deali.cn">blog.deali.cn</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h2&gt;&lt;p&gt;偶然在微软官网看到的，整理了一下，非常全面。不只有Windows10能用，大部分快捷键在7/8/8.1里都是通用的。&lt;br&gt;发现这东西对提高
      
    
    </summary>
    
    
      <category term="Windows" scheme="http://blog.deali.cn/categories/Windows/"/>
    
    
      <category term="快捷键" scheme="http://blog.deali.cn/tags/%E5%BF%AB%E6%8D%B7%E9%94%AE/"/>
    
      <category term="排版" scheme="http://blog.deali.cn/tags/%E6%8E%92%E7%89%88/"/>
    
      <category term="整理" scheme="http://blog.deali.cn/tags/%E6%95%B4%E7%90%86/"/>
    
  </entry>
  
  <entry>
    <title>这是演习：Win10蓝屏，随你召唤</title>
    <link href="http://blog.deali.cn/posts/ecb2ff0e6c1cfcde.html"/>
    <id>http://blog.deali.cn/posts/ecb2ff0e6c1cfcde.html</id>
    <published>2020-03-02T02:27:53.000Z</published>
    <updated>2020-03-02T03:23:43.636Z</updated>
    
    <content type="html"><![CDATA[<p>蓝屏似乎是很多<a href="http://www.ithome.com/" target="_blank" rel="noopener">IT之家</a>用户不希望看到的东西，虽然在<a href="http://win10.ithome.com/" target="_blank" rel="noopener">Win10</a>中你还可以扫描屏幕下方二维码参与微软互动赢取大……那个，蓝屏的好处就是为专业人员提供问题信息，比如当前的内存转储，有助于排查和解决问题。当然，可能光是默认蓝屏给出的信息不够，此时可以<a href="http://www.ithome.com/html/win10/267949.htm" target="_blank" rel="noopener">开启Win10蓝屏详细信息显示</a>。</p><img src="/posts/ecb2ff0e6c1cfcde/8869373-34191dba43c60092.png" class=""><p>▲这二维码居然“上位”了……VM12虚拟机测试结果</p><p>微软在<a href="http://win10.ithome.com/" target="_blank" rel="noopener">Windows10</a>中安排了手动“调取”蓝屏的方式，那就是*<em>按住右Ctrl键，然后连续按两次Scroll Lock  ↓ *</em>。不过该功能默认被锁定，估计是怕普通用户误操作带来麻烦。但对于专业人员和喜欢折腾的用户来说，可以手动解锁该技能。</p><p><strong>具体方法如下：</strong></p><p>1、进入计算机属性→ 高级系统设置→ 高级→ 启动和故障恢复→ 设置，如下图 ——</p><img src="/posts/ecb2ff0e6c1cfcde/8869373-23b9613ce7607591.jpg" class=""><img src="/posts/ecb2ff0e6c1cfcde/8869373-a2dc33bf7005616a.png" class=""><img src="/posts/ecb2ff0e6c1cfcde/8869373-60a3de8cf17d7302.png" class=""><p>2、在“系统失败”中<strong>取消**</strong>勾选“自动重新启动”<strong>，在“写入调试信息”中选择“</strong>自动内存转储**”（默认），点击“确定”，如下图 ——</p><img src="/posts/ecb2ff0e6c1cfcde/8869373-313770e77ae2612d.png" class=""><p>3、在Cortana搜索栏输入<strong>regedit</strong>，按回车键进入注册表编辑器</p><p>4、USB键盘用户定位到（适合大多数用户）</p><p><strong>HKEY_LOCAL_MACHINE\System\CurrentControlSet\Services\kbdhid\Parameters</strong></p><p>PS/2键盘用户定位到（现在较少见，多见于十几年前的老机器）</p><p><strong>HKEY_LOCAL_MACHINE\System\CurrentControlSet\Services\i8042prt\Parameters</strong></p><p>5、新建<strong>DWORD（32位）值</strong>（如下图），命名为<strong>CrashOnCtrlScroll</strong>。需要注意的是，此处可能有一个Bug导致默认值为0时，一定几率造成键盘暂时失效（几率不算大，但USB键盘用户修改PS/2注册表或反过来等误操作会有较高几率造成键盘临时失效），可以通过复制粘贴等方式把0改为1，通过屏幕键盘的手写功能也可以，反正你得把0改成1，“确定”之后键盘恢复；也可以用鼠标直接删掉该值，键盘也可立即恢复</p><img src="/posts/ecb2ff0e6c1cfcde/8869373-9b48aef7465eed04.png" class=""><p>▲USB键盘</p><img src="/posts/ecb2ff0e6c1cfcde/8869373-83c1a6ecec63afea.png" class=""><p>▲PS/2键盘</p><p>6、把数值数据改为<strong>1</strong>，“确定”后<strong>重启系统</strong>应用配置，如下图 ——</p><img src="/posts/ecb2ff0e6c1cfcde/8869373-c9a951028aeaa140.png" class=""><p>▲USB键盘</p><img src="/posts/ecb2ff0e6c1cfcde/8869373-1f81eb4d2b0f0050.png" class=""><p>▲PS/2键盘</p><p>此时<strong>按住右Ctrl键，并连续按两次Scroll Lock</strong>，激动人心的蓝屏召唤成功。注意，这是真<strong>蓝屏</strong>，不是出个画面而已，<strong>需要重启电脑才能恢复使用</strong>。所以这个召唤大法该怎么用比较恰当，各位还须三思而行。另外，如果你想用蓝屏来达到不可告人的目的，最好对方不懂电脑和英文，因为最后的“<strong>Stop code：MANUALLY INITIATED CRASH</strong>”（<strong>停止码：手动启动崩溃</strong>）已经出卖了你……</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;蓝屏似乎是很多&lt;a href=&quot;http://www.ithome.com/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;IT之家&lt;/a&gt;用户不希望看到的东西，虽然在&lt;a href=&quot;http://win10.ithome.com/&quot; target=&quot;_
      
    
    </summary>
    
    
      <category term="Windows" scheme="http://blog.deali.cn/categories/Windows/"/>
    
    
      <category term="召唤" scheme="http://blog.deali.cn/tags/%E5%8F%AC%E5%94%A4/"/>
    
      <category term="演习" scheme="http://blog.deali.cn/tags/%E6%BC%94%E4%B9%A0/"/>
    
  </entry>
  
  <entry>
    <title>Useful-Gnome-Plugins</title>
    <link href="http://blog.deali.cn/posts/886612c0c0501a9a.html"/>
    <id>http://blog.deali.cn/posts/886612c0c0501a9a.html</id>
    <published>2020-03-02T02:27:53.000Z</published>
    <updated>2020-03-02T03:23:43.636Z</updated>
    
    <content type="html"><![CDATA[<img src="/posts/886612c0c0501a9a/8869373-13a8e11217bbe044.png" class=""><img src="/posts/886612c0c0501a9a/8869373-9c76b5848a1907f4.png" class=""><img src="/posts/886612c0c0501a9a/8869373-861b747887e0a9ba.png" class=""><h2 id="About"><a href="#About" class="headerlink" title="About"></a>About</h2><img src="/posts/886612c0c0501a9a/8869373-901590e019f6f85b.png" class=""><hr><p>了解更多有趣的操作请关注我的微信公众号：DealiAxy<br>每一篇文章都在我的博客有收录：<a href="http://blog.deali.cn">blog.deali.cn</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;img src=&quot;/posts/886612c0c0501a9a/8869373-13a8e11217bbe044.png&quot; class=&quot;&quot;&gt;

&lt;img src=&quot;/posts/886612c0c0501a9a/8869373-9c76b5848a1907f4.png&quot; c
      
    
    </summary>
    
    
      <category term="Linux" scheme="http://blog.deali.cn/categories/Linux/"/>
    
    
  </entry>
  
  <entry>
    <title>关闭CentOS-6-防火墙，关闭Linux系统防火墙</title>
    <link href="http://blog.deali.cn/posts/8d434077f5837b7e.html"/>
    <id>http://blog.deali.cn/posts/8d434077f5837b7e.html</id>
    <published>2020-03-02T02:27:53.000Z</published>
    <updated>2020-03-02T03:23:43.636Z</updated>
    
    <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>最近部署服务的时候需要临时关闭一下防火墙，所以记个笔记，如何关闭CentOS防火墙。</p><h2 id="查看系统版本"><a href="#查看系统版本" class="headerlink" title="查看系统版本"></a>查看系统版本</h2><p>输入：<code>cat /etc/issue</code>   查看版本</p><h2 id="通过service关闭"><a href="#通过service关闭" class="headerlink" title="通过service关闭"></a>通过service关闭</h2><p>service命令开启以及关闭防火墙为即时生效，下次重启机器的时候会自动复原。</p><p>查看防火墙状态：</p><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">service iptables status</span></span><br></pre></td></tr></table></figure><p>记得在CentOS6.9中是输入iptables，网上有些教程使用<code>service iptable status</code>命令并不可行。</p><p>关闭防火墙：<code>service iptables stop</code></p><p>打开防火墙：<code>service iptables start</code></p><h2 id="通过：-etc-init-d-iptables-进行操作"><a href="#通过：-etc-init-d-iptables-进行操作" class="headerlink" title="通过：/etc/init.d/iptables 进行操作"></a>通过：<code>/etc/init.d/iptables</code> 进行操作</h2><p>查看防火墙状态：<code>/etc/init.d/iptables/status</code></p><p>关闭防火墙：<code>/etc/init.d/iptables stop</code>（这是临时关闭，关闭的是当前运行的防火墙，重启之后防火墙又会启动，因为它是开机自启动的）</p><h2 id="关闭防火墙开机自启，使用chkconfig命令"><a href="#关闭防火墙开机自启，使用chkconfig命令" class="headerlink" title="关闭防火墙开机自启，使用chkconfig命令"></a>关闭防火墙开机自启，使用chkconfig命令</h2><p>永久开启防火墙：<code>chkconfig iptables on</code></p><p>查看状态：<code>chkconfig --list iptables</code></p><p>永久关闭防火墙： <code>chkconfig iptables off</code></p><h2 id="About"><a href="#About" class="headerlink" title="About"></a>About</h2><img src="/posts/8d434077f5837b7e/8869373-901590e019f6f85b.png" class=""><hr><p>了解更多有趣的操作请关注我的微信公众号：DealiAxy<br>每一篇文章都在我的博客有收录：<a href="http://blog.deali.cn">blog.deali.cn</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h2&gt;&lt;p&gt;最近部署服务的时候需要临时关闭一下防火墙，所以记个笔记，如何关闭CentOS防火墙。&lt;/p&gt;
&lt;h2 id=&quot;查看系统版本&quot;&gt;&lt;a href
      
    
    </summary>
    
    
      <category term="Linux" scheme="http://blog.deali.cn/categories/Linux/"/>
    
    
      <category term="Linux" scheme="http://blog.deali.cn/tags/Linux/"/>
    
      <category term="防火墙" scheme="http://blog.deali.cn/tags/%E9%98%B2%E7%81%AB%E5%A2%99/"/>
    
      <category term="关闭" scheme="http://blog.deali.cn/tags/%E5%85%B3%E9%97%AD/"/>
    
      <category term="系统" scheme="http://blog.deali.cn/tags/%E7%B3%BB%E7%BB%9F/"/>
    
  </entry>
  
  <entry>
    <title>Ubuntu-18-04-修改登录界面背景图</title>
    <link href="http://blog.deali.cn/posts/e3133be2cd0478e6.html"/>
    <id>http://blog.deali.cn/posts/e3133be2cd0478e6.html</id>
    <published>2020-03-02T02:27:53.000Z</published>
    <updated>2020-03-02T03:23:43.636Z</updated>
    
    <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>Ubuntu 18.04用了一段时间了，在Gnome桌面的加持下，兔子 18.04 的颜值还不错，加上自己搭配了几套GTK主题，简直美滋滋，唯一美中不足的就是，Ubuntu的登录管理器换成GDM之后，登录界面背景没办法修改了，这怎么行呢，于是经过一番折腾，有了本文。</p><h2 id="首先，准备一张图片"><a href="#首先，准备一张图片" class="headerlink" title="首先，准备一张图片"></a>首先，准备一张图片</h2><p>图片的尺寸呢，根据你的屏幕分辨率确定咯。<br>然后把图片放到<code>/usr/share/backgrounds/</code>目录下面。</p><h2 id="修改GDM的CSS文件"><a href="#修改GDM的CSS文件" class="headerlink" title="修改GDM的CSS文件"></a>修改GDM的CSS文件</h2><p>感觉如果是做前端的人来用Gnome那就真的美滋滋了，主题、插件、各种美化都可以玩的飞起。</p><p>文件位置</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/etc/alternatives/gdm3.css</span><br></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*找到默认的这个部分*/</span></span><br><span class="line"><span class="selector-id">#lockDialogGroup</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#2c001e</span> <span class="built_in">url</span>(resource:///org/gnome/shell/theme/noise-texture.png);</span><br><span class="line">  <span class="attribute">background-repeat</span>: repeat; </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*改为*/</span></span><br><span class="line"><span class="selector-id">#lockDialogGroup</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#2c001e</span> <span class="built_in">url</span>(file:///usr/share/backgrounds/mypicture.jpg);         </span><br><span class="line">  <span class="attribute">background-repeat</span>: no-repeat;</span><br><span class="line">  <span class="attribute">background-size</span>: cover;</span><br><span class="line">  <span class="attribute">background-position</span>: center; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>提示：CSS代码仅供参考，熟悉前端的同学可以根据自己的喜好制作更好的效果，到时候别忘了分享一波哦～</p><h2 id="重启"><a href="#重启" class="headerlink" title="重启"></a>重启</h2><p>可以重启系统，也可以重启图形界面。<br>为了避免麻烦，建议还是直接重启系统吧，反正都很快的。</p><img src="/posts/e3133be2cd0478e6/8869373-38a972f1b57f2bd0.png" class=""><h2 id="About"><a href="#About" class="headerlink" title="About"></a>About</h2><img src="/posts/e3133be2cd0478e6/8869373-901590e019f6f85b.png" class=""><hr><p>了解更多有趣的操作请关注我的微信公众号：DealiAxy<br>每一篇文章都在我的博客有收录：<a href="http://blog.deali.cn">blog.deali.cn</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h2&gt;&lt;p&gt;Ubuntu 18.04用了一段时间了，在Gnome桌面的加持下，兔子 18.04 的颜值还不错，加上自己搭配了几套GTK主题，简直美滋滋，
      
    
    </summary>
    
    
      <category term="Linux" scheme="http://blog.deali.cn/categories/Linux/"/>
    
    
      <category term="背景图" scheme="http://blog.deali.cn/tags/%E8%83%8C%E6%99%AF%E5%9B%BE/"/>
    
      <category term="界面" scheme="http://blog.deali.cn/tags/%E7%95%8C%E9%9D%A2/"/>
    
      <category term="登录" scheme="http://blog.deali.cn/tags/%E7%99%BB%E5%BD%95/"/>
    
      <category term="修改" scheme="http://blog.deali.cn/tags/%E4%BF%AE%E6%94%B9/"/>
    
  </entry>
  
  <entry>
    <title>Windows的Linux子系统上配置SSH服务器</title>
    <link href="http://blog.deali.cn/posts/fd2c1dc5ed246196.html"/>
    <id>http://blog.deali.cn/posts/fd2c1dc5ed246196.html</id>
    <published>2020-03-02T02:27:53.000Z</published>
    <updated>2020-03-02T03:23:43.640Z</updated>
    
    <content type="html"><![CDATA[<h2 id="安装openssh"><a href="#安装openssh" class="headerlink" title="安装openssh"></a>安装openssh</h2><p>这个不用啰嗦太多，首先需要安装<code>openssh-server</code>和<code>openssh-client</code>。</p><h2 id="修改sshd-config配置"><a href="#修改sshd-config配置" class="headerlink" title="修改sshd-config配置"></a>修改<code>sshd-config</code>配置</h2><p>需要关注的就是这三行。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">UsePrivilegeSeparation no         <span class="comment">#因为wsl没有实现chroot</span></span><br><span class="line">PasswordAuthentication yes</span><br><span class="line">ListenAddress <span class="number">0.0</span><span class="number">.0</span><span class="number">.0</span>                 <span class="comment">#这一项在我的发行版里缺省为注释行。</span></span><br></pre></td></tr></table></figure><p>其他的可以根据需求修改。</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">ListenAddress</span> <span class="number">0.0</span><span class="number">.0</span><span class="number">.0</span>                  <span class="comment"># 要让其他计算机能连接上需要加上这一行，或者把经常需要连接的计算机IP加入</span></span><br><span class="line"><span class="string">PermitRootLogin</span> <span class="literal">yes</span>                   <span class="comment"># 允许root用户登录。</span></span><br></pre></td></tr></table></figure><h2 id="关闭Windows自带的ssh"><a href="#关闭Windows自带的ssh" class="headerlink" title="关闭Windows自带的ssh"></a>关闭Windows自带的ssh</h2><p>我原本还不知道的，查了资料才知道新版Windows自带了ssh服务，不过怎么使用还没有了解。<br>可以使用powershell来查看这个服务。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">PS C:\Users\user&gt; Get-Service -Name ssh*</span><br><span class="line">Status   Name               DisplayName</span><br><span class="line">------   ----               -----------</span><br><span class="line">Stopped  SshBroker          SSH Server Broker</span><br><span class="line">Stopped  SshProxy           SSH Server Proxy</span><br></pre></td></tr></table></figure><p>在服务控制台里找到这两个服务停掉就行了。<br>注意要先停掉<code>sshproxy</code>才可以关掉<code>sshbroker</code>。</p><img src="/posts/fd2c1dc5ed246196/8869373-fc7b73140b172090.png" class=""><h2 id="以调试方式启动ssh"><a href="#以调试方式启动ssh" class="headerlink" title="以调试方式启动ssh"></a>以调试方式启动ssh</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/usr/sbin/sshd -d</span><br></pre></td></tr></table></figure><p><code>-d</code>表明是以调试方式启动的服务，这种情况下，错误会显示在控制台上。</p><p>要注意即使以这种方法启动ssh server，它仍然只是在存在bash窗口时的一个子服务。一旦最后一个bash窗口关闭，这个ssh server也就关闭了，显然这不是我们想要的。接下来看看怎么将ssh server以windows服务或者后台进程来运行。</p><h2 id="正常开启ssh"><a href="#正常开启ssh" class="headerlink" title="正常开启ssh"></a>正常开启ssh</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">service ssh start</span><br></pre></td></tr></table></figure><h2 id="自动启动ssh服务"><a href="#自动启动ssh服务" class="headerlink" title="自动启动ssh服务"></a>自动启动ssh服务</h2><p>当前WSL并不支持ssh server作为服务运行。我们需要借助windows计划任务和脚本，使得在windows启动时自动运行这一服务。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">set</span> ws=wscript.createobject(<span class="string">"wscript.shell"</span>)</span><br><span class="line">ws.<span class="built_in">run</span> <span class="string">"C:\Windows\System32\bash.exe -c '/usr/sbin/sshd -D'"</span>,<span class="number">0</span></span><br></pre></td></tr></table></figure><p>将这个文件存为vbs，并在计划任务中添加一个启动任务，触发器设置为系统启动时。<br>不过使用这个方法的前提是你的WSL默认用户是root，对于默认用户不是root的必须使用sudo方式启动。<br>但是！<br>执行sudo时，会提示输入密码，而这时又无法拿到用户的输入。要解决这一问题，需要允许sudo在没有密码的情况下执行命令。</p><p>在bash里输入命令：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo visudo</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#includedir /etc/sudoers.d</span></span><br><span class="line">username ALL=(ALL) NOPASSWD: /usr/sbin/sshd -D</span><br></pre></td></tr></table></figure><p>把<code>username</code>改成你自己的用户名即可。</p><h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><p><a href="https://hbaaron.github.io/blog_2017/%E5%9C%A8wsl%E4%B8%8B%E5%AE%89%E8%A3%85%E4%BD%BF%E7%94%A8sshd%E5%85%A8%E6%94%BB%E7%95%A5/" target="_blank" rel="noopener">hbaaron.github.io</a></p><h2 id="About"><a href="#About" class="headerlink" title="About"></a>About</h2><img src="/posts/fd2c1dc5ed246196/8869373-901590e019f6f85b.png" class=""><hr><p>了解更多有趣的操作请关注我的微信公众号：DealiAxy<br>每一篇文章都在我的博客有收录：<a href="http://blog.deali.cn">blog.deali.cn</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;安装openssh&quot;&gt;&lt;a href=&quot;#安装openssh&quot; class=&quot;headerlink&quot; title=&quot;安装openssh&quot;&gt;&lt;/a&gt;安装openssh&lt;/h2&gt;&lt;p&gt;这个不用啰嗦太多，首先需要安装&lt;code&gt;openssh-server&lt;/code&gt;
      
    
    </summary>
    
    
      <category term="Windows" scheme="http://blog.deali.cn/categories/Windows/"/>
    
    
      <category term="Java" scheme="http://blog.deali.cn/tags/Java/"/>
    
      <category term="子系统" scheme="http://blog.deali.cn/tags/%E5%AD%90%E7%B3%BB%E7%BB%9F/"/>
    
      <category term="配置" scheme="http://blog.deali.cn/tags/%E9%85%8D%E7%BD%AE/"/>
    
      <category term="Linux" scheme="http://blog.deali.cn/tags/Linux/"/>
    
      <category term="JavaEE" scheme="http://blog.deali.cn/tags/JavaEE/"/>
    
      <category term="服务器" scheme="http://blog.deali.cn/tags/%E6%9C%8D%E5%8A%A1%E5%99%A8/"/>
    
  </entry>
  
  <entry>
    <title>Ubuntu-18-04-修复-Telegram-中文输入法</title>
    <link href="http://blog.deali.cn/posts/309b401772d65bbc.html"/>
    <id>http://blog.deali.cn/posts/309b401772d65bbc.html</id>
    <published>2020-03-02T02:27:53.000Z</published>
    <updated>2020-03-02T03:23:43.640Z</updated>
    
    <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><img src="/posts/309b401772d65bbc/8869373-5ffe3d048c65470f.png" class=""><p>Ubuntu 18.04，新的 Gnome 桌面的确好看很多。但同时出现了很多之前在 Unity 没有出现过的 BUG，例如在 Telegram 下无论怎么切换输入法都不能输入中文。</p><p>大概是所有 QT 编写的应用程序在 Gnome3 下都会出现这个问题，解决方法是引入 QT_IM_MODULE 变量。大致</p><h2 id="步骤如下"><a href="#步骤如下" class="headerlink" title="步骤如下"></a>步骤如下</h2><ul><li>编辑<code>~/.local/share/applications/telegramdesktop.desktop</code>文件</li><li>修改 Exec 该行，添加环境变量<code>env QT_IM_MODULE=ibus</code> ，使用 fcitx 的用户，把 ibus 替换成 fcitx</li><li>重新启动telegram即可</li></ul><p>(参考自github issuse和国内博客)</p><h2 id="About"><a href="#About" class="headerlink" title="About"></a>About</h2><img src="/posts/309b401772d65bbc/8869373-901590e019f6f85b.png" class=""><hr><p>了解更多有趣的操作请关注我的微信公众号：DealiAxy<br>每一篇文章都在我的博客有收录：<a href="http://blog.deali.cn">blog.deali.cn</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h2&gt;&lt;img src=&quot;/posts/309b401772d65bbc/8869373-5ffe3d048c65470f.png&quot; class=&quot;&quot;&gt;
      
    
    </summary>
    
    
      <category term="Linux" scheme="http://blog.deali.cn/categories/Linux/"/>
    
    
      <category term="输入法" scheme="http://blog.deali.cn/tags/%E8%BE%93%E5%85%A5%E6%B3%95/"/>
    
      <category term="修复" scheme="http://blog.deali.cn/tags/%E4%BF%AE%E5%A4%8D/"/>
    
  </entry>
  
  <entry>
    <title>操作系统学习三：进程调度与死锁-以及银行家算法避免死锁--NetCore实现</title>
    <link href="http://blog.deali.cn/posts/1e6223ee42e53b10.html"/>
    <id>http://blog.deali.cn/posts/1e6223ee42e53b10.html</id>
    <published>2020-03-02T02:27:53.000Z</published>
    <updated>2020-03-02T03:23:43.960Z</updated>
    
    <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>这是操作系统学习的第三篇啦，关于进程调度有很多内容，操作系统在调度进程的时候最容易遇到的问题就是死锁了，<strong>银行家算法</strong>是一个典型的避免死锁算法。</p><h2 id="死锁的概念"><a href="#死锁的概念" class="headerlink" title="死锁的概念"></a>死锁的概念</h2><p>先来了解一下死锁的基本概念：<strong>一组竞争系统资源或相互通信的进程相互的“永久”阻塞。若无外力作用，这组进程将永远不能继续执行。</strong></p><p>看下面两幅图片，左边是可能产生死锁的状态，四辆汽车（进程）要竞争同一个资源（通过路口），如果系统调度不当，就会陷入死锁状态，如右图<em>（每辆车占据一个车道（资源），所需车道（资源）被另一辆车占据。）</em>。</p><img src="/posts/1e6223ee42e53b10/8869373-1404068f0d4e4cce.png" class=""><h2 id="产生死锁的原因"><a href="#产生死锁的原因" class="headerlink" title="产生死锁的原因"></a>产生死锁的原因</h2><p>产生死锁的原因主要有两点：</p><ul><li><p>资源数  &lt;  要求该种资源的进程数（资源竞争）</p></li><li><p>进程的推进顺序不恰当</p><p>如下图：A、B分别代表某种资源，假设都只有一个，进程P先占用了资源A，接着进程Q占用了资源B，后面进程P再想要资源B就拿不到，进程Q想要资源A也拿不到，系统就陷入死锁状态了。</p></li></ul><img src="/posts/1e6223ee42e53b10/8869373-0ea9289dfe99ad54.png" class=""><p>再看看下面这个图，同样说明了进程推进顺序不恰当导致的结果：</p><ul><li>(1)、(2) 、(4) 、(5)正常运行</li><li>(3) 、(6)发生死锁</li></ul><img src="/posts/1e6223ee42e53b10/8869373-d70abb059cda7c8a.png" class=""><p>修改了进程的推进顺序之后，不会陷入死锁，可以正常运行，如下图：</p><img src="/posts/1e6223ee42e53b10/8869373-66f8da011ee24382.png" class=""><h2 id="产生死锁的条件"><a href="#产生死锁的条件" class="headerlink" title="产生死锁的条件"></a>产生死锁的条件</h2><ol><li><strong>互斥条件</strong>：进程所竞争的资源必须被互斥使用。</li></ol><p><em>互斥是资源的固有属性，不可禁止。</em></p><ol start="2"><li><p><strong>请求保持条件</strong>：当前已拥有资源的进程仍能申请新的资源，当被阻塞时，对已获得的资源保持不放。</p></li><li><p><strong>不剥夺条件</strong>：进程已获得的资源只能在使用完时自行释放，而不能被抢占。</p></li><li><p><strong>环路条件</strong>：存在一个至少包含两个进程的循环等待链，链中的每个进程都正在等待下一个进程占有的资源。</p></li></ol><blockquote><ul><li><p>前面三个条件是必要条件，<strong>环路条件</strong>是必要条件。</p></li><li><p>第一个<strong>互斥</strong>是资源的固有属性，没办法禁止的。</p></li><li><p>只要破坏后面3个条件中的任意条件，就可以预防或者避免死锁。</p></li></ul></blockquote><h2 id="银行家算法"><a href="#银行家算法" class="headerlink" title="银行家算法"></a>银行家算法</h2><p>这是仿照银行发放贷款时采取的控制方式而设计的一种死锁避免算法。其特点是所有客户的信用额度可以超过银行的全部资本。</p><p>银行家算法的目标：*<em>所有客户的信用额度之和可以超过银行的全部资本，这就是杠杆。 *</em></p><h2 id="主要思想"><a href="#主要思想" class="headerlink" title="主要思想"></a>主要思想</h2><p>银行家算法的主要思想如下：</p><ol><li>当一个用户对资金的最大的需求量（即信用额度）不超过银行家现有的资金时就可以接纳该用户。</li><li>用户可以分期贷款，但贷款的总数不能超过最大需求量。 </li><li>当银行家现有的资金不能满足用户的尚需贷款时，对用户的贷款可推迟支付，但总能使用户在有限的时间里得到贷款。</li><li>当用户得到所需的全部资金后，一定能在有限的时间里归还所有资金。 （客户信用良好，都能安期还款）</li></ol><h2 id="举例"><a href="#举例" class="headerlink" title="举例"></a>举例</h2><blockquote><p>假定某银行的全部流动资金为10000元。客户A申请4000元的信用额度，客户B申请6000元的信用额度，客户C申请10000元的信用额度，由于都没有超过银行的流动资金，予以批准。客户D申请12000元的信用额度，银行拒绝。假定A、B、C来银行提出下列贷款申请：</p><ul><li>A要求贷款2000元</li><li>B要贷款4000元</li><li>C要贷款3000元</li></ul></blockquote><p>银行策略如下：</p><ol><li><p><strong>只要银行还有钱就发放贷款</strong></p><p>如果采用这种策略，发放贷款后银行剩下1000元，将无法满足任何一个客户的信用额度，从而造成银行呆账。</p></li><li><p><strong>需要考虑发放贷款后银行面临的风险（如果银行无法满足所有客户的信用额度，将导致无法收回贷款）</strong></p><p>如果采用这种策略，先发放A和B的贷款后银行剩下4000元，推迟支付C的贷款，剩下的4000元可以满足A或B客户的信用额度。</p></li></ol><h2 id="进一步理解"><a href="#进一步理解" class="headerlink" title="进一步理解"></a>进一步理解</h2><p>我们把操作系统看作是银行家，操作系统管理的资源相当于是银行家管理的资金，当进程提出资源请求时，系统检查：</p><ul><li>可利用资源数<code>Available</code>：银行流动资金</li><li>进程最大资源需求数<code>Max</code>：信用额度</li><li>已分配给进程的资源数<code>Allocation</code>：贷款</li><li>进程还将需要的资源数<code>Need</code>：信用额度-贷款</li></ul><p><strong>银行家算法运行的流程如下：</strong></p><ul><li>进行资源预分配</li><li>实施安全检测<ul><li>安全：真正资源分配</li><li>不安全：回到预分配前状态</li></ul></li></ul><img src="/posts/1e6223ee42e53b10/8869373-3a543e2a1951d39d.png" class=""><h2 id="算法实现"><a href="#算法实现" class="headerlink" title="算法实现"></a>算法实现</h2><p>下面是银行家算法整个实现过程的流程图：</p><img src="/posts/1e6223ee42e53b10/8869373-b59a343c8c2f357b.png" class=""><p><strong>实现相关数据结构的说明：</strong></p><p>1． 可利用资源向量Available ，它是一个含有m个元素的数组，其中的每一个元素代表一类可利用的资源的数目，其初始值是系统中所配置的该类全部可用资源数目。其数值随该类资源的分配和回收而动态地改变。如果<code>Available[j]=k</code>，表示系统中现有j类资源k个。</p><p>2． 最大需求矩阵Max，这是一个n×m的矩阵，它定义了系统中n个进程中的每一个进程对m类资源的最大需求。如果<code>Max[i][j]=k</code>，表示进程i需要j类资源的最大数目为k。</p><p>3． 分配矩阵Allocation，这是一个<code>n×m</code>的矩阵，它定义了系统中的每类资源当前分配到每一个进程的资源数。如果<code>Allocation[i][j]=k</code>，表示进程i当前已经分到j类资源的数目为k个。<code>Allocation[i]</code>表示进程i的分配向量。</p><p>4． 需求矩阵Need，这是一个n×m的矩阵，用以表示每个进程还需要的各类资源的数目。如果<code>Need[i][j]=k</code>，表示进程i还需要j类资源k个，才能完成其任务。<code>Need[i]</code>表示进程i的需求向量。</p><p><strong>上述三个矩阵间存在关系：<code>Need[i][j]=Max[i][j]-Allocation[i][j]；</code></strong></p><p><strong>算法过程说明</strong></p><p>Request是进程i的请求向量。<code>Request[j]=k</code>表示进程i请求分配j类资源k个。当进程i发出资源请求后，系统按下述步骤进行检查：</p><p>1． 如果<code>Request ≤Need[i]</code>，则转向步骤2；否则，认为出错，因为它所请求的资源数已超过它当前的最大需求量。</p><p>2． 如果<code>Request ≤Available</code>，则转向步骤3；否则，表示系统中尚无足够的资源满足进程i的申请，进程i必须等待。</p><p>3． 系统试探性地把资源分配给进程i，并修改下面数据结构中的数值：</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Available = Available - Request </span><br><span class="line"></span><br><span class="line">Allocation[i]= Allocation[i]+ Request</span><br><span class="line"></span><br><span class="line">Need[i]= Need[i] - Request</span><br></pre></td></tr></table></figure><p>4． 系统执行安全性算法，检查此次资源分配后，系统是否处于安全状态。如果安全才正式将资源分配给进程i，以完成本次分配；否则，将试探分配作废，恢复原来的资源分配状态，让进程i等待。</p><h2 id="安全性测试算法"><a href="#安全性测试算法" class="headerlink" title="安全性测试算法"></a>安全性测试算法</h2><p>1． 设置两个向量。</p><p><code>Work</code>：它表示系统可提供给进程继续运行的各类资源数目，它包含m个元素，开始执行安全性算法时，<code>Work = Available</code></p><p><code>Finish</code>：它表示系统是否有足够的资源分配给进程，使之运行完成，开始Finish[i]=false；当有足够资源分配给进程i时，令<code>Finish[i]=true</code></p><p>2． 从进程集合中找到一个能满足下述条件的进程。</p><ul><li><code>Finish[i]= = false</code></li><li><code>Need[i]≤work</code></li></ul><p>如找到则执行步骤3；否则，执行步骤4；</p><p>3． 当进程i获得资源后，可顺利执行直到完成，并释放出分配给它的资源，故应执行</p><ul><li><code>Work = work + Allocation[i]</code></li><li><code>Finish[i]=true</code></li><li><code>转向步骤2</code></li></ul><p>4． 若所有进程的<code>Finish[i]</code>都为<code>true</code>，则表示系统处于安全状态；否则，系统处于不安全状态。</p><h2 id="实现代码"><a href="#实现代码" class="headerlink" title="实现代码"></a>实现代码</h2><p>好啦，关于概念和原理都讲清楚了，接下来贴上代码。</p><p>代码里已经写了详细的注释了，虽然是面向过程的写法，但是结构也很清晰。</p><p><strong>首先定义进程类</strong></p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">namespace</span> <span class="title">OperatingSystemExperiment.Exp3</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">class</span> <span class="title">ProcessExp3</span> &#123;</span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">int</span> Id;</span><br><span class="line"></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 进程最大（各类）资源需求数：信用额度</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">int</span>[] Max;</span><br><span class="line"></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 已分配给进程的资源：贷款</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">int</span>[] Allocation;</span><br><span class="line"></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 进程还需要的资源：信用额度 - 贷款</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">int</span>[] Need;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">ProcessExp3</span>(<span class="params"><span class="keyword">int</span> id</span>)</span> =&gt; <span class="keyword">this</span>.Id = id;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">EvaluateNeedResource</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>        &#123;</span><br><span class="line">            Need = <span class="keyword">new</span> <span class="keyword">int</span>[Max.Length];</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; Max.Length; i++) &#123;</span><br><span class="line">                Need[i] = Max[i] - Allocation[i];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>算法实现代码：</strong></p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"><span class="keyword">using</span> System.Collections.Generic;</span><br><span class="line"><span class="keyword">using</span> System.Diagnostics;</span><br><span class="line"><span class="keyword">using</span> System.IO;</span><br><span class="line"><span class="keyword">using</span> System.Linq;</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">OperatingSystemExperiment.Exp3</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Main</span> &#123;</span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">int</span> _resourceClassesCount = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">int</span> _processCount = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">private</span> List&lt;ProcessExp3&gt; _processes = <span class="keyword">new</span> List&lt;ProcessExp3&gt;();</span><br><span class="line"></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 系统全部可分配资源：银行流动资金</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="keyword">private</span> List&lt;<span class="keyword">int</span>&gt; _resource = <span class="keyword">new</span> List&lt;<span class="keyword">int</span>&gt;();</span><br><span class="line"></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 系统剩余可分配资源</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="keyword">private</span> List&lt;<span class="keyword">int</span>&gt; _available = <span class="keyword">new</span> List&lt;<span class="keyword">int</span>&gt;();</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">private</span> <span class="title">Main</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>        &#123;</span><br><span class="line">            <span class="comment">// 获取当前系统资源分配状态</span></span><br><span class="line">            LoadAllAvailableResource();</span><br><span class="line">            LoadProcessMaxResource();</span><br><span class="line"></span><br><span class="line">            <span class="keyword">var</span> continueFlag = <span class="literal">true</span>;</span><br><span class="line">            <span class="keyword">while</span> (continueFlag) &#123;</span><br><span class="line">                mainLoop:</span><br><span class="line">                <span class="comment">// 获取各进程已分配资源</span></span><br><span class="line">                LoadAllocationResource();</span><br><span class="line">                <span class="comment">// 评估每个进程还需要的资源</span></span><br><span class="line">                EvaluateNeedResource();</span><br><span class="line"></span><br><span class="line">                <span class="comment">// 打印各数据结构当前值</span></span><br><span class="line">                PrintStatus();</span><br><span class="line">                Console.Write(<span class="string">"请输入要操作的进程号："</span>);</span><br><span class="line">                <span class="keyword">if</span> (!<span class="keyword">int</span>.TryParse(Console.ReadLine(), <span class="keyword">out</span> <span class="keyword">var</span> procId)) &#123;</span><br><span class="line">                    Console.WriteLine(<span class="string">"\n请输入数字！"</span>);</span><br><span class="line">                    <span class="keyword">if</span> (QueryExit()) Environment.Exit(<span class="number">0</span>);</span><br><span class="line">                    <span class="keyword">else</span> <span class="keyword">goto</span> mainLoop;</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">if</span> (procId &lt; <span class="number">0</span> || procId &gt;= _processes.Count) &#123;</span><br><span class="line">                    Console.WriteLine(<span class="string">"\n不存在进程号为 &#123;0&#125; 的进程！"</span>, procId);</span><br><span class="line">                    <span class="keyword">if</span> (QueryExit()) Environment.Exit(<span class="number">0</span>);</span><br><span class="line">                    <span class="keyword">else</span> <span class="keyword">goto</span> mainLoop;</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                Console.Write(<span class="string">"请输入资源请求向量："</span>);</span><br><span class="line">                <span class="keyword">var</span> request = Console.ReadLine();</span><br><span class="line">                <span class="keyword">var</span> requestVector = Array.ConvertAll(request?.Split(<span class="string">' '</span>), <span class="keyword">int</span>.Parse);</span><br><span class="line"></span><br><span class="line">                <span class="comment">// 检查资源请求是否合理</span></span><br><span class="line">                <span class="keyword">var</span> proc = _processes[procId];</span><br><span class="line">                Console.WriteLine(<span class="string">"银行家算法检验中..."</span>);</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; requestVector.Length; i++) &#123;</span><br><span class="line">                    <span class="keyword">if</span> (requestVector[i] &gt; proc.Need[i]) &#123;</span><br><span class="line">                        Console.WriteLine(<span class="string">"分配失败！资源类型 &#123;0&#125;，请求数量 &#123;1&#125;，超过进程所需数量 &#123;2&#125;"</span>,</span><br><span class="line">                            i, requestVector[i], proc.Need[i]);</span><br><span class="line">                        <span class="keyword">if</span> (QueryExit()) Environment.Exit(<span class="number">0</span>);</span><br><span class="line">                        <span class="keyword">else</span> <span class="keyword">goto</span> mainLoop;</span><br><span class="line">                    &#125;</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">if</span> (requestVector[i] &gt; proc.Max[i]) &#123;</span><br><span class="line">                        Console.WriteLine(<span class="string">"分配失败！资源类型 &#123;0&#125;，请求数量 &#123;1&#125;，超过进程最大资源数量 &#123;2&#125;"</span>,</span><br><span class="line">                            i, requestVector[i], proc.Need[i]);</span><br><span class="line">                        <span class="keyword">if</span> (QueryExit()) Environment.Exit(<span class="number">0</span>);</span><br><span class="line">                        <span class="keyword">else</span> <span class="keyword">goto</span> mainLoop;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                <span class="comment">// 保存当前状态</span></span><br><span class="line">                <span class="keyword">var</span> tempAvailable = <span class="keyword">new</span> List&lt;<span class="keyword">int</span>&gt;(_available);</span><br><span class="line">                <span class="keyword">var</span> tempAllocation = (<span class="keyword">int</span>[]) proc.Allocation.Clone();</span><br><span class="line">                <span class="keyword">var</span> tempNeed = (<span class="keyword">int</span>[]) proc.Need.Clone();</span><br><span class="line">                <span class="comment">// 资源预分配</span></span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; _resourceClassesCount; i++) &#123;</span><br><span class="line">                    proc.Allocation[i] += requestVector[i];</span><br><span class="line">                    proc.Need[i] -= requestVector[i];</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">if</span> (SecurityEvaluate()) &#123;</span><br><span class="line">                    Console.WriteLine(<span class="string">"正在为进程 &#123;0&#125; 分配资源"</span>, proc.Id);</span><br><span class="line">                    <span class="comment">// 写入资源分配文件</span></span><br><span class="line">                    <span class="keyword">var</span> writer = <span class="keyword">new</span> StreamWriter(Path.Combine(</span><br><span class="line">                        Environment.CurrentDirectory, <span class="string">"Exp3"</span>, <span class="string">"input"</span>, <span class="string">"Allocation_list.txt"</span>), <span class="literal">false</span>);</span><br><span class="line">                    <span class="keyword">foreach</span> (<span class="keyword">var</span> p <span class="keyword">in</span> _processes) &#123;</span><br><span class="line">                        <span class="comment">// 使用LinQ语句，构造输出行</span></span><br><span class="line">                        <span class="keyword">var</span> line = p.Allocation.Aggregate(<span class="string">""</span>, (current, allocation) =&gt; current + (allocation + <span class="string">" "</span>));</span><br><span class="line"></span><br><span class="line">                        writer.WriteLine(line.Trim());</span><br><span class="line">                    &#125;</span><br><span class="line"></span><br><span class="line">                    Console.WriteLine(<span class="string">"已经保存新的分配状态！"</span>);</span><br><span class="line">                    writer.Close();</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span> &#123;</span><br><span class="line">                    Console.WriteLine(<span class="string">"恢复试分配前的状态。"</span>);</span><br><span class="line">                    <span class="comment">// 恢复预分配之前的状态</span></span><br><span class="line">                    _available = tempAvailable;</span><br><span class="line">                    proc.Allocation = tempAllocation;</span><br><span class="line">                    proc.Need = tempNeed;</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                continueFlag = !QueryExit();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 安全性算法</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="function"><span class="keyword">private</span> <span class="keyword">bool</span> <span class="title">SecurityEvaluate</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>        &#123;</span><br><span class="line">            <span class="keyword">var</span> work = _available;</span><br><span class="line">            <span class="keyword">var</span> finish = <span class="keyword">new</span> <span class="keyword">bool</span>[_processCount];</span><br><span class="line">            <span class="keyword">var</span> found = <span class="literal">false</span>; <span class="comment">// 判断标志</span></span><br><span class="line">            <span class="keyword">var</span> finishCount = <span class="number">0</span>; <span class="comment">// 满足条件的进程数目</span></span><br><span class="line">            <span class="keyword">var</span> safeQueue = <span class="keyword">new</span> List&lt;<span class="keyword">int</span>&gt;();</span><br><span class="line"></span><br><span class="line">            <span class="keyword">while</span> (finishCount &lt; _processCount) &#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">var</span> procId = <span class="number">0</span>; procId &lt; _processCount; procId++) &#123;</span><br><span class="line">                    <span class="keyword">var</span> proc = _processes[procId];</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">if</span> (!finish[procId]) &#123;</span><br><span class="line">                        <span class="keyword">for</span> (<span class="keyword">var</span> resId = <span class="number">0</span>; resId &lt; work.Count; resId++) &#123;</span><br><span class="line">                            Debug.WriteLine(<span class="string">"安全性测试，procId=&#123;0&#125; resId=(1)"</span>, procId, resId);</span><br><span class="line">                            <span class="keyword">if</span> (proc.Need[resId] &gt; work[resId]) &#123;</span><br><span class="line">                                Debug.WriteLine(<span class="string">"NotFound! procId=&#123;0&#125; resId=&#123;1&#125;"</span>, procId, resId);</span><br><span class="line">                                found = <span class="literal">false</span>;</span><br><span class="line">                            &#125;</span><br><span class="line">                            <span class="keyword">else</span> &#123;</span><br><span class="line">                                Debug.WriteLine(<span class="string">"Found! procId=&#123;0&#125; resId=&#123;1&#125;"</span>, procId, resId);</span><br><span class="line">                                found = <span class="literal">true</span>;</span><br><span class="line">                            &#125;</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">if</span> (found) &#123;</span><br><span class="line">                        <span class="comment">// 模拟释放资源</span></span><br><span class="line">                        <span class="keyword">for</span> (<span class="keyword">var</span> t = <span class="number">0</span>; t &lt; work.Count; t++) &#123;</span><br><span class="line">                            work[t] += proc.Allocation[t];</span><br><span class="line">                        &#125;</span><br><span class="line"></span><br><span class="line">                        <span class="comment">// 保存进程号</span></span><br><span class="line">                        finish[procId] = <span class="literal">true</span>;</span><br><span class="line">                        finishCount++;</span><br><span class="line">                        <span class="comment">// 加入安全队列</span></span><br><span class="line">                        safeQueue.Add(procId);</span><br><span class="line">                        <span class="comment">// 重置状态</span></span><br><span class="line">                        found = <span class="literal">false</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            Console.WriteLine(<span class="string">"安全序列如下："</span>);</span><br><span class="line">            <span class="comment">// 打印安全序列</span></span><br><span class="line">            <span class="keyword">var</span> output = <span class="string">""</span>;</span><br><span class="line">            <span class="keyword">foreach</span> (<span class="keyword">var</span> procId <span class="keyword">in</span> safeQueue) &#123;</span><br><span class="line">                output += <span class="string">"P"</span> + procId + <span class="string">","</span>;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            Console.WriteLine(output.TrimEnd(<span class="string">','</span>));</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (finish.Any(flag =&gt; !flag)) &#123;</span><br><span class="line">                Console.WriteLine(<span class="string">"未通过安全性测试！"</span>);</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            Console.WriteLine(<span class="string">"已经通过安全性测试！"</span>);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">private</span> <span class="keyword">bool</span> <span class="title">QueryExit</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>        &#123;</span><br><span class="line">            Console.Write(<span class="string">"是否退出(y/n)？"</span>);</span><br><span class="line">            <span class="keyword">var</span> option = Console.ReadLine()?.ToLower();</span><br><span class="line">            <span class="keyword">return</span> option == <span class="string">"y"</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 评估进程所需资源</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">EvaluateNeedResource</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>        &#123;</span><br><span class="line">            <span class="keyword">foreach</span> (<span class="keyword">var</span> p <span class="keyword">in</span> _processes) &#123;</span><br><span class="line">                p.EvaluateNeedResource();</span><br><span class="line">                <span class="comment">// 计算系统还剩下多少资源</span></span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; _resourceClassesCount; i++) &#123;</span><br><span class="line">                    _available[i] -= p.Allocation[i];</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 打印出当前状态</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">PrintStatus</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>        &#123;</span><br><span class="line">            Console.WriteLine(<span class="string">"-------------------------银行家算法-------------------------"</span>);</span><br><span class="line">            Console.WriteLine(<span class="string">"系统进程数量：&#123;0&#125;；资源种类数量：&#123;1&#125;"</span>, _processCount, _resourceClassesCount);</span><br><span class="line">            Console.WriteLine(<span class="string">"可用资源向量 Available："</span>);</span><br><span class="line">            <span class="keyword">foreach</span> (<span class="keyword">var</span> i <span class="keyword">in</span> _resource) &#123;</span><br><span class="line">                Console.Write(<span class="string">"&#123;0&#125; "</span>, i);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            Console.WriteLine(<span class="string">"\n最大需求矩阵 Max："</span>);</span><br><span class="line">            <span class="keyword">foreach</span> (<span class="keyword">var</span> p <span class="keyword">in</span> _processes) &#123;</span><br><span class="line">                <span class="keyword">foreach</span> (<span class="keyword">var</span> t <span class="keyword">in</span> p.Max) &#123;</span><br><span class="line">                    Console.Write(<span class="string">"&#123;0&#125; "</span>, t);</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                Console.WriteLine(<span class="string">""</span>);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            Console.WriteLine(<span class="string">"已分配矩阵 Allocation："</span>);</span><br><span class="line">            <span class="keyword">foreach</span> (<span class="keyword">var</span> p <span class="keyword">in</span> _processes) &#123;</span><br><span class="line">                <span class="keyword">foreach</span> (<span class="keyword">var</span> t <span class="keyword">in</span> p.Allocation) &#123;</span><br><span class="line">                    Console.Write(<span class="string">"&#123;0&#125; "</span>, t);</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                Console.WriteLine(<span class="string">""</span>);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            Console.WriteLine(<span class="string">"需求矩阵 Need："</span>);</span><br><span class="line">            <span class="keyword">foreach</span> (<span class="keyword">var</span> p <span class="keyword">in</span> _processes) &#123;</span><br><span class="line">                <span class="keyword">foreach</span> (<span class="keyword">var</span> t <span class="keyword">in</span> p.Need) &#123;</span><br><span class="line">                    Console.Write(<span class="string">"&#123;0&#125; "</span>, t);</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                Console.WriteLine(<span class="string">""</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 加载系统所有可用的资源数量</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">LoadAllAvailableResource</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>        &#123;</span><br><span class="line">            <span class="keyword">var</span> reader =</span><br><span class="line">                <span class="keyword">new</span> StreamReader(Path.Combine(Environment.CurrentDirectory, <span class="string">"Exp3"</span>, <span class="string">"input"</span>, <span class="string">"Available_list.txt"</span>));</span><br><span class="line">            <span class="keyword">var</span> line = reader.ReadLine();</span><br><span class="line">            <span class="comment">// 获取各类型资源数量</span></span><br><span class="line">            _resourceClassesCount = <span class="keyword">int</span>.Parse(line?.Trim());</span><br><span class="line">            line = reader.ReadLine();</span><br><span class="line">            _resource.AddRange(Array.ConvertAll(line?.Split(<span class="string">' '</span>), <span class="keyword">int</span>.Parse));</span><br><span class="line">            _available.AddRange(Array.ConvertAll(line?.Split(<span class="string">' '</span>), <span class="keyword">int</span>.Parse));</span><br><span class="line">            reader.Close();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 加载所有进程以及他们需要的最大资源</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">LoadProcessMaxResource</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>        &#123;</span><br><span class="line">            <span class="keyword">var</span> reader =</span><br><span class="line">                <span class="keyword">new</span> StreamReader(Path.Combine(Environment.CurrentDirectory, <span class="string">"Exp3"</span>, <span class="string">"input"</span>, <span class="string">"Max_list.txt"</span>));</span><br><span class="line">            <span class="keyword">var</span> line = reader.ReadLine();</span><br><span class="line">            <span class="keyword">var</span> index = <span class="number">0</span>;</span><br><span class="line">            _processCount = <span class="keyword">int</span>.Parse(line?.Trim());</span><br><span class="line">            <span class="keyword">while</span> (!reader.EndOfStream) &#123;</span><br><span class="line">                line = reader.ReadLine();</span><br><span class="line">                <span class="keyword">var</span> tempProc = <span class="keyword">new</span> ProcessExp3(index++) &#123;</span><br><span class="line">                    Max = Array.ConvertAll(line?.Split(<span class="string">' '</span>), <span class="keyword">int</span>.Parse)</span><br><span class="line">                &#125;;</span><br><span class="line">                _processes.Add(tempProc);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            reader.Close();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 获取所有进程已经分配的资源</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">LoadAllocationResource</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>        &#123;</span><br><span class="line">            <span class="keyword">var</span> reader = <span class="keyword">new</span> StreamReader(Path.Combine(</span><br><span class="line">                Environment.CurrentDirectory, <span class="string">"Exp3"</span>, <span class="string">"input"</span>, <span class="string">"Allocation_list.txt"</span>));</span><br><span class="line">            <span class="keyword">var</span> index = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">do</span> &#123;</span><br><span class="line">                <span class="keyword">var</span> line = reader.ReadLine()?.Trim();</span><br><span class="line">                _processes[index++].Allocation = Array.ConvertAll(line?.Split(<span class="string">' '</span>), <span class="keyword">int</span>.Parse);</span><br><span class="line">            &#125; <span class="keyword">while</span> (!reader.EndOfStream);</span><br><span class="line"></span><br><span class="line">            reader.Close();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">EvaluateProcessNeedResource</span>(<span class="params"></span>)</span> &#123; &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Run</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>        &#123;</span><br><span class="line">            <span class="keyword">new</span> Main();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>PS：这个代码里面没有包括<code>Program</code>类，要运行代码的话，需要加上<code>Program</code>类，在<code>Main</code>方法里调用<code>Exp3.Main.Run();</code></strong></p><h2 id="运行结果"><a href="#运行结果" class="headerlink" title="运行结果"></a>运行结果</h2><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">## </span><br><span class="line"></span><br><span class="line">系统进程数量：<span class="number">5</span>；资源种类数量：<span class="number">3</span></span><br><span class="line">可用资源向量 Available：</span><br><span class="line"><span class="number">10</span> <span class="number">5</span> <span class="number">7</span> </span><br><span class="line">最大需求矩阵 Max：</span><br><span class="line"><span class="number">7</span> <span class="number">5</span> <span class="number">3</span> </span><br><span class="line"><span class="number">3</span> <span class="number">2</span> <span class="number">2</span> </span><br><span class="line"><span class="number">9</span> <span class="number">0</span> <span class="number">2</span> </span><br><span class="line"><span class="number">2</span> <span class="number">2</span> <span class="number">2</span> </span><br><span class="line"><span class="number">4</span> <span class="number">3</span> <span class="number">3</span> </span><br><span class="line">已分配矩阵 Allocation：</span><br><span class="line"><span class="number">2</span> <span class="number">3</span> <span class="number">2</span> </span><br><span class="line"><span class="number">2</span> <span class="number">0</span> <span class="number">0</span> </span><br><span class="line"><span class="number">3</span> <span class="number">0</span> <span class="number">2</span> </span><br><span class="line"><span class="number">2</span> <span class="number">1</span> <span class="number">1</span> </span><br><span class="line"><span class="number">0</span> <span class="number">0</span> <span class="number">2</span> </span><br><span class="line">需求矩阵 Need：</span><br><span class="line"><span class="number">5</span> <span class="number">2</span> <span class="number">1</span> </span><br><span class="line"><span class="number">1</span> <span class="number">2</span> <span class="number">2</span> </span><br><span class="line"><span class="number">6</span> <span class="number">0</span> <span class="number">0</span> </span><br><span class="line"><span class="number">0</span> <span class="number">1</span> <span class="number">1</span> </span><br><span class="line"><span class="number">4</span> <span class="number">3</span> <span class="number">1</span> </span><br><span class="line">请输入要操作的进程号：<span class="number">0</span></span><br><span class="line">请输入资源请求向量：<span class="number">1</span> <span class="number">1</span> <span class="number">1</span></span><br><span class="line">银行家算法检验中...</span><br><span class="line">安全序列如下：</span><br><span class="line">P0,P1,P2,P3,P4</span><br><span class="line">已经通过安全性测试！</span><br><span class="line">正在为进程 <span class="number">0</span> 分配资源</span><br><span class="line">已经保存新的分配状态！</span><br></pre></td></tr></table></figure><p>重新分配之后的状态：</p><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">-------------------------银行家算法-------------------------</span><br><span class="line">系统进程数量：<span class="number">5</span>；资源种类数量：<span class="number">3</span></span><br><span class="line">可用资源向量 Available：</span><br><span class="line"><span class="number">10</span> <span class="number">5</span> <span class="number">7</span> </span><br><span class="line">最大需求矩阵 Max：</span><br><span class="line"><span class="number">7</span> <span class="number">5</span> <span class="number">3</span> </span><br><span class="line"><span class="number">3</span> <span class="number">2</span> <span class="number">2</span> </span><br><span class="line"><span class="number">9</span> <span class="number">0</span> <span class="number">2</span> </span><br><span class="line"><span class="number">2</span> <span class="number">2</span> <span class="number">2</span> </span><br><span class="line"><span class="number">4</span> <span class="number">3</span> <span class="number">3</span> </span><br><span class="line">已分配矩阵 Allocation：</span><br><span class="line"><span class="number">3</span> <span class="number">4</span> <span class="number">3</span> </span><br><span class="line"><span class="number">2</span> <span class="number">0</span> <span class="number">0</span> </span><br><span class="line"><span class="number">3</span> <span class="number">0</span> <span class="number">2</span> </span><br><span class="line"><span class="number">2</span> <span class="number">1</span> <span class="number">1</span> </span><br><span class="line"><span class="number">0</span> <span class="number">0</span> <span class="number">2</span> </span><br><span class="line">需求矩阵 Need：</span><br><span class="line"><span class="number">4</span> <span class="number">1</span> <span class="number">0</span> </span><br><span class="line"><span class="number">1</span> <span class="number">2</span> <span class="number">2</span> </span><br><span class="line"><span class="number">6</span> <span class="number">0</span> <span class="number">0</span> </span><br><span class="line"><span class="number">0</span> <span class="number">1</span> <span class="number">1</span> </span><br><span class="line"><span class="number">4</span> <span class="number">3</span> <span class="number">1</span></span><br></pre></td></tr></table></figure><h2 id="欢迎交流"><a href="#欢迎交流" class="headerlink" title="欢迎交流"></a>欢迎交流</h2><p>交流问题请在微信公众号后台留言，每一条信息我都会回复哈~</p><ul><li>微信公众号：画星星高手</li><li>打代码直播间：<a href="https://live.bilibili.com/11883038" target="_blank" rel="noopener">https://live.bilibili.com/11883038</a></li><li>知乎：<a href="https://www.zhihu.com/people/dealiaxy" target="_blank" rel="noopener">https://www.zhihu.com/people/dealiaxy</a></li><li>专栏：<a href="https://zhuanlan.zhihu.com/deali" target="_blank" rel="noopener">https://zhuanlan.zhihu.com/deali</a></li><li>简书：<a href="https://www.jianshu.com/u/965b95853b9f" target="_blank" rel="noopener">https://www.jianshu.com/u/965b95853b9f</a></li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h2&gt;&lt;p&gt;这是操作系统学习的第三篇啦，关于进程调度有很多内容，操作系统在调度进程的时候最容易遇到的问题就是死锁了，&lt;strong&gt;银行家算法&lt;/str
      
    
    </summary>
    
    
      <category term="编程" scheme="http://blog.deali.cn/categories/%E7%BC%96%E7%A8%8B/"/>
    
    
      <category term="学习" scheme="http://blog.deali.cn/tags/%E5%AD%A6%E4%B9%A0/"/>
    
      <category term="实现" scheme="http://blog.deali.cn/tags/%E5%AE%9E%E7%8E%B0/"/>
    
      <category term="操作系统" scheme="http://blog.deali.cn/tags/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/"/>
    
      <category term="死锁" scheme="http://blog.deali.cn/tags/%E6%AD%BB%E9%94%81/"/>
    
      <category term="调度" scheme="http://blog.deali.cn/tags/%E8%B0%83%E5%BA%A6/"/>
    
      <category term="银行家" scheme="http://blog.deali.cn/tags/%E9%93%B6%E8%A1%8C%E5%AE%B6/"/>
    
      <category term="进程" scheme="http://blog.deali.cn/tags/%E8%BF%9B%E7%A8%8B/"/>
    
      <category term="避免" scheme="http://blog.deali.cn/tags/%E9%81%BF%E5%85%8D/"/>
    
  </entry>
  
  <entry>
    <title>初读《围城》</title>
    <link href="http://blog.deali.cn/posts/7748159d9765a229.html"/>
    <id>http://blog.deali.cn/posts/7748159d9765a229.html</id>
    <published>2020-03-02T02:27:53.000Z</published>
    <updated>2020-03-02T03:23:43.640Z</updated>
    
    <content type="html"><![CDATA[<p>每个人都像方鸿渐，跳不出自己的这座围城。<br>——题记</p><p>其实我对钱钟书的这部《围城》心仪已久，第一次打开是在去年八月开往广州的高铁上，直到最近才算全部读完。倒不是钱老有多少长篇大论，而是因为我有个习惯——喜欢用琐碎的时间读书，往往一本书没读完，又开始翻开了另一本，所以总是会这样，把读完一本书的时间跨度变得很大。</p><p>从去年八月至今这段时间里我的经历还算蛮丰富的，期间也读了其他一些作品，但是对《围城》一直念念不忘，直到最近读完，对《围城》的感受，从一开始的有一点点感兴趣，到故事戛然而止的怅然若失，方鸿渐人生的变化过程，结合自己的生活经历，令人唏嘘。</p><p>《围城》的故事情节并不复杂，从主角方鸿渐留洋归来，从他受到众人吹捧到最后无人问津，他对待人生、爱情、婚姻的态度也在发生改变。</p><p>我发现很多很棒的作品，往往都是悲剧，或者是带有一定的悲剧色彩，比如金庸的《鹿鼎记》和《天龙八部》、莎士比亚的《哈姆雷特》、沈从文的《边城》等等…….<br>《围城》里的故事无需怀疑是一出悲剧，主角方鸿渐的人生是悲剧，并且围绕着他的各个人物，无不是在无奈中度过了一生，赵辛楣苦恋苏文纨半生无果，苏文纨又千方百计接近方鸿渐但仍以失败告终，方鸿渐的家庭里，妯娌不和，充满各种明争暗斗，方鸿渐自己的事业从来就没有顺利过，在家庭、婚姻、感情各个方面都是失败者，也难怪，一个在国外「游学」多年，不学无术，靠着买回来的假文凭混吃混喝的人，能有什么出息呢？</p><p>在社会环境这方面，《围城》以抗日战争时期的中国大陆作为故事背景，神州大地烽烟四起，到处人心惶惶，人人自危，政府官员腐败不堪，工农商各个行业的人，甚至连学校里的老师，都迂腐顽固，从西方传入的新鲜思想和中国古代的传统思想发生强烈的碰撞，有些人以崇洋媚外为荣，有些人以墨守成规为己见（其实直到今天这两种人还是存在的）。<br>钱老描写的社会下，处处充满压抑的气息，从方鸿渐的求职经历就可以看出来，这是一个处处靠关系的社会，没有各种关系为你开路的话，简直寸步难行，方鸿渐虽然说没有什么真才实学，但是毕竟留过洋，在当时那种落后的社会里足以胜任很多工作了。然而，他仅有的几个工作机会，全部都是靠亲戚、朋友的关系才得到的，在银行的工作，是「岳父」周经理提供的；在国立三闾大学的工作，是朋友赵辛楣推荐的；回到上海在报社的工作，也是赵辛楣提供的……</p><p>让我印象最深刻的是书中关于婚姻的态度，老实讲，这是一本让人读了就不想结婚的书，甚至对「爱情」都会失去信心，钱老和夫人杨绛的感情很好，却能写出这样的书，看来钱老还是有蛮丰富的经历（嘿嘿）。<br>《围城》中对婚姻的态度正如书名这两个字——「围城」，关于婚姻，书中的人物不止一次讨论过，第一次说到「围城」时，是在方鸿渐、赵辛楣、董斜川等人的饭桌上：<br>「慎明道：“关于Bertie结婚离婚的事，我也和他谈过。他引一句英国古话，说结婚仿佛金漆的鸟笼，笼子外面的鸟想住进去，笼内的鸟想飞出来； 所以结而离，离而结，没有了局。”<br>苏小姐道：“法国也有这么一句话。不过，不说是鸟笼，说是被围困的城堡fortresse assiegee，城外的人想冲进去，城里的人想逃出来。鸿渐，是不是？”鸿渐摇头表示不知道。 」<br>书中对结婚的态度是这样的：婚姻是一切感情的终结者，无论和结婚对象的爱情，还是和朋友的友情，又或者是和亲人间的亲情。<br>方鸿渐在和孙柔嘉订婚之前，孙柔嘉是一个性格柔顺得无处挑剔，又十分腼腆的人，但是在他们订婚之后，她的本性变逐渐暴露出来，最终自私的本性显露无遗。<br>在结婚之后，孙柔嘉对方鸿渐的家庭和朋友十分厌恶，常常叫鸿渐疏远他们，而鸿渐也渐渐地疏远了家庭和朋友，我觉得，无论是男人还是女人，生活中不应该只有结婚后的小家庭，原有的家庭和朋友是不能疏远的，而孙柔嘉的目的是要让鸿渐疏离所有关系，最终无依无靠，只能任何她驱策。所以为什么说「婚姻是一切感情的终结者」，这样的结论不是没有由来的。</p><p>随着鸿渐的结婚，还有他与家庭、妻子——孙柔嘉之间关系的逐渐僵化，故事也在慢慢走向结局。<br>书末鸿渐在与孙柔嘉的一场争执之后同落地钟一样倒在地上睡着了，睡梦中还在做着和妻子和好，家庭和睦团圆的美梦，故事到这戛然而止，让人有些猝不及防，意犹未尽的同时也让人思考，到底是希望方鸿渐和孙柔嘉夫妻重归于好然后继续无尽的冲突、争执、和好这样的无限循环呢？还是希望主角方鸿渐与孙柔嘉决绝，勇敢地踏上寻找唐晓芙之旅？</p><p>由于篇幅关系，几个片段的笔记等到下次再单独写一篇咯~</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;每个人都像方鸿渐，跳不出自己的这座围城。&lt;br&gt;——题记&lt;/p&gt;
&lt;p&gt;其实我对钱钟书的这部《围城》心仪已久，第一次打开是在去年八月开往广州的高铁上，直到最近才算全部读完。倒不是钱老有多少长篇大论，而是因为我有个习惯——喜欢用琐碎的时间读书，往往一本书没读完，又开始翻开了另
      
    
    </summary>
    
    
      <category term="评" scheme="http://blog.deali.cn/categories/%E8%AF%84/"/>
    
    
      <category term="初读" scheme="http://blog.deali.cn/tags/%E5%88%9D%E8%AF%BB/"/>
    
      <category term="围城" scheme="http://blog.deali.cn/tags/%E5%9B%B4%E5%9F%8E/"/>
    
  </entry>
  
  <entry>
    <title>操作系统学习二：进程同步与互斥之生产者-消费者问题--NetCore实现</title>
    <link href="http://blog.deali.cn/posts/3f2fe69037158eb8.html"/>
    <id>http://blog.deali.cn/posts/3f2fe69037158eb8.html</id>
    <published>2020-03-02T02:27:53.000Z</published>
    <updated>2020-03-02T03:23:43.952Z</updated>
    
    <content type="html"><![CDATA[<h2 id="目的"><a href="#目的" class="headerlink" title="目的"></a>目的</h2><p>1． 掌握进程（线程）的同步与互斥。</p><p>2． 掌握生产者消费者问题的实现方法。</p><p>3． 掌握VC的多线程编程方法。</p><h2 id="内容"><a href="#内容" class="headerlink" title="内容"></a>内容</h2><p>本实验要求设计并实现一个进程，该进程拥有3个生产者线程和1个消费者线程，它们使用10个不同的缓冲区。需要使用如下信号量：</p><p>l 一个mutex信号量，用以阻止生产者线程和消费者线程同时操作缓冲区队列；</p><p>l 一个full信号量，当生产者线程生产出一个物品时可以用它向消费者线程发出信号；</p><p>l 一个empty信号量，消费者线程释放出一个空缓冲区时可以用它向生产者线程发出信号；</p><p>生产者线程生产物品（通过等待一个时间模拟生产过程），然后将物品放置在一个空缓冲区中供消费者线程消费（通过将缓冲区数组元素值设为产品编号模拟放入过程）。消费者线程从缓冲区中获得物品，然后释放缓冲区（通过将缓冲区数组元素值设为0模拟取出过程）。当生产者线程生产物品时，如果没有空缓冲区可用，那么生产者线程必须等待消费者线程释放出一个空缓冲区。当消费者线程消费物品时，如果没有满的缓冲区，那么消费者线程将被阻塞，直到新的物品被生产出来。</p><p>根据给出的相关函数，实现生产者消费者问题。为了分析结果，要求用文件保存缓冲区变化过程。</p><h2 id="伪代码"><a href="#伪代码" class="headerlink" title="伪代码"></a>伪代码</h2><p>下面给出的是解决这一问题的部分代码和伪代码，后面附上完整代码</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;windows.h&gt;    //大多数API函数都在这个头文件中定义</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">unsigned</span> short SIZE_OF_BUFFER = <span class="number">10</span>;   <span class="comment">//缓冲区个数 </span></span><br><span class="line"><span class="keyword">unsigned</span> short ProductID = <span class="number">0</span>;     <span class="comment">//生产的产品号</span></span><br><span class="line"><span class="keyword">unsigned</span> short ConsumeID = <span class="number">0</span>;    <span class="comment">//将被消耗的产品号</span></span><br><span class="line"><span class="keyword">unsigned</span> short in = <span class="number">0</span>;         <span class="comment">//产品进缓冲区时的缓冲区下标</span></span><br><span class="line"><span class="keyword">unsigned</span> short out = <span class="number">0</span>;       <span class="comment">//产品出缓冲区时的缓冲区下标</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//缓冲区是个循环队列</span></span><br><span class="line"><span class="keyword">int</span> g_buffer[SIZE_OF_BUFFER];    <span class="comment">//用整型数组模拟缓冲区</span></span><br><span class="line"><span class="keyword">bool</span>  g_continue = <span class="literal">true</span>;      <span class="comment">//当g_continue = false结束程序</span></span><br><span class="line"></span><br><span class="line">HANDLE g_hMutex;          <span class="comment">// g_hMutex是互斥信号量的句柄         </span></span><br><span class="line">HANDLE g_hEmptySemaphore;     <span class="comment">//即empty信号量的句柄</span></span><br><span class="line">HANDLE g_hFullSemaphore;     <span class="comment">//即full信号量的句柄</span></span><br><span class="line"></span><br><span class="line"><span class="function">DWORD WINAPI <span class="title">Producer</span><span class="params">(LPVOID)</span></span>;    <span class="comment">//生产者线程</span></span><br><span class="line"><span class="function">DWORD WINAPI <span class="title">Consumer</span><span class="params">(LPVOID)</span></span>;    <span class="comment">//消费者线程</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//请完成主函数，主函数中要完成创建各信号量对象和创建各线程的工作</span></span><br><span class="line">main(…)</span><br><span class="line">&#123;    …         </span><br><span class="line"><span class="comment">//创建生产者和消费者线程</span></span><br><span class="line">CreateThread(…, Producer, …);</span><br><span class="line">CreateThread(…, Consumer, …);</span><br><span class="line">…</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//请完成模拟生产者把新生产的产品放入缓冲区的过程</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">AddToBuffer</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//请完成模拟消费者从缓冲区中取出一个产品的过程</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">TakeFromBuffer</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">…</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//请根据伪代码完成生产者线程函数</span></span><br><span class="line">Producer()</span><br><span class="line">&#123;</span><br><span class="line">…                  <span class="comment">//获取线程ID</span></span><br><span class="line"><span class="keyword">while</span>(TRUE)</span><br><span class="line">&#123;   <span class="comment">//模拟生产过程，生产一个物品</span></span><br><span class="line">        sleep(rand);<span class="comment">//可以给出时间参数，1000为1秒，休眠时间</span></span><br><span class="line">        P(empty); <span class="comment">//请求一个空缓冲区</span></span><br><span class="line">        <span class="comment">//操作缓冲区池</span></span><br><span class="line">        P(mutex);</span><br><span class="line">        …<span class="comment">//输出线程ID，这样可以看出是哪一个线程在工作</span></span><br><span class="line">        AddToBuffer();  <span class="comment">//将物品放置在一个空缓冲区中</span></span><br><span class="line">        V(mutex);</span><br><span class="line">        V(full);    <span class="comment">//用信号通知一个满的缓冲区</span></span><br><span class="line">&#125;</span><br><span class="line">   <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//请根据伪代码完成消费者线程函数</span></span><br><span class="line">Consumer()</span><br><span class="line">&#123;</span><br><span class="line">…                  <span class="comment">//获取线程ID</span></span><br><span class="line"><span class="keyword">while</span>(TRUE)</span><br><span class="line">&#123;</span><br><span class="line">P(full); <span class="comment">//请求一个满缓冲区</span></span><br><span class="line"><span class="comment">//操作缓冲区池</span></span><br><span class="line">P(mutex);</span><br><span class="line">…<span class="comment">//输出线程ID，这样可以看出是哪一个线程在工作</span></span><br><span class="line">        TakeFromBuffer();  <span class="comment">//从一个满缓冲区中取产品</span></span><br><span class="line">V(mutex); </span><br><span class="line">V(empty);   <span class="comment">//用信号通知一个空的缓冲区</span></span><br><span class="line">sleep(rand); <span class="comment">//休眠时间，模拟消费产品</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="实现代码"><a href="#实现代码" class="headerlink" title="实现代码"></a>实现代码</h2><figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"><span class="keyword">using</span> System.Dynamic;</span><br><span class="line"><span class="keyword">using</span> System.Threading;</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">OperatingSystemExperiment.Exp2</span> &#123;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 生产者-消费者问题</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 使用 P-V 操作解决同步和互斥问题</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 本实验要求设计并实现一个进程，该进程拥有3个生产者线程和1个消费者线程，它们使用10个不同的缓冲区。</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">class</span> <span class="title">Main</span> &#123;</span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span>[] _buffer = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">10</span>];</span><br><span class="line"></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 是否继续运行</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">bool</span> _continueRun = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 是否锁定缓冲区</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">bool</span> _isLock = <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 产品号</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span> _productId = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 信号枚举</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">enum</span> SemaphoreEnum &#123;</span><br><span class="line">            <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">            <span class="comment"><span class="doctag">///</span> 互斥信号量，用以阻止生产者线程和消费者线程同时操作缓冲区队列</span></span><br><span class="line">            <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">            Mutex,</span><br><span class="line"></span><br><span class="line">            <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">            <span class="comment"><span class="doctag">///</span> 当生产者线程生产出一个物品时可以用它向消费者线程发出信号</span></span><br><span class="line">            <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">            Full,</span><br><span class="line"></span><br><span class="line">            <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">            <span class="comment"><span class="doctag">///</span> 消费者线程释放出一个空缓冲区时可以用它向生产者线程发出信号</span></span><br><span class="line">            <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">            Empty</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Do</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>        &#123;</span><br><span class="line">            ThreadStart producer = () =&gt; &#123;</span><br><span class="line">                <span class="keyword">while</span> (_continueRun) &#123;</span><br><span class="line">                    Thread.Sleep(<span class="number">1200</span>);</span><br><span class="line">                    <span class="comment">// 请求空缓冲区</span></span><br><span class="line">                    <span class="keyword">var</span> emptyBufferId = GetEmptyBuffer();</span><br><span class="line">                    <span class="comment">// 没有空缓冲区，继续等</span></span><br><span class="line">                    <span class="keyword">if</span> (emptyBufferId == <span class="number">-1</span>) <span class="keyword">continue</span>;</span><br><span class="line">                    <span class="comment">// 缓冲区锁定，等待</span></span><br><span class="line">                    <span class="keyword">if</span> (_isLock) <span class="keyword">continue</span>;</span><br><span class="line">                    P(SemaphoreEnum.Empty);</span><br><span class="line">                    P(SemaphoreEnum.Mutex);</span><br><span class="line">                    Console.WriteLine(<span class="string">"生产线程 &#123;0&#125; 工作中"</span>, Thread.CurrentThread.ManagedThreadId);</span><br><span class="line">                    AddToBuffer(emptyBufferId, ++_productId);</span><br><span class="line">                    Console.WriteLine(<span class="string">"Produce the &#123;0&#125; product to buffer."</span>, _productId);</span><br><span class="line">                    <span class="comment">// 输出缓冲区内容</span></span><br><span class="line">                    <span class="keyword">var</span> nextIn = GetEmptyBuffer();</span><br><span class="line">                    <span class="keyword">var</span> nextOut = GetFullBuffer();</span><br><span class="line">                    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; _buffer.Length; i++) &#123;</span><br><span class="line">                        <span class="keyword">if</span> (i == nextOut)</span><br><span class="line">                            Console.WriteLine(<span class="string">"&#123;0&#125;: &#123;1&#125; &lt;- 下一个可取出产品消费的地方"</span>, i, _buffer[i]);</span><br><span class="line">                        <span class="keyword">else</span> <span class="keyword">if</span> (i == nextIn)</span><br><span class="line">                            Console.WriteLine(<span class="string">"&#123;0&#125;: &#123;1&#125; &lt;- 可放下一个产品的位置"</span>, i, _buffer[i]);</span><br><span class="line">                        <span class="keyword">else</span></span><br><span class="line">                            Console.WriteLine(<span class="string">"&#123;0&#125;: &#123;1&#125;"</span>, i, _buffer[i]);</span><br><span class="line">                    &#125;</span><br><span class="line"></span><br><span class="line">                    V(SemaphoreEnum.Mutex);</span><br><span class="line">                    <span class="comment">// 用信号通知一个消费者线程有一个满的缓冲区</span></span><br><span class="line">                    V(SemaphoreEnum.Full);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;;</span><br><span class="line"></span><br><span class="line">            <span class="comment">// 1个监视线程</span></span><br><span class="line">            <span class="keyword">new</span> Thread(() =&gt; &#123;</span><br><span class="line">                <span class="keyword">while</span> (_continueRun)</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="keyword">if</span> (_productId &gt; <span class="number">20</span>)</span><br><span class="line">                        _continueRun = <span class="literal">false</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;).Start();</span><br><span class="line">            <span class="comment">// 3个生产者</span></span><br><span class="line">            <span class="keyword">new</span> Thread(producer).Start();</span><br><span class="line">            <span class="keyword">new</span> Thread(producer).Start();</span><br><span class="line">            <span class="keyword">new</span> Thread(producer).Start();</span><br><span class="line">            <span class="comment">// 1个消费者</span></span><br><span class="line">            <span class="keyword">new</span> Thread(() =&gt; &#123;</span><br><span class="line">                <span class="keyword">while</span> (_continueRun) &#123;</span><br><span class="line">                    Thread.Sleep(<span class="number">200</span>);</span><br><span class="line">                    <span class="comment">// 请求一个满的缓冲区</span></span><br><span class="line">                    <span class="keyword">var</span> fullBufferId = GetFullBuffer();</span><br><span class="line">                    <span class="keyword">if</span> (fullBufferId == <span class="number">-1</span>) <span class="keyword">continue</span>;</span><br><span class="line">                    <span class="comment">// 缓冲区锁定则继续等待</span></span><br><span class="line">                    <span class="keyword">if</span> (_isLock) <span class="keyword">continue</span>;</span><br><span class="line">                    P(SemaphoreEnum.Full);</span><br><span class="line">                    <span class="comment">// 操作缓冲区池</span></span><br><span class="line">                    P(SemaphoreEnum.Mutex);</span><br><span class="line">                    Console.WriteLine(<span class="string">"消费者线程 &#123;0&#125; 工作"</span>, Thread.CurrentThread.ManagedThreadId);</span><br><span class="line">                    <span class="keyword">var</span> productId = TakeFromBuffer(fullBufferId);</span><br><span class="line">                    Console.WriteLine(<span class="string">"正在消费产品 &#123;0&#125;"</span>, productId);</span><br><span class="line">                    V(SemaphoreEnum.Mutex);</span><br><span class="line">                    <span class="comment">// 用信号通知一个空的缓冲区</span></span><br><span class="line">                    V(SemaphoreEnum.Empty);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;).Start();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 生产者把新生产的产品放入缓冲区</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span>是否成功放入，没有空缓冲区的时候不成功<span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">        <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">bool</span> <span class="title">AddToBuffer</span>(<span class="params"><span class="keyword">int</span> position, <span class="keyword">int</span> product</span>)</span></span><br><span class="line"><span class="function"></span>        &#123;</span><br><span class="line">            <span class="keyword">if</span> (_buffer[position] != <span class="number">0</span>) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            _buffer[position] = product;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 获取一个空的缓冲区，都是满的则返回-1</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span>空缓冲区的编号<span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">        <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">GetEmptyBuffer</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>        &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; _buffer.Length; i++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (_buffer[i] == <span class="number">0</span>) &#123;</span><br><span class="line">                    <span class="keyword">return</span> i;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 获取一个满的缓冲区，都是空的则返回-1</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span>满缓冲区的编号<span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">        <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">GetFullBuffer</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>        &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; _buffer.Length; i++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (_buffer[i] != <span class="number">0</span>) &#123;</span><br><span class="line">                    <span class="keyword">return</span> i;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 消费者从缓冲区中取出一个产品</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span>产品id<span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">        <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">TakeFromBuffer</span>(<span class="params"><span class="keyword">int</span> position</span>)</span></span><br><span class="line"><span class="function"></span>        &#123;</span><br><span class="line">            <span class="keyword">var</span> temp = _buffer[position];</span><br><span class="line">            _buffer[position] = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">return</span> temp;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 申请资源操作</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name="s"&gt;</span><span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">        <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">P</span>(<span class="params">SemaphoreEnum s</span>)</span></span><br><span class="line"><span class="function"></span>        &#123;</span><br><span class="line">            <span class="keyword">switch</span> (s) &#123;</span><br><span class="line">                <span class="keyword">case</span> SemaphoreEnum.Mutex:</span><br><span class="line">                    _isLock = <span class="literal">true</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> SemaphoreEnum.Full:</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> SemaphoreEnum.Empty:</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">default</span>:</span><br><span class="line">                    <span class="keyword">throw</span> <span class="keyword">new</span> ArgumentOutOfRangeException(<span class="keyword">nameof</span>(s), s, <span class="literal">null</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 释放资源操作</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name="s"&gt;</span><span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">        <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">V</span>(<span class="params">SemaphoreEnum s</span>)</span></span><br><span class="line"><span class="function"></span>        &#123;</span><br><span class="line">            <span class="keyword">switch</span> (s) &#123;</span><br><span class="line">                <span class="keyword">case</span> SemaphoreEnum.Mutex:</span><br><span class="line">                    _isLock = <span class="literal">false</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> SemaphoreEnum.Full:</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> SemaphoreEnum.Empty:</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">default</span>:</span><br><span class="line">                    <span class="keyword">throw</span> <span class="keyword">new</span> ArgumentOutOfRangeException(<span class="keyword">nameof</span>(s), s, <span class="literal">null</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="运行结果"><a href="#运行结果" class="headerlink" title="运行结果"></a>运行结果</h2><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br></pre></td><td class="code"><pre><span class="line">生产线程 <span class="number">4</span> 工作中</span><br><span class="line">Produce the <span class="number">1</span> product to buffer.</span><br><span class="line"><span class="number">0</span>: <span class="number">1</span> &lt;- 下一个可取出产品消费的地方</span><br><span class="line"><span class="number">1</span>: <span class="number">0</span> &lt;- 可放下一个产品的位置</span><br><span class="line"><span class="number">2</span>: <span class="number">0</span></span><br><span class="line"><span class="number">3</span>: <span class="number">0</span></span><br><span class="line"><span class="number">4</span>: <span class="number">0</span></span><br><span class="line"><span class="number">5</span>: <span class="number">0</span></span><br><span class="line"><span class="number">6</span>: <span class="number">0</span></span><br><span class="line"><span class="number">7</span>: <span class="number">0</span></span><br><span class="line"><span class="number">8</span>: <span class="number">0</span></span><br><span class="line"><span class="number">9</span>: <span class="number">0</span></span><br><span class="line">消费者线程 <span class="number">7</span> 工作</span><br><span class="line">正在消费产品 <span class="number">1</span></span><br><span class="line">生产线程 <span class="number">5</span> 工作中</span><br><span class="line">Produce the <span class="number">2</span> product to buffer.</span><br><span class="line"><span class="number">0</span>: <span class="number">2</span> &lt;- 下一个可取出产品消费的地方</span><br><span class="line"><span class="number">1</span>: <span class="number">0</span> &lt;- 可放下一个产品的位置</span><br><span class="line"><span class="number">2</span>: <span class="number">0</span></span><br><span class="line"><span class="number">3</span>: <span class="number">0</span></span><br><span class="line"><span class="number">4</span>: <span class="number">0</span></span><br><span class="line"><span class="number">5</span>: <span class="number">0</span></span><br><span class="line"><span class="number">6</span>: <span class="number">0</span></span><br><span class="line"><span class="number">7</span>: <span class="number">0</span></span><br><span class="line"><span class="number">8</span>: <span class="number">0</span></span><br><span class="line"><span class="number">9</span>: <span class="number">0</span></span><br><span class="line">消费者线程 <span class="number">7</span> 工作</span><br><span class="line">正在消费产品 <span class="number">2</span></span><br><span class="line">生产线程 <span class="number">4</span> 工作中</span><br><span class="line">Produce the <span class="number">3</span> product to buffer.</span><br><span class="line"><span class="number">0</span>: <span class="number">3</span> &lt;- 下一个可取出产品消费的地方</span><br><span class="line"><span class="number">1</span>: <span class="number">0</span> &lt;- 可放下一个产品的位置</span><br><span class="line"><span class="number">2</span>: <span class="number">0</span></span><br><span class="line"><span class="number">3</span>: <span class="number">0</span></span><br><span class="line"><span class="number">4</span>: <span class="number">0</span></span><br><span class="line"><span class="number">5</span>: <span class="number">0</span></span><br><span class="line"><span class="number">6</span>: <span class="number">0</span></span><br><span class="line"><span class="number">7</span>: <span class="number">0</span></span><br><span class="line"><span class="number">8</span>: <span class="number">0</span></span><br><span class="line"><span class="number">9</span>: <span class="number">0</span></span><br><span class="line">消费者线程 <span class="number">7</span> 工作</span><br><span class="line">正在消费产品 <span class="number">3</span></span><br><span class="line">生产线程 <span class="number">6</span> 工作中</span><br><span class="line">Produce the <span class="number">4</span> product to buffer.</span><br><span class="line"><span class="number">0</span>: <span class="number">4</span> &lt;- 下一个可取出产品消费的地方</span><br><span class="line"><span class="number">1</span>: <span class="number">0</span> &lt;- 可放下一个产品的位置</span><br><span class="line"><span class="number">2</span>: <span class="number">0</span></span><br><span class="line"><span class="number">3</span>: <span class="number">0</span></span><br><span class="line"><span class="number">4</span>: <span class="number">0</span></span><br><span class="line"><span class="number">5</span>: <span class="number">0</span></span><br><span class="line"><span class="number">6</span>: <span class="number">0</span></span><br><span class="line"><span class="number">7</span>: <span class="number">0</span></span><br><span class="line"><span class="number">8</span>: <span class="number">0</span></span><br><span class="line"><span class="number">9</span>: <span class="number">0</span></span><br><span class="line">消费者线程 <span class="number">7</span> 工作</span><br><span class="line">正在消费产品 <span class="number">4</span></span><br><span class="line">生产线程 <span class="number">4</span> 工作中</span><br><span class="line">Produce the <span class="number">5</span> product to buffer.</span><br><span class="line"><span class="number">0</span>: <span class="number">5</span> &lt;- 下一个可取出产品消费的地方</span><br><span class="line"><span class="number">1</span>: <span class="number">0</span> &lt;- 可放下一个产品的位置</span><br><span class="line"><span class="number">2</span>: <span class="number">0</span></span><br><span class="line"><span class="number">3</span>: <span class="number">0</span></span><br><span class="line"><span class="number">4</span>: <span class="number">0</span></span><br><span class="line"><span class="number">5</span>: <span class="number">0</span></span><br><span class="line"><span class="number">6</span>: <span class="number">0</span></span><br><span class="line"><span class="number">7</span>: <span class="number">0</span></span><br><span class="line"><span class="number">8</span>: <span class="number">0</span></span><br><span class="line"><span class="number">9</span>: <span class="number">0</span></span><br><span class="line">消费者线程 <span class="number">7</span> 工作</span><br><span class="line">正在消费产品 <span class="number">5</span></span><br><span class="line">生产线程 <span class="number">5</span> 工作中</span><br><span class="line">Produce the <span class="number">6</span> product to buffer.</span><br><span class="line"><span class="number">0</span>: <span class="number">6</span> &lt;- 下一个可取出产品消费的地方</span><br><span class="line"><span class="number">1</span>: <span class="number">0</span> &lt;- 可放下一个产品的位置</span><br><span class="line"><span class="number">2</span>: <span class="number">0</span></span><br><span class="line"><span class="number">3</span>: <span class="number">0</span></span><br><span class="line"><span class="number">4</span>: <span class="number">0</span></span><br><span class="line"><span class="number">5</span>: <span class="number">0</span></span><br><span class="line"><span class="number">6</span>: <span class="number">0</span></span><br><span class="line"><span class="number">7</span>: <span class="number">0</span></span><br><span class="line"><span class="number">8</span>: <span class="number">0</span></span><br><span class="line"><span class="number">9</span>: <span class="number">0</span></span><br><span class="line">生产线程 <span class="number">4</span> 工作中</span><br><span class="line">Produce the <span class="number">7</span> product to buffer.</span><br><span class="line"><span class="number">0</span>: <span class="number">6</span> &lt;- 下一个可取出产品消费的地方</span><br><span class="line"><span class="number">1</span>: <span class="number">7</span></span><br><span class="line"><span class="number">2</span>: <span class="number">0</span> &lt;- 可放下一个产品的位置</span><br><span class="line"><span class="number">3</span>: <span class="number">0</span></span><br><span class="line"><span class="number">4</span>: <span class="number">0</span></span><br><span class="line"><span class="number">5</span>: <span class="number">0</span></span><br><span class="line"><span class="number">6</span>: <span class="number">0</span></span><br><span class="line"><span class="number">7</span>: <span class="number">0</span></span><br><span class="line"><span class="number">8</span>: <span class="number">0</span></span><br><span class="line"><span class="number">9</span>: <span class="number">0</span></span><br><span class="line">消费者线程 <span class="number">7</span> 工作</span><br><span class="line">正在消费产品 <span class="number">6</span></span><br><span class="line">消费者线程 <span class="number">7</span> 工作</span><br><span class="line">正在消费产品 <span class="number">7</span></span><br><span class="line">生产线程 <span class="number">6</span> 工作中</span><br><span class="line">Produce the <span class="number">8</span> product to buffer.</span><br><span class="line"><span class="number">0</span>: <span class="number">8</span> &lt;- 下一个可取出产品消费的地方</span><br><span class="line"><span class="number">1</span>: <span class="number">0</span> &lt;- 可放下一个产品的位置</span><br><span class="line"><span class="number">2</span>: <span class="number">0</span></span><br><span class="line"><span class="number">3</span>: <span class="number">0</span></span><br><span class="line"><span class="number">4</span>: <span class="number">0</span></span><br><span class="line"><span class="number">5</span>: <span class="number">0</span></span><br><span class="line"><span class="number">6</span>: <span class="number">0</span></span><br><span class="line"><span class="number">7</span>: <span class="number">0</span></span><br><span class="line"><span class="number">8</span>: <span class="number">0</span></span><br><span class="line"><span class="number">9</span>: <span class="number">0</span></span><br><span class="line">生产线程 <span class="number">5</span> 工作中</span><br><span class="line">Produce the <span class="number">9</span> product to buffer.</span><br><span class="line"><span class="number">0</span>: <span class="number">8</span> &lt;- 下一个可取出产品消费的地方</span><br><span class="line"><span class="number">1</span>: <span class="number">9</span></span><br><span class="line"><span class="number">2</span>: <span class="number">0</span> &lt;- 可放下一个产品的位置</span><br><span class="line"><span class="number">3</span>: <span class="number">0</span></span><br><span class="line"><span class="number">4</span>: <span class="number">0</span></span><br><span class="line"><span class="number">5</span>: <span class="number">0</span></span><br><span class="line"><span class="number">6</span>: <span class="number">0</span></span><br><span class="line"><span class="number">7</span>: <span class="number">0</span></span><br><span class="line"><span class="number">8</span>: <span class="number">0</span></span><br><span class="line"><span class="number">9</span>: <span class="number">0</span></span><br><span class="line">生产线程 <span class="number">4</span> 工作中</span><br><span class="line">Produce the <span class="number">10</span> product to buffer.</span><br><span class="line"><span class="number">0</span>: <span class="number">8</span> &lt;- 下一个可取出产品消费的地方</span><br><span class="line"><span class="number">1</span>: <span class="number">9</span></span><br><span class="line"><span class="number">2</span>: <span class="number">10</span></span><br><span class="line"><span class="number">3</span>: <span class="number">0</span> &lt;- 可放下一个产品的位置</span><br><span class="line"><span class="number">4</span>: <span class="number">0</span></span><br><span class="line"><span class="number">5</span>: <span class="number">0</span></span><br><span class="line"><span class="number">6</span>: <span class="number">0</span></span><br><span class="line"><span class="number">7</span>: <span class="number">0</span></span><br><span class="line"><span class="number">8</span>: <span class="number">0</span></span><br><span class="line"><span class="number">9</span>: <span class="number">0</span></span><br><span class="line">消费者线程 <span class="number">7</span> 工作</span><br><span class="line">正在消费产品 <span class="number">8</span></span><br><span class="line">消费者线程 <span class="number">7</span> 工作</span><br><span class="line">正在消费产品 <span class="number">9</span></span><br><span class="line">消费者线程 <span class="number">7</span> 工作</span><br><span class="line">正在消费产品 <span class="number">10</span></span><br><span class="line">生产线程 <span class="number">6</span> 工作中</span><br><span class="line">Produce the <span class="number">11</span> product to buffer.</span><br><span class="line"><span class="number">0</span>: <span class="number">11</span> &lt;- 下一个可取出产品消费的地方</span><br><span class="line"><span class="number">1</span>: <span class="number">0</span> &lt;- 可放下一个产品的位置</span><br><span class="line"><span class="number">2</span>: <span class="number">0</span></span><br><span class="line"><span class="number">3</span>: <span class="number">0</span></span><br><span class="line"><span class="number">4</span>: <span class="number">0</span></span><br><span class="line"><span class="number">5</span>: <span class="number">0</span></span><br><span class="line"><span class="number">6</span>: <span class="number">0</span></span><br><span class="line"><span class="number">7</span>: <span class="number">0</span></span><br><span class="line"><span class="number">8</span>: <span class="number">0</span></span><br><span class="line"><span class="number">9</span>: <span class="number">0</span></span><br><span class="line">生产线程 <span class="number">4</span> 工作中</span><br><span class="line">Produce the <span class="number">12</span> product to buffer.</span><br><span class="line"><span class="number">0</span>: <span class="number">11</span> &lt;- 下一个可取出产品消费的地方</span><br><span class="line"><span class="number">1</span>: <span class="number">12</span></span><br><span class="line"><span class="number">2</span>: <span class="number">0</span> &lt;- 可放下一个产品的位置</span><br><span class="line"><span class="number">3</span>: <span class="number">0</span></span><br><span class="line"><span class="number">4</span>: <span class="number">0</span></span><br><span class="line"><span class="number">5</span>: <span class="number">0</span></span><br><span class="line"><span class="number">6</span>: <span class="number">0</span></span><br><span class="line"><span class="number">7</span>: <span class="number">0</span></span><br><span class="line"><span class="number">8</span>: <span class="number">0</span></span><br><span class="line"><span class="number">9</span>: <span class="number">0</span></span><br><span class="line">消费者线程 <span class="number">7</span> 工作</span><br><span class="line">正在消费产品 <span class="number">11</span></span><br><span class="line">消费者线程 <span class="number">7</span> 工作</span><br><span class="line">正在消费产品 <span class="number">12</span></span><br><span class="line">生产线程 <span class="number">5</span> 工作中</span><br><span class="line">Produce the <span class="number">13</span> product to buffer.</span><br><span class="line"><span class="number">0</span>: <span class="number">13</span> &lt;- 下一个可取出产品消费的地方</span><br><span class="line"><span class="number">1</span>: <span class="number">0</span> &lt;- 可放下一个产品的位置</span><br><span class="line"><span class="number">2</span>: <span class="number">0</span></span><br><span class="line"><span class="number">3</span>: <span class="number">0</span></span><br><span class="line"><span class="number">4</span>: <span class="number">0</span></span><br><span class="line"><span class="number">5</span>: <span class="number">0</span></span><br><span class="line"><span class="number">6</span>: <span class="number">0</span></span><br><span class="line"><span class="number">7</span>: <span class="number">0</span></span><br><span class="line"><span class="number">8</span>: <span class="number">0</span></span><br><span class="line"><span class="number">9</span>: <span class="number">0</span></span><br><span class="line">生产线程 <span class="number">6</span> 工作中</span><br><span class="line">Produce the <span class="number">14</span> product to buffer.</span><br><span class="line"><span class="number">0</span>: <span class="number">13</span> &lt;- 下一个可取出产品消费的地方</span><br><span class="line"><span class="number">1</span>: <span class="number">14</span></span><br><span class="line"><span class="number">2</span>: <span class="number">0</span> &lt;- 可放下一个产品的位置</span><br><span class="line"><span class="number">3</span>: <span class="number">0</span></span><br><span class="line"><span class="number">4</span>: <span class="number">0</span></span><br><span class="line"><span class="number">5</span>: <span class="number">0</span></span><br><span class="line"><span class="number">6</span>: <span class="number">0</span></span><br><span class="line"><span class="number">7</span>: <span class="number">0</span></span><br><span class="line"><span class="number">8</span>: <span class="number">0</span></span><br><span class="line"><span class="number">9</span>: <span class="number">0</span></span><br><span class="line">生产线程 <span class="number">4</span> 工作中</span><br><span class="line">Produce the <span class="number">15</span> product to buffer.</span><br><span class="line"><span class="number">0</span>: <span class="number">13</span> &lt;- 下一个可取出产品消费的地方</span><br><span class="line"><span class="number">1</span>: <span class="number">14</span></span><br><span class="line"><span class="number">2</span>: <span class="number">15</span></span><br><span class="line"><span class="number">3</span>: <span class="number">0</span> &lt;- 可放下一个产品的位置</span><br><span class="line"><span class="number">4</span>: <span class="number">0</span></span><br><span class="line"><span class="number">5</span>: <span class="number">0</span></span><br><span class="line"><span class="number">6</span>: <span class="number">0</span></span><br><span class="line"><span class="number">7</span>: <span class="number">0</span></span><br><span class="line"><span class="number">8</span>: <span class="number">0</span></span><br><span class="line"><span class="number">9</span>: <span class="number">0</span></span><br><span class="line">消费者线程 <span class="number">7</span> 工作</span><br><span class="line">正在消费产品 <span class="number">13</span></span><br><span class="line">消费者线程 <span class="number">7</span> 工作</span><br><span class="line">正在消费产品 <span class="number">14</span></span><br><span class="line">消费者线程 <span class="number">7</span> 工作</span><br><span class="line">正在消费产品 <span class="number">15</span></span><br><span class="line">生产线程 <span class="number">5</span> 工作中</span><br><span class="line">Produce the <span class="number">16</span> product to buffer.</span><br><span class="line"><span class="number">0</span>: <span class="number">16</span> &lt;- 下一个可取出产品消费的地方</span><br><span class="line"><span class="number">1</span>: <span class="number">0</span> &lt;- 可放下一个产品的位置</span><br><span class="line"><span class="number">2</span>: <span class="number">0</span></span><br><span class="line"><span class="number">3</span>: <span class="number">0</span></span><br><span class="line"><span class="number">4</span>: <span class="number">0</span></span><br><span class="line"><span class="number">5</span>: <span class="number">0</span></span><br><span class="line"><span class="number">6</span>: <span class="number">0</span></span><br><span class="line"><span class="number">7</span>: <span class="number">0</span></span><br><span class="line"><span class="number">8</span>: <span class="number">0</span></span><br><span class="line"><span class="number">9</span>: <span class="number">0</span></span><br><span class="line">生产线程 <span class="number">6</span> 工作中</span><br><span class="line">Produce the <span class="number">17</span> product to buffer.</span><br><span class="line"><span class="number">0</span>: <span class="number">16</span> &lt;- 下一个可取出产品消费的地方</span><br><span class="line"><span class="number">1</span>: <span class="number">17</span></span><br><span class="line"><span class="number">2</span>: <span class="number">0</span> &lt;- 可放下一个产品的位置</span><br><span class="line"><span class="number">3</span>: <span class="number">0</span></span><br><span class="line"><span class="number">4</span>: <span class="number">0</span></span><br><span class="line"><span class="number">5</span>: <span class="number">0</span></span><br><span class="line"><span class="number">6</span>: <span class="number">0</span></span><br><span class="line"><span class="number">7</span>: <span class="number">0</span></span><br><span class="line"><span class="number">8</span>: <span class="number">0</span></span><br><span class="line"><span class="number">9</span>: <span class="number">0</span></span><br><span class="line">生产线程 <span class="number">4</span> 工作中</span><br><span class="line">Produce the <span class="number">18</span> product to buffer.</span><br><span class="line"><span class="number">0</span>: <span class="number">16</span> &lt;- 下一个可取出产品消费的地方</span><br><span class="line"><span class="number">1</span>: <span class="number">17</span></span><br><span class="line"><span class="number">2</span>: <span class="number">18</span></span><br><span class="line"><span class="number">3</span>: <span class="number">0</span> &lt;- 可放下一个产品的位置</span><br><span class="line"><span class="number">4</span>: <span class="number">0</span></span><br><span class="line"><span class="number">5</span>: <span class="number">0</span></span><br><span class="line"><span class="number">6</span>: <span class="number">0</span></span><br><span class="line"><span class="number">7</span>: <span class="number">0</span></span><br><span class="line"><span class="number">8</span>: <span class="number">0</span></span><br><span class="line"><span class="number">9</span>: <span class="number">0</span></span><br><span class="line">消费者线程 <span class="number">7</span> 工作</span><br><span class="line">正在消费产品 <span class="number">16</span></span><br><span class="line">消费者线程 <span class="number">7</span> 工作</span><br><span class="line">正在消费产品 <span class="number">17</span></span><br><span class="line">消费者线程 <span class="number">7</span> 工作</span><br><span class="line">正在消费产品 <span class="number">18</span></span><br><span class="line">生产线程 <span class="number">5</span> 工作中</span><br><span class="line">Produce the <span class="number">19</span> product to buffer.</span><br><span class="line"><span class="number">0</span>: <span class="number">19</span> &lt;- 下一个可取出产品消费的地方</span><br><span class="line"><span class="number">1</span>: <span class="number">0</span> &lt;- 可放下一个产品的位置</span><br><span class="line"><span class="number">2</span>: <span class="number">0</span></span><br><span class="line"><span class="number">3</span>: <span class="number">0</span></span><br><span class="line"><span class="number">4</span>: <span class="number">0</span></span><br><span class="line"><span class="number">5</span>: <span class="number">0</span></span><br><span class="line"><span class="number">6</span>: <span class="number">0</span></span><br><span class="line"><span class="number">7</span>: <span class="number">0</span></span><br><span class="line"><span class="number">8</span>: <span class="number">0</span></span><br><span class="line"><span class="number">9</span>: <span class="number">0</span></span><br><span class="line">生产线程 <span class="number">4</span> 工作中</span><br><span class="line">Produce the <span class="number">20</span> product to buffer.</span><br><span class="line"><span class="number">0</span>: <span class="number">19</span> &lt;- 下一个可取出产品消费的地方</span><br><span class="line"><span class="number">1</span>: <span class="number">20</span></span><br><span class="line"><span class="number">2</span>: <span class="number">0</span> &lt;- 可放下一个产品的位置</span><br><span class="line"><span class="number">3</span>: <span class="number">0</span></span><br><span class="line"><span class="number">4</span>: <span class="number">0</span></span><br><span class="line"><span class="number">5</span>: <span class="number">0</span></span><br><span class="line"><span class="number">6</span>: <span class="number">0</span></span><br><span class="line"><span class="number">7</span>: <span class="number">0</span></span><br><span class="line"><span class="number">8</span>: <span class="number">0</span></span><br><span class="line"><span class="number">9</span>: <span class="number">0</span></span><br><span class="line">消费者线程 <span class="number">7</span> 工作</span><br><span class="line">正在消费产品 <span class="number">19</span></span><br><span class="line">消费者线程 <span class="number">7</span> 工作</span><br><span class="line">正在消费产品 <span class="number">20</span></span><br><span class="line">生产线程 <span class="number">5</span> 工作中</span><br><span class="line">Produce the <span class="number">21</span> product to buffer.</span><br><span class="line"><span class="number">0</span>: <span class="number">21</span> &lt;- 下一个可取出产品消费的地方</span><br><span class="line"><span class="number">1</span>: <span class="number">0</span> &lt;- 可放下一个产品的位置</span><br><span class="line"><span class="number">2</span>: <span class="number">0</span></span><br><span class="line"><span class="number">3</span>: <span class="number">0</span></span><br><span class="line"><span class="number">4</span>: <span class="number">0</span></span><br><span class="line"><span class="number">5</span>: <span class="number">0</span></span><br><span class="line"><span class="number">6</span>: <span class="number">0</span></span><br><span class="line"><span class="number">7</span>: <span class="number">0</span></span><br><span class="line"><span class="number">8</span>: <span class="number">0</span></span><br><span class="line"><span class="number">9</span>: <span class="number">0</span></span><br><span class="line">生产线程 <span class="number">4</span> 工作中</span><br><span class="line">Produce the <span class="number">22</span> product to buffer.</span><br><span class="line"><span class="number">0</span>: <span class="number">21</span> &lt;- 下一个可取出产品消费的地方</span><br><span class="line"><span class="number">1</span>: <span class="number">22</span></span><br><span class="line"><span class="number">2</span>: <span class="number">0</span> &lt;- 可放下一个产品的位置</span><br><span class="line"><span class="number">3</span>: <span class="number">0</span></span><br><span class="line"><span class="number">4</span>: <span class="number">0</span></span><br><span class="line"><span class="number">5</span>: <span class="number">0</span></span><br><span class="line"><span class="number">6</span>: <span class="number">0</span></span><br><span class="line"><span class="number">7</span>: <span class="number">0</span></span><br><span class="line"><span class="number">8</span>: <span class="number">0</span></span><br><span class="line"><span class="number">9</span>: <span class="number">0</span></span><br><span class="line">消费者线程 <span class="number">7</span> 工作</span><br><span class="line">正在消费产品 <span class="number">21</span></span><br><span class="line">生产线程 <span class="number">6</span> 工作中</span><br><span class="line">Produce the <span class="number">23</span> product to buffer.</span><br><span class="line"><span class="number">0</span>: <span class="number">23</span> &lt;- 下一个可取出产品消费的地方</span><br><span class="line"><span class="number">1</span>: <span class="number">22</span></span><br><span class="line"><span class="number">2</span>: <span class="number">0</span> &lt;- 可放下一个产品的位置</span><br><span class="line"><span class="number">3</span>: <span class="number">0</span></span><br><span class="line"><span class="number">4</span>: <span class="number">0</span></span><br><span class="line"><span class="number">5</span>: <span class="number">0</span></span><br><span class="line"><span class="number">6</span>: <span class="number">0</span></span><br><span class="line"><span class="number">7</span>: <span class="number">0</span></span><br><span class="line"><span class="number">8</span>: <span class="number">0</span></span><br><span class="line"><span class="number">9</span>: <span class="number">0</span></span><br></pre></td></tr></table></figure><img src="/posts/3f2fe69037158eb8/8869373-97cc9e458eb48fb3.png" class=""><h2 id="欢迎与我交流"><a href="#欢迎与我交流" class="headerlink" title="欢迎与我交流"></a>欢迎与我交流</h2><ul><li>打代码直播间：<a href="https://live.bilibili.com/11883038" target="_blank" rel="noopener">https://live.bilibili.com/11883038</a></li><li>微信公众号：DealiAxy</li><li>知乎：<a href="https://www.zhihu.com/people/dealiaxy" target="_blank" rel="noopener">https://www.zhihu.com/people/dealiaxy</a></li><li>博客：<a href="https://blog.deali.cn">https://blog.deali.cn</a></li><li>简书：<a href="https://www.jianshu.com/u/965b95853b9f" target="_blank" rel="noopener">https://www.jianshu.com/u/965b95853b9f</a></li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;目的&quot;&gt;&lt;a href=&quot;#目的&quot; class=&quot;headerlink&quot; title=&quot;目的&quot;&gt;&lt;/a&gt;目的&lt;/h2&gt;&lt;p&gt;1． 掌握进程（线程）的同步与互斥。&lt;/p&gt;
&lt;p&gt;2． 掌握生产者消费者问题的实现方法。&lt;/p&gt;
&lt;p&gt;3． 掌握VC的多线程编程方法。&lt;
      
    
    </summary>
    
    
      <category term="编程" scheme="http://blog.deali.cn/categories/%E7%BC%96%E7%A8%8B/"/>
    
    
      <category term="学习" scheme="http://blog.deali.cn/tags/%E5%AD%A6%E4%B9%A0/"/>
    
      <category term="实现" scheme="http://blog.deali.cn/tags/%E5%AE%9E%E7%8E%B0/"/>
    
      <category term="问题" scheme="http://blog.deali.cn/tags/%E9%97%AE%E9%A2%98/"/>
    
      <category term="操作系统" scheme="http://blog.deali.cn/tags/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/"/>
    
      <category term="进程同步" scheme="http://blog.deali.cn/tags/%E8%BF%9B%E7%A8%8B%E5%90%8C%E6%AD%A5/"/>
    
      <category term="互斥" scheme="http://blog.deali.cn/tags/%E4%BA%92%E6%96%A5/"/>
    
      <category term="生产者" scheme="http://blog.deali.cn/tags/%E7%94%9F%E4%BA%A7%E8%80%85/"/>
    
      <category term="消费者" scheme="http://blog.deali.cn/tags/%E6%B6%88%E8%B4%B9%E8%80%85/"/>
    
  </entry>
  
  <entry>
    <title>New-features-in-Linux-Mint-19-Cinnamon</title>
    <link href="http://blog.deali.cn/posts/eb6490ba3f595841.html"/>
    <id>http://blog.deali.cn/posts/eb6490ba3f595841.html</id>
    <published>2020-03-02T02:27:53.000Z</published>
    <updated>2020-03-02T03:23:43.904Z</updated>
    
    <content type="html"><![CDATA[<p>Linux Mint 19 is a long term support release which will be supported until 2023. It comes with updated software and brings refinements and many new features to make your desktop experience more comfortable.</p><p><a href="https://www.linuxmint.com/pictures/screenshots/tara/cinnamon.png" target="_blank" rel="noopener"><img src="/posts/eb6490ba3f595841/8869373-cac561b992295591.png" class=""></a> </p><h2 id="Timeshift"><a href="#Timeshift" class="headerlink" title="Timeshift"></a>Timeshift</h2><p>In Linux Mint 19, the star of the show is Timeshift. Although it was introduced in Linux Mint 18.3 and backported to all Linux Mint releases, it is now at the center of Linux Mint’s update strategy and communication.</p><p>Thanks to Timeshift you can go back in time and restore your computer to the last functional system snapshot. If anything breaks, you can go back to the previous snapshot and it’s as if the problem never happened.</p><p>This greatly simplifies the maintenance of your computer, since you no longer need to worry about potential regressions. In the eventuality of a critical regression, you can restore a snapshot (thus canceling the effects of the regression) and you still have the ability to apply updates selectively (as you did in previous releases).</p><p>Security and stability are of paramount importance. By applying all updates you keep your computer secure and with automated snapshots in place its stability is guaranteed.</p><h2 id="Update-Manager"><a href="#Update-Manager" class="headerlink" title="Update Manager"></a>Update Manager</h2><p>The Update Manager no longer promotes vigilance and selective updates. It relies on Timeshift to guarantee the stability of your system and suggests to apply all available updates.</p><p>If it cannot find your Timeshift configuration, it shows a warning:</p><p><a href="https://www.linuxmint.com/pictures/screenshots/tara/mintupdate.png" target="_blank" rel="noopener"><img src="/posts/eb6490ba3f595841/8869373-6f3afd9ff6c69212.png" class=""></a> </p><p>Updates are sorted by type, with security and kernel updates at the top.</p><p>A new type was introduced for updates originating from 3rd party repositories and/or PPAs. Hovering your mouse cursor over these updates shows their origin in a tooltip.</p><p>In the past automatic updates were reserved to advanced users. It was assumed that if somebody was experienced enough to set a cron job, they would be experienced enough to parse APT logs and work around regressions. Thanks to Timeshift, which makes it easy for anyone to work around regressions by restoring snapshots, automatic updates can now be enabled easily, in the preferences.</p><p><a href="https://www.linuxmint.com/pictures/screenshots/tara/auto.png" target="_blank" rel="noopener"><img src="/posts/eb6490ba3f595841/8869373-035f3a2de064df14.png" class=""></a> </p><p>The mintupdate-tool command was replaced by mintupdate-cli. This new command doesn’t use dconf, it provides better options and it is easier to use in scripts and in the terminal.</p><p>Kernel updates rely on meta-packages rather than manually installing kernel packages. This makes it easier to remove older kernels by using “apt autoremove”.</p><p>Support for “lowlatency” kernels was added.</p><p>The Update Manager switched to symbolic icons to better support dark themes and provides a keyboard shortcuts window in its help menu.</p><h2 id="Welcome-Screen"><a href="#Welcome-Screen" class="headerlink" title="Welcome Screen"></a>Welcome Screen</h2><p>Linux Mint 19 ships with a brand new welcome screen.</p><p><a href="https://www.linuxmint.com/pictures/screenshots/tara/welcome.png" target="_blank" rel="noopener"><img src="/posts/eb6490ba3f595841/8869373-242e92ea663c65df.png" class=""></a> </p><p>The main page is dedicated to welcoming you to your computer and your new operating system.</p><p>The new layout makes it easier to add more information and to guide you through your first steps.</p><p>In addition to the welcome screen, the Linux Mint team worked on improving its <a href="https://linuxmint.com/documentation.php" target="_blank" rel="noopener">documentation</a>. An installation guide, a troubleshooting guide and a translation guide are already available. A security guide and a developer guide are also planned.</p><h2 id="Software-Manager"><a href="#Software-Manager" class="headerlink" title="Software Manager"></a>Software Manager</h2><p>The Software Manager which was revamped and gained Flatpak support in Linux Mint 18.3, received many improvements.</p><p><a href="https://www.linuxmint.com/pictures/screenshots/tara/mintinstall.png" target="_blank" rel="noopener"><img src="/posts/eb6490ba3f595841/8869373-1775691d040a584d.png" class=""></a> </p><p>In the user interface, the layout was refined and transition animations were added.</p><p>The keyboard navigation was reviewed and improved.</p><p>The search is faster, asynchronous and you can now search within categories.</p><p>An internal cache was developed for APT and Flatpak in Linux Mint. This cache provides an abstraction layer, so that applications such as the Software Manager can handle APT and Flatpak the same way, without worrying about their differences. This cache could potentially be used by other applications in the future, such as the menu or the Update Manager.</p><p>Many efforts were made to increase the performance of the cache. This results in the Software Manager launching even faster than before.</p><p>Activity and loading indicators were improved. It is now easier to keep track of background activities.</p><p><a href="https://www.linuxmint.com/pictures/screenshots/tara/tasks.png" target="_blank" rel="noopener"><img src="/posts/eb6490ba3f595841/8869373-77e0ee7a8f5bac99.png" class=""></a> </p><p>Support was added for .flatpakref and .flatpakrepo, so you can click buttons on the Web or share Flatpak installation files to easily install Flatpak applications.</p><p>When available, the Software Manager shows the size and version of Flatpak applications.</p><p>Old screenshots are cleaned up.</p><h2 id="Cinnamon-3-8"><a href="#Cinnamon-3-8" class="headerlink" title="Cinnamon 3.8"></a>Cinnamon 3.8</h2><p>Linux Mint 19 ships with the latest Cinnamon 3.8.</p><p><strong>Faster app-launching:</strong></p><p>Cinnamon 3.8 feels snappier because it is faster and more efficient at launching applications and rendering new windows.</p><p>The development team investigated Cinnamon’s performance and compared with many others.</p><p>Here’s how Cinnamon 3.6 compared to Metacity when launching 200 windows:</p><table><thead><tr><th></th><th>WINDOWS BUILD TIME</th><th>RECOVERY TIME</th></tr></thead><tbody><tr><td>Metacity</td><td>1s</td><td>6s</td></tr><tr><td>Cinnamon</td><td>4s</td><td>22s</td></tr></tbody></table><p>Bottlenecks were identified in some applets and in the window manager. After changes were made to tackle these issues, the numbers went down and Cinnamon is now just as fast as Metacity to build the 200 windows and recover.</p><p>When launching a single application, the difference isn’t as drastic and the original problem isn’t as obvious. This gain in performance is however slightly perceivable and gives an impression of snappiness to the desktop.</p><p>In addition, the team took the opportunity to improve the window animations. Although they’re not responsible for any delay, they also have an impact on comfort and perception. The new animations look cleaner and along with the performance improvements they make Cinnamon feel snappier than before.</p><p><strong>Performance improvements:</strong></p><p>Thanks to improvements in libnemo-extension and the way views are rendered, Nemo is faster at showing directory contents.</p><p>Nemo no longer lags when moving files over USB devices.</p><p>Improvements ported from GNOME reduce the occurrence of full stage redraws in Cinnamon.</p><p><strong>Adjustable maximum sound level:</strong></p><p>The maximum sound volume was currently set to 150%, with the sound settings allowing to go all the way to 150% while the sound applet and media keys only allowed a range of 0 to 100%. Cinnamon now lets you define what the maximum sound volume is, between 0 and 150%, and all sound controls (whether it’s the sound settings, the sound applet or the media keys) now range between 0 and the maximum value you defined.</p><p><a href="https://www.linuxmint.com/pictures/screenshots/tara/sound.png" target="_blank" rel="noopener"><img src="/posts/eb6490ba3f595841/8869373-18324198d6b31249.png" class=""></a> </p><p>This allows you to quickly reach 150% without going into the sound settings, but also to quickly reach any arbitrary value, whatever suits your speakers and your environment, whether that value is higher than 100% for small speakers in loud environments or lower than 100% in quiet environments.</p><p><strong>File search:</strong></p><p>The Nemo search was simplified and is easier to use.</p><p>It’s asynchronous and much faster than before.</p><p><a href="https://www.linuxmint.com/pictures/screenshots/tara/search.png" target="_blank" rel="noopener"><img src="/posts/eb6490ba3f595841/8869373-3ee44d40cfa048b3.png" class=""></a> </p><p>When performing a search you can click the star icon to remember it.</p><p>Right-clicking the star icon gives you access to your previously saved searches.</p><p><strong>Notifications:</strong></p><p>Notifications are smarter. They now have a close button (which unlike the notification itself doesn’t send you towards the source application) and no longer fade-out on mouse-over.</p><p>To avoid notification spam, they’re also limited in number per source and disappear when the application is focused, except for particular applications (Firefox, Chromium..etc) which use multiple tabs and which can send notifications for various internal sources.</p><p>Notifications can now also show at the bottom of the screen.</p><p><strong>Look and feel:</strong></p><p>Symbolic icons give Cinnamon a more modern look and better support for dark themes.</p><p>The coordinates and size of some widgets and components were adjusted to fall on exact pixels (which results in removing a slight blurriness and making them look crisp).</p><p>The quit dialog no longer skips the taskbar.</p><p><strong>Other improvements:</strong></p><p>Rubber-banding, which was previously only available in icon view, is now also available in list view.</p><p>You can now press Super+Alt (or use the right-click option on the Show Desktop applet) to quickly see your desklets, without minimizing your windows. When doing so, desklets move above your windows, until you click anywhere.</p><p>In the sound applet, the microphone and the speakers can now be muted separately. An option was added to choose whether or not to force the aspect-ratio of the album art. Tracks can be changed by scrolling left/right (that option is configurable).</p><p>CJS, the Javascript interpreter, was rebased on GJS 1.50.2 and now depends on mozjs52.</p><p>Support was added for elogind, systemd-timedated1 (which should replace ntp and ntpdate in Linux Mint 19 Cinnamon Edition), and the admin:// protocol.</p><p>Support was improved for GTK 3.22, CSD windows (in particular for their button layout and titlebar click actions) and LibreOffice (in nemo-preview).</p><p>With the exception of Nemo extensions, all Python components were ported to Python3.</p><p>The network settings were backported from GNOME 3.24 and include fixes from GNOME 3.26.</p><p>The region settings now support the ability to show uncommon/exotic keyboard layouts.</p><p>In the power settings, “Shutdown immediately” can now be chosen for closed lid and critical battery power events.</p><p>Cinnamon now activates the touchpad if no other pointing devices are present.</p><p>The screen is now locked synchronously prior to suspend.</p><p>Suspend, Hibernate and Screen rotation keys are now supported when the screen is locked.</p><p>Thumbnails can now be rendered for files as large as 32GB.</p><p>Scale/Overview can now be activated via dbus.</p><p>Xlets can now define column options when using lists, settings with dependencies now use a revealer, dependencies can now be inverted and defined on sections (not just widgets). Simple expressions using boolean operators can be used to compare values. The settings example applet was updated to showcase all these new additions.</p><h2 id="HiDPI"><a href="#HiDPI" class="headerlink" title="HiDPI"></a>HiDPI</h2><p>HiDPI support gets better with every new release.</p><p>All the Linux Mint tools use GTK3 and support HiDPI.</p><p>Mint-Y, the default icon theme, ships with “@2x” icons which look crisp in HiDPI.</p><p>Gksu, which used GTK+, was removed and all the tools which were using it were migrated to pkexec.</p><p>Within the default software selection, only a few remaining applications still lack support for it: Hexchat, Gimp and Tomboy Notes.</p><h2 id="XApps-improvements"><a href="#XApps-improvements" class="headerlink" title="XApps improvements"></a>XApps improvements</h2><p>Xed, the text editor, uses a new preferences window. This type of window is provided by libXapp and could be used by more applications in the future.</p><p><a href="https://www.linuxmint.com/pictures/screenshots/tara/xed.png" target="_blank" rel="noopener"><img src="/posts/eb6490ba3f595841/8869373-30d8d89698e117c3.png" class=""></a> </p><p>The look and feel was refined and adjusted for GTK 3.22.</p><p>A keyboard shortcuts window was added in the help menu.</p><p>A new plugin was added for word auto-completion. This plugin doesn’t use dictionaries but it is able to auto-complete words which are already present in the document.</p><p>The PDF reader, Xreader, also received a libXapp preferences window and support for optional toolbar buttons.</p><p>If you enable the option to “Remember recently accessed files” in your “Privacy” settings, Xreader displays and provides quick access to your recently opened PDF and ePub documents.</p><p><a href="https://www.linuxmint.com/pictures/screenshots/tara/xreader2.png" target="_blank" rel="noopener"><img src="/posts/eb6490ba3f595841/8869373-a8f39df516c5b671.png" class=""></a> </p><p>It is now possible to change the size of the thumbnails and that size is remembered for each document.</p><p><a href="https://www.linuxmint.com/pictures/screenshots/tara/xreader.png" target="_blank" rel="noopener"><img src="/posts/eb6490ba3f595841/8869373-3c860a7be382d677.png" class=""></a> </p><p>Annotations can now be deleted.</p><p>ePub support was improved. Thumbnails were fixed and it is now possible to save ePub documents.</p><p>Support for smooth scrolling was improved.</p><h2 id="Other-improvements"><a href="#Other-improvements" class="headerlink" title="Other improvements"></a>Other improvements</h2><p>The USB stick formatting tool now supports exFat.</p><p>The Software Sources tool is able to show the installed packages from a PPA.</p><p>A new option was added to the login screen to improve multi-monitor support. You can choose among your monitors which one should show the login form (by default the form jumps from one screen to another as you move your mouse cursor between them).</p><p>Starting with version 61, Firefox supports window-progress, so download progress will be visible in your window list.</p><p>GNOME Calendar is installed by default. You can use it as an offline calendar application, or connect it to a Google account to sync with online calendars. This application is also able to show weather forecasts.</p><p><a href="https://www.linuxmint.com/pictures/screenshots/tara/calendar.png" target="_blank" rel="noopener"><img src="/posts/eb6490ba3f595841/8869373-9bcff7ece82c2039.png" class=""></a> </p><p>Gnome-system-logs was replaced by gnome-logs.</p><p><a href="https://www.linuxmint.com/pictures/screenshots/tara/logs.png" target="_blank" rel="noopener"><img src="/posts/eb6490ba3f595841/8869373-0356012beaa4e549.png" class=""></a> </p><p>The multimedia codecs now include the Microsoft fonts.</p><p>All the Mint tools support HiDPI, GTK3 and Python3. Many also transitioned to AptDaemon and pkexec.</p><p>Pidgin was removed from the default software selection. It will continue to be available in the repositories but it is no longer installed by default.</p><p>Ntp and ntpdate were removed. Cinnamon uses systemd to adjust the time.</p><p>The PIA Manager, the set up tool for PIA VPN connections (available in the repositories), now remembers your username, password and gateway settings.</p><p>This release ships with linux-firmware 1.173 and the Linux kernel 4.15.0-20.</p><h2 id="Artwork-improvements"><a href="#Artwork-improvements" class="headerlink" title="Artwork improvements"></a>Artwork improvements</h2><p>Linux Mint 19 features a superb collection of backgrounds from <a href="https://unsplash.com/@aaronphs" target="_blank" rel="noopener">Aaron Thomas</a>, <a href="https://500px.com/bfantinatti" target="_blank" rel="noopener">Bruno Fantinatti</a>, <a href="http://evablue.com/" target="_blank" rel="noopener">Eva Blue</a>, <a href="https://unsplash.com/@emcomeau" target="_blank" rel="noopener">Ezra Comeau-Jeffrey</a>, <a href="http://www.directorjakobowens.com/" target="_blank" rel="noopener">Jakob Owens</a>, <a href="http://jankaluza.com/" target="_blank" rel="noopener">Jan Kaluza</a>, <a href="http://joannakosinska.com/" target="_blank" rel="noopener">Joanna Kosinska</a>, <a href="https://500px.com/jopl" target="_blank" rel="noopener">Johannes Plenio</a>, <a href="https://www.instagram.com/jfvtraining/" target="_blank" rel="noopener">Jonathan Ferland-Valois</a>, <a href="https://dronenr.com/" target="_blank" rel="noopener">Josh Spires</a>, <a href="https://www.withluke.com/" target="_blank" rel="noopener">Luke Stackpoole</a>, <a href="https://unsplash.com/@michasager" target="_blank" rel="noopener">Micha Sager</a>, <a href="https://uhdwallpapers.org/wallpaper/pure-green-grass_65789/" target="_blank" rel="noopener">Monika</a>, <a href="https://www.instagram.com/oskarssylwan" target="_blank" rel="noopener">Oskars Sylwan</a>, <a href="https://www.ourbeautifuladventure.co.uk/" target="_blank" rel="noopener">Rachael Smith</a>, <a href="https://500px.com/sezginmendil" target="_blank" rel="noopener">Sezgin Mendil</a>, <a href="https://www.instagram.com/mrvining" target="_blank" rel="noopener">Tom Vining</a>, <a href="https://videohive.net/user/proskurovskiy" target="_blank" rel="noopener">Vladimir Proskurovskiy</a>, <a href="https://mcmahan.me/" target="_blank" rel="noopener">Will H McMahan</a> and <a href="https://www.instagram.com/will_justen" target="_blank" rel="noopener">Willian Justen de Vasconcellos</a>.</p><p><a href="https://www.linuxmint.com/pictures/screenshots/tara/backgrounds.png" target="_blank" rel="noopener"><img src="/posts/eb6490ba3f595841/8869373-201cee51e3ff1c14.png" class=""></a> </p><p>New Linux Mint backgrounds from Bookwood and Kevin Tee were also added:</p><p><a href="https://www.linuxmint.com/pictures/screenshots/tara/mint_backgrounds.png" target="_blank" rel="noopener"><img src="/posts/eb6490ba3f595841/8869373-16d8f667b6204588.png" class=""></a><br>*<small><strong>New Linux Mint backgrounds</strong></small>*</p><p>The default theme switched to Mint-Y, but Mint-X is still installed by default as an alternative.</p><p>Many news icons were added to the Mint-Y icon theme and the places icons are available in multiple colors.</p><p>To improve look and feel, but also support for HiDPI and dark themes, many of the tools and applications shipped with Linux Mint switched to symbolic icons.</p><h2 id="Main-components"><a href="#Main-components" class="headerlink" title="Main components"></a>Main components</h2><p>Linux Mint 19 features Cinnamon 3.8, a Linux kernel 4.15 and an Ubuntu 18.04 package base.</p><h2 id="LTS-strategy"><a href="#LTS-strategy" class="headerlink" title="LTS strategy"></a>LTS strategy</h2><p>Linux Mint 19 will receive security updates until 2023.</p><p>Until 2020, future versions of Linux Mint will use the same package base as Linux Mint 19, making it trivial for people to upgrade.</p><p>Until 2020, the development team won’t start working on a new base and will be fully focused on this one.</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;Linux Mint 19 is a long term support release which will be supported until 2023. It comes with updated software and brings refinements an
      
    
    </summary>
    
    
      <category term="Linux评测" scheme="http://blog.deali.cn/categories/Linux%E8%AF%84%E6%B5%8B/"/>
    
    
      <category term="Linux" scheme="http://blog.deali.cn/tags/Linux/"/>
    
  </entry>
  
  <entry>
    <title>我最后悔看的电影之一《挪威的森林》</title>
    <link href="http://blog.deali.cn/posts/229c2fc4ae3ac115.html"/>
    <id>http://blog.deali.cn/posts/229c2fc4ae3ac115.html</id>
    <published>2020-03-02T02:27:53.000Z</published>
    <updated>2020-03-02T03:23:43.640Z</updated>
    
    <content type="html"><![CDATA[<p>最近开始金工实习，每天早出晚归超级忙，而且身体还有点不舒服，所以难得有点空闲时间的时候，和我家猪猪看了一下这个电影，全程感觉超级压抑（结果看完就开始发烧），这谁顶得住啊。</p><img src="/posts/229c2fc4ae3ac115/8869373-527bad83fa730b93.png" class=""><p>可能是电影时长太短的缘故，剧情很紧凑，场景的切换很突兀，没读过原著的人可能很难跟得上。</p><p>这电影总的来说，对原著的还原度算挺高的，几个主要角色的代入感都很强，特别是直子，她刚刚出场的时候，还感觉她不如原著描述的漂亮，虽然有几个画面很有日系风的唯美感觉，但是从她眼神可以看出那种深入骨髓无可救药的绝望……</p><p>看下面的照片，直子空洞的眼神，</p><img src="/posts/229c2fc4ae3ac115/8869373-fce5b241b58e2c32.png" class=""><p>如果要找一句话来总结的话，我觉得是【一场失败的自我救赎】，因为这部电影中几乎每个人都在尝试徒劳的自我救赎，从一出场就自杀的木月，深陷抑郁最终自杀的直子，到爱而不得嫁人后又自杀的初美，他们最终都在挣扎中走向绝望，就连屏幕之外的观众，都有一种深深的无力感。</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;最近开始金工实习，每天早出晚归超级忙，而且身体还有点不舒服，所以难得有点空闲时间的时候，和我家猪猪看了一下这个电影，全程感觉超级压抑（结果看完就开始发烧），这谁顶得住啊。&lt;/p&gt;
&lt;img src=&quot;/posts/229c2fc4ae3ac115/8869373-527ba
      
    
    </summary>
    
    
      <category term="评" scheme="http://blog.deali.cn/categories/%E8%AF%84/"/>
    
    
      <category term="挪威" scheme="http://blog.deali.cn/tags/%E6%8C%AA%E5%A8%81/"/>
    
      <category term="后悔" scheme="http://blog.deali.cn/tags/%E5%90%8E%E6%82%94/"/>
    
      <category term="电影" scheme="http://blog.deali.cn/tags/%E7%94%B5%E5%BD%B1/"/>
    
      <category term="森林" scheme="http://blog.deali.cn/tags/%E6%A3%AE%E6%9E%97/"/>
    
  </entry>
  
  <entry>
    <title>关于《VB超简单入门》</title>
    <link href="http://blog.deali.cn/posts/30d4b07bc778c6f9.html"/>
    <id>http://blog.deali.cn/posts/30d4b07bc778c6f9.html</id>
    <published>2020-03-02T02:27:53.000Z</published>
    <updated>2020-03-02T03:23:43.644Z</updated>
    
    <content type="html"><![CDATA[<p>查看全部内容请移步到我博客里的专题：<a href="http://blog.deali.cn/category/book/vb-simpleguide">DealiAxy’s VB-Simple-Guide</a></p><hr><p>有什么问题或者需要交流的同学可以通过微信公众号和我联系。<br>微信公众号：DealiAxy</p><img src="/posts/30d4b07bc778c6f9/8869373-97b21caeb6d8e819.png" class=""><p>博客地址：<a href="http://blog.deali.cn">blog.deali.cn</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;查看全部内容请移步到我博客里的专题：&lt;a href=&quot;http://blog.deali.cn/category/book/vb-simpleguide&quot;&gt;DealiAxy’s VB-Simple-Guide&lt;/a&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;有什么问题或者需要交流的同学可以
      
    
    </summary>
    
    
      <category term="VB入门教程" scheme="http://blog.deali.cn/categories/VB%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B/"/>
    
    
      <category term="B超" scheme="http://blog.deali.cn/tags/B%E8%B6%85/"/>
    
      <category term="入门" scheme="http://blog.deali.cn/tags/%E5%85%A5%E9%97%A8/"/>
    
  </entry>
  
  <entry>
    <title>《PHP-and-MySQL-Web-Development》New-book-bought</title>
    <link href="http://blog.deali.cn/posts/5abf89019f0dd03c.html"/>
    <id>http://blog.deali.cn/posts/5abf89019f0dd03c.html</id>
    <published>2020-03-02T02:27:53.000Z</published>
    <updated>2020-03-02T03:23:43.644Z</updated>
    
    <content type="html"><![CDATA[<h2 id="豆瓣简介"><a href="#豆瓣简介" class="headerlink" title="豆瓣简介"></a>豆瓣简介</h2><p>本书将PHP开发与MySQL应用相结合，分别对PHP和MySQL做了深入浅出的分析，不仅介绍PHP和MySQL的一般概念，而且对PHP和MySQL的Web应用做了较全面的阐述，并包括几个经典且实用的例子。</p><p>本书是第4版，经过了全面的更新、重写和扩展，包括PHP 5.3最新改进的特性（例如，更好的错误和异常处理），MySQL的存储过程和存储引擎，Ajax技术与Web 2.0以及Web应用需要注意的安全问题。</p><h2 id="Review-on-Amazon"><a href="#Review-on-Amazon" class="headerlink" title="Review on Amazon"></a>Review on Amazon</h2><p>PHP and MySQL are popular open-source technologies that are ideal for quickly developing database-driven Web applications. PHP is a powerful scripting language designed to enable developers to create highly featured Web applications quickly, and MySQL is a fast, reliable database that integrates well with PHP and is suited for dynamic Internet-based applications.</p><p>PHP and MySQL Web Development shows how to use these tools together to produce effective, interactive Web applications. It clearly describes the basics of the PHP language, explains how to set up and work with a MySQL database, and then shows how to use PHP to interact with the database and the server.</p><p>This practical, hands-on book consistently focuses on real-world applications, even in the introductory chapters. The authors cover important aspects of security and authentication as they relate to building a real-world website and show you how to implement these aspects in PHP and MySQL. They also introduce you to the integration of front-end and back-end technologies by using JavaScript in your application development.</p><p>The final part of this book describes how to approach real-world projects and takes the reader through the design, planning, and building of several projects, including:</p><ul><li>User authentication and personalization</li><li>Web-based email</li><li>Social media integration</li><li>Shopping cart</li></ul><p>The fifth edition of PHP and MySQL Web Development has been thoroughly updated, revised, and expanded to cover developments in PHP through versions 5.6 and 7, as well as features introduced in recent stable releases of MySQL.</p><h2 id="作者简介"><a href="#作者简介" class="headerlink" title="作者简介"></a>作者简介</h2><p>Laura Thomson是Mozilla公司的高级软件工程师。之前，她是OmniTI公司和Tangled Web Design公司的合伙人。此外，Laura曾经在RMIT大学和波士顿顾问集团工作过。她获得了应用科学（计算机科学）的学士学位和工程学（计算机系统工程）学士学位。在她的空闲时间，她非常喜欢骑马，讨论免费软件和开源软件以及睡觉。</p><p>Luke Welling是OmniTI公司的一位Web架构师，他经常在一些国际会议（例如，OSCON， ZendCon， MySQLUC，HPCon，OSDC以及LinuxTag）中就开源和Web开发的话题发表演讲。</p><h2 id="About-the-authors"><a href="#About-the-authors" class="headerlink" title="About the authors"></a>About the authors</h2><p>Laura Thomson is director of engineering at Mozilla Corporation. She was formerly a principal at both OmniTI and Tangled Web Design, and she has worked for RMIT University and the Boston Consulting Group. She holds a Bachelor of Applied Science (Computer Science) degree and a Bachelor of Engineering (Computer Systems Engineering) degree with honors.</p><p>Luke Welling is a software engineer and regularly speaks on open source and web development topics at conferences such as OSCON, ZendCon, MySQLUC, PHPCon, OSDC, and LinuxTag. He has worked for OmniTI, for the web analytics company Hitwise.com, at the database vendor MySQL AB, and as an independent consultant at Tangled Web Design. He has taught computer science at RMIT University in Melbourne, Australia, and holds a Bachelor of Applied Science (Computer Science) degree.</p><h2 id="放个图片"><a href="#放个图片" class="headerlink" title="放个图片"></a>放个图片</h2><img src="/posts/5abf89019f0dd03c/8869373-bd7af07f023b077e.png" class=""><img src="/posts/5abf89019f0dd03c/8869373-9fac543d552d2700.png" class=""><h2 id="About"><a href="#About" class="headerlink" title="About"></a>About</h2><img src="/posts/5abf89019f0dd03c/8869373-901590e019f6f85b.png" class="">]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;豆瓣简介&quot;&gt;&lt;a href=&quot;#豆瓣简介&quot; class=&quot;headerlink&quot; title=&quot;豆瓣简介&quot;&gt;&lt;/a&gt;豆瓣简介&lt;/h2&gt;&lt;p&gt;本书将PHP开发与MySQL应用相结合，分别对PHP和MySQL做了深入浅出的分析，不仅介绍PHP和MySQL的一般概念，而
      
    
    </summary>
    
    
      <category term="书单" scheme="http://blog.deali.cn/categories/%E4%B9%A6%E5%8D%95/"/>
    
    
      <category term="数据库" scheme="http://blog.deali.cn/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/"/>
    
      <category term="PHP" scheme="http://blog.deali.cn/tags/PHP/"/>
    
      <category term="Web技术" scheme="http://blog.deali.cn/tags/Web%E6%8A%80%E6%9C%AF/"/>
    
  </entry>
  
</feed>
